{"version":3,"file":"module.js","mappings":"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","sources":["webpack:///../node_modules/@grafana/experimental/dist/index.production.js","webpack:///../node_modules/@grafana/experimental/index.js","webpack:///external amd \"@emotion/css\"","webpack:///external amd \"@grafana/data\"","webpack:///external amd \"@grafana/runtime\"","webpack:///external amd \"@grafana/ui\"","webpack:///external amd \"lodash\"","webpack:///external amd \"react\"","webpack:///external amd \"redux\"","webpack:///external amd \"rxjs\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///../node_modules/rxjs/dist/esm5/internal/util/isFunction.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/lift.js","webpack:///../node_modules/tslib/tslib.es6.mjs","webpack:///../node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","webpack:///../node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack:///../node_modules/rxjs/dist/esm5/internal/config.js","webpack:///../node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/noop.js","webpack:///../node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/errorContext.js","webpack:///../node_modules/rxjs/dist/esm5/internal/Subscriber.js","webpack:///../node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","webpack:///../node_modules/rxjs/dist/esm5/internal/operators/map.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js","webpack:///../node_modules/rxjs/dist/esm5/internal/symbol/observable.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/identity.js","webpack:///../node_modules/rxjs/dist/esm5/internal/Observable.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/pipe.js","webpack:///../node_modules/rxjs/dist/esm5/internal/symbol/iterator.js","webpack:///../node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/isPromise.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/isIterable.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/isReadableStreamLike.js","webpack:///../node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js","webpack:///../node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js","webpack:///../node_modules/rxjs/dist/esm5/internal/operators/mergeInternals.js","webpack:///../node_modules/rxjs/dist/esm5/internal/operators/catchError.js","webpack:///./quickwit.ts","webpack:///./QueryBuilder.ts","webpack:///../node_modules/@grafana/schema/dist/esm/common/common.gen.js","webpack:///./components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/utils.ts","webpack:///./components/QueryEditor/MetricAggregationsEditor/aggregations.ts","webpack:///./components/QueryEditor/MetricAggregationsEditor/utils.ts","webpack:///./components/QueryEditor/BucketAggregationsEditor/utils.ts","webpack:///./components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/utils.ts","webpack:///./components/QueryEditor/BucketAggregationsEditor/aggregations.ts","webpack:///./LanguageProvider.ts","webpack:///./utils.ts","webpack:///./datasource.ts","webpack:///./components/Divider.tsx","webpack:///./configuration/DataLink.tsx","webpack:///../node_modules/react-use/esm/usePrevious.js","webpack:///./configuration/DataLinks.tsx","webpack:///./configuration/ConfigEditor.tsx","webpack:///./hooks/useStatelessReducer.ts","webpack:///./queryDef.ts","webpack:///../node_modules/immer/dist/immer.esm.mjs","webpack:///../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js","webpack:///./components/QueryEditor/MetricAggregationsEditor/state/actions.ts","webpack:///./components/QueryEditor/state.ts","webpack:///./components/QueryEditor/BucketAggregationsEditor/state/actions.ts","webpack:///./components/QueryEditor/MetricAggregationsEditor/state/reducer.ts","webpack:///./components/QueryEditor/ElasticsearchQueryContext.tsx","webpack:///./components/QueryEditor/BucketAggregationsEditor/state/reducer.ts","webpack:///./hooks/useNextId.ts","webpack:///./components/IconButton.tsx","webpack:///./components/QueryEditor/QueryEditorRow.tsx","webpack:///./hooks/useFields.ts","webpack:///./components/QueryEditor/styles.ts","webpack:///./components/QueryEditor/SettingsEditorContainer.tsx","webpack:///./components/hooks/useCreatableSelectPersistedBehaviour.ts","webpack:///./components/QueryEditor/BucketAggregationsEditor/SettingsEditor/DateHistogramSettingsEditor.tsx","webpack:///./components/AddRemove.tsx","webpack:///./components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/state/actions.ts","webpack:///./components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/state/reducer.ts","webpack:///./components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/index.tsx","webpack:///./components/QueryEditor/BucketAggregationsEditor/SettingsEditor/TermsSettingsEditor.tsx","webpack:///./components/QueryEditor/BucketAggregationsEditor/SettingsEditor/useDescription.ts","webpack:///./components/QueryEditor/BucketAggregationsEditor/SettingsEditor/index.tsx","webpack:///./components/QueryEditor/BucketAggregationsEditor/BucketAggregationEditor.tsx","webpack:///./components/QueryEditor/BucketAggregationsEditor/index.tsx","webpack:///./components/MetricPicker.tsx","webpack:///./components/QueryEditor/MetricAggregationsEditor/SettingsEditor/SettingField.tsx","webpack:///./components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/state/actions.ts","webpack:///./components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/state/reducer.ts","webpack:///./components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/index.tsx","webpack:///./components/QueryEditor/MetricAggregationsEditor/SettingsEditor/MovingAverageSettingsEditor.tsx","webpack:///./components/QueryEditor/MetricAggregationsEditor/SettingsEditor/TopMetricsSettingsEditor.tsx","webpack:///./components/QueryEditor/MetricAggregationsEditor/SettingsEditor/index.tsx","webpack:///./components/QueryEditor/MetricAggregationsEditor/SettingsEditor/useDescription.ts","webpack:///./components/QueryEditor/MetricAggregationsEditor/MetricEditor.tsx","webpack:///./components/QueryEditor/MetricAggregationsEditor/styles.ts","webpack:///./components/QueryEditor/QueryEditorSpecialMetricRow.tsx","webpack:///./components/QueryEditor/MetricAggregationsEditor/index.tsx","webpack:///./components/QueryEditor/QueryTypeSelector.tsx","webpack:///./components/QueryEditor/index.tsx","webpack:///./module.ts","webpack:///./configuration/utils.ts"],"sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:!0});var e,t,n,o,r,s,i,l,a,u,d=require(\"@grafana/ui\"),p=require(\"react\"),f=(e=p)&&\"object\"==typeof e&&\"default\"in e?e.default:e,c=require(\"@grafana/data\"),g=require(\"@grafana/runtime\"),m=require(\"@emotion/css\"),y=function(){return(y=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function E(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function T(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{a(o.next(e))}catch(e){s(e)}}function l(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}a((o=o.apply(e,t||[])).next())}))}function q(e,t){var n,o,r,s,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},\"function\"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(s){return function(l){return function(s){if(n)throw new TypeError(\"Generator is already executing.\");for(;i;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function h(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function S(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=s.next()).done;)i.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}function A(e,t,n){if(n||2===arguments.length)for(var o,r=0,s=t.length;r<s;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function v(e,t){return Object.defineProperty?Object.defineProperty(e,\"raw\",{value:t}):e.raw=t,e}function R(e,t){var n,o,r,s=null==e?void 0:e.getPreviousNonWhiteSpaceToken(),i=null==e?void 0:e.getPreviousKeyword(),l=null===(r=null==e?void 0:e.getPreviousNonWhiteSpaceToken())||void 0===r?void 0:r.is(exports.TokenType.Operator,\"/\"),a=t.list(),u=[];try{for(var d=h(a),p=d.next();!p.done;p=d.next()){var f=p.value;f.resolve(e,null!=i?i:null,null!=s?s:null,Boolean(l))&&u.push(f.id)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return 0===u.length?[exports.StatementPosition.Unknown]:u}(t=exports.OperatorType||(exports.OperatorType={}))[t.Comparison=0]=\"Comparison\",t[t.Logical=1]=\"Logical\",(n=exports.MacroType||(exports.MacroType={}))[n.Value=0]=\"Value\",n[n.Filter=1]=\"Filter\",n[n.Group=2]=\"Group\",n[n.Column=3]=\"Column\",n[n.Table=4]=\"Table\",(o=exports.TokenType||(exports.TokenType={})).Parenthesis=\"delimiter.parenthesis.sql\",o.Whitespace=\"white.sql\",o.Keyword=\"keyword.sql\",o.Delimiter=\"delimiter.sql\",o.Operator=\"operator.sql\",o.Identifier=\"identifier.sql\",o.IdentifierQuote=\"identifier.quote.sql\",o.Type=\"type.sql\",o.Function=\"predefined.sql\",o.Number=\"number.sql\",o.String=\"string.sql\",o.Variable=\"variable.sql\",(r=exports.StatementPosition||(exports.StatementPosition={})).Unknown=\"unknown\",r.SelectKeyword=\"selectKeyword\",r.WithKeyword=\"withKeyword\",r.AfterSelectKeyword=\"afterSelectKeyword\",r.AfterSelectArguments=\"afterSelectArguments\",r.AfterSelectFuncFirstArgument=\"afterSelectFuncFirstArgument\",r.SelectAlias=\"selectAlias\",r.AfterFromKeyword=\"afterFromKeyword\",r.AfterTable=\"afterTable\",r.SchemaFuncFirstArgument=\"schemaFuncFirstArgument\",r.SchemaFuncExtraArgument=\"schemaFuncExtraArgument\",r.FromKeyword=\"fromKeyword\",r.AfterFrom=\"afterFrom\",r.WhereKeyword=\"whereKeyword\",r.WhereComparisonOperator=\"whereComparisonOperator\",r.WhereValue=\"whereValue\",r.AfterWhereFunctionArgument=\"afterWhereFunctionArgument\",r.AfterGroupByFunctionArgument=\"afterGroupByFunctionArgument\",r.AfterWhereValue=\"afterWhereValue\",r.AfterGroupByKeywords=\"afterGroupByKeywords\",r.AfterGroupBy=\"afterGroupBy\",r.AfterOrderByKeywords=\"afterOrderByKeywords\",r.AfterOrderByFunction=\"afterOrderByFunction\",r.AfterOrderByDirection=\"afterOrderByDirection\",r.AfterIsOperator=\"afterIsOperator\",r.AfterIsNotOperator=\"afterIsNotOperator\",r.AfterSchema=\"afterSchema\",(s=exports.SuggestionKind||(exports.SuggestionKind={})).Schemas=\"schemas\",s.Tables=\"tables\",s.Columns=\"columns\",s.SelectKeyword=\"selectKeyword\",s.WithKeyword=\"withKeyword\",s.FunctionsWithArguments=\"functionsWithArguments\",s.FromKeyword=\"fromKeyword\",s.WhereKeyword=\"whereKeyword\",s.GroupByKeywords=\"groupByKeywords\",s.OrderByKeywords=\"orderByKeywords\",s.FunctionsWithoutArguments=\"functionsWithoutArguments\",s.LimitKeyword=\"limitKeyword\",s.SortOrderDirectionKeyword=\"sortOrderDirectionKeyword\",s.ComparisonOperators=\"comparisonOperators\",s.LogicalOperators=\"logicalOperators\",s.SelectMacro=\"selectMacro\",s.TableMacro=\"tableMacro\",s.FilterMacro=\"filterMacro\",s.GroupMacro=\"groupMacro\",s.BoolValues=\"boolValues\",s.NullValue=\"nullValue\",s.NotKeyword=\"notKeyword\",s.TemplateVariables=\"templateVariables\",s.StarWildCard=\"starWildCard\",(i=exports.CompletionItemPriority||(exports.CompletionItemPriority={})).High=\"a\",i.MediumHigh=\"d\",i.Medium=\"g\",i.MediumLow=\"k\",i.Low=\"q\",(l=exports.CompletionItemKind||(exports.CompletionItemKind={}))[l.Method=0]=\"Method\",l[l.Function=1]=\"Function\",l[l.Constructor=2]=\"Constructor\",l[l.Field=3]=\"Field\",l[l.Variable=4]=\"Variable\",l[l.Class=5]=\"Class\",l[l.Struct=6]=\"Struct\",l[l.Interface=7]=\"Interface\",l[l.Module=8]=\"Module\",l[l.Property=9]=\"Property\",l[l.Event=10]=\"Event\",l[l.Operator=11]=\"Operator\",l[l.Unit=12]=\"Unit\",l[l.Value=13]=\"Value\",l[l.Constant=14]=\"Constant\",l[l.Enum=15]=\"Enum\",l[l.EnumMember=16]=\"EnumMember\",l[l.Keyword=17]=\"Keyword\",l[l.Text=18]=\"Text\",l[l.Color=19]=\"Color\",l[l.File=20]=\"File\",l[l.Reference=21]=\"Reference\",l[l.Customcolor=22]=\"Customcolor\",l[l.Folder=23]=\"Folder\",l[l.TypeParameter=24]=\"TypeParameter\",l[l.User=25]=\"User\",l[l.Issue=26]=\"Issue\",l[l.Snippet=27]=\"Snippet\",(a=exports.CompletionItemInsertTextRule||(exports.CompletionItemInsertTextRule={}))[a.KeepWhitespace=1]=\"KeepWhitespace\",a[a.InsertAsSnippet=4]=\"InsertAsSnippet\",(u=exports.EditorMode||(exports.EditorMode={})).Builder=\"builder\",u.Code=\"code\";var C=function(e,t,n,o,r){return T(void 0,void 0,void 0,(function(){var s,i,l,a,u,d,p,f,c,g,m;return q(this,(function(E){switch(E.label){case 0:s=[],i=(null==t?void 0:t.isWhiteSpace())||(null==t?void 0:t.isParenthesis())||(null==t?void 0:t.isIdentifier())&&t.value.endsWith(\".\"),l=i||!(null==t?void 0:t.range)?e.Range.fromPositions(o.position):null==t?void 0:t.range,E.label=1;case 1:E.trys.push([1,6,7,8]),a=h(A([],S(new Set(n)),!1)),u=a.next(),E.label=2;case 2:return u.done?[3,5]:(d=u.value,(p=r.getIfExists(d))?[4,p.suggestions(y(y({},o),{range:l}),e)]:[3,4]);case 3:f=E.sent(),s=A(A([],S(s),!1),S(f.map((function(e){return function(e,t,n){return void 0===n&&(n={}),y({label:e,insertText:e,kind:exports.CompletionItemKind.Field,sortText:exports.CompletionItemPriority.Medium,range:t},n)}(e.label,l,y({kind:e.kind},e))}))),!1),E.label=4;case 4:return u=a.next(),[3,2];case 5:return[3,8];case 6:return c=E.sent(),g={error:c},[3,8];case 7:try{u&&!u.done&&(m=a.return)&&m.call(a)}finally{if(g)throw g.error}return[7];case 8:return[2,Promise.resolve(s)]}}))}))},I=function(){return[{id:exports.StatementPosition.SelectKeyword,name:exports.StatementPosition.SelectKeyword,kind:[exports.SuggestionKind.SelectKeyword]},{id:exports.StatementPosition.WithKeyword,name:exports.StatementPosition.WithKeyword,kind:[exports.SuggestionKind.WithKeyword]},{id:exports.StatementPosition.AfterSelectKeyword,name:exports.StatementPosition.AfterSelectKeyword,kind:[exports.SuggestionKind.StarWildCard,exports.SuggestionKind.FunctionsWithArguments,exports.SuggestionKind.Columns,exports.SuggestionKind.SelectMacro]},{id:exports.StatementPosition.AfterSelectFuncFirstArgument,name:exports.StatementPosition.AfterSelectFuncFirstArgument,kind:[exports.SuggestionKind.Columns]},{id:exports.StatementPosition.AfterGroupByFunctionArgument,name:exports.StatementPosition.AfterGroupByFunctionArgument,kind:[exports.SuggestionKind.Columns]},{id:exports.StatementPosition.AfterWhereFunctionArgument,name:exports.StatementPosition.AfterWhereFunctionArgument,kind:[exports.SuggestionKind.Columns]},{id:exports.StatementPosition.AfterSelectArguments,name:exports.StatementPosition.AfterSelectArguments,kind:[exports.SuggestionKind.Columns]},{id:exports.StatementPosition.AfterFromKeyword,name:exports.StatementPosition.AfterFromKeyword,kind:[exports.SuggestionKind.Schemas,exports.SuggestionKind.Tables,exports.SuggestionKind.TableMacro]},{id:exports.StatementPosition.AfterSchema,name:exports.StatementPosition.AfterSchema,kind:[exports.SuggestionKind.Tables,exports.SuggestionKind.TableMacro]},{id:exports.StatementPosition.SelectAlias,name:exports.StatementPosition.SelectAlias,kind:[exports.SuggestionKind.Columns,exports.SuggestionKind.FunctionsWithArguments]},{id:exports.StatementPosition.FromKeyword,name:exports.StatementPosition.FromKeyword,kind:[exports.SuggestionKind.FromKeyword]},{id:exports.StatementPosition.AfterFrom,name:exports.StatementPosition.AfterFrom,kind:[exports.SuggestionKind.WhereKeyword,exports.SuggestionKind.GroupByKeywords,exports.SuggestionKind.OrderByKeywords,exports.SuggestionKind.LimitKeyword]},{id:exports.StatementPosition.AfterTable,name:exports.StatementPosition.AfterTable,kind:[exports.SuggestionKind.WhereKeyword,exports.SuggestionKind.GroupByKeywords,exports.SuggestionKind.OrderByKeywords,exports.SuggestionKind.LimitKeyword]},{id:exports.StatementPosition.WhereKeyword,name:exports.StatementPosition.WhereKeyword,kind:[exports.SuggestionKind.Columns,exports.SuggestionKind.FilterMacro,exports.SuggestionKind.TemplateVariables]},{id:exports.StatementPosition.WhereComparisonOperator,name:exports.StatementPosition.WhereComparisonOperator,kind:[exports.SuggestionKind.ComparisonOperators]},{id:exports.StatementPosition.WhereValue,name:exports.StatementPosition.WhereValue,kind:[exports.SuggestionKind.FilterMacro,exports.SuggestionKind.TemplateVariables]},{id:exports.StatementPosition.AfterWhereValue,name:exports.StatementPosition.AfterWhereValue,kind:[exports.SuggestionKind.LogicalOperators,exports.SuggestionKind.GroupByKeywords,exports.SuggestionKind.OrderByKeywords,exports.SuggestionKind.LimitKeyword,exports.SuggestionKind.Columns,exports.SuggestionKind.TemplateVariables]},{id:exports.StatementPosition.AfterGroupByKeywords,name:exports.StatementPosition.AfterGroupByKeywords,kind:[exports.SuggestionKind.GroupMacro,exports.SuggestionKind.Columns]},{id:exports.StatementPosition.AfterGroupBy,name:exports.StatementPosition.AfterGroupBy,kind:[exports.SuggestionKind.OrderByKeywords,exports.SuggestionKind.LimitKeyword]},{id:exports.StatementPosition.AfterOrderByKeywords,name:exports.StatementPosition.AfterOrderByKeywords,kind:[exports.SuggestionKind.Columns]},{id:exports.StatementPosition.AfterOrderByFunction,name:exports.StatementPosition.AfterOrderByFunction,kind:[exports.SuggestionKind.SortOrderDirectionKeyword,exports.SuggestionKind.LimitKeyword]},{id:exports.StatementPosition.AfterOrderByDirection,name:exports.StatementPosition.AfterOrderByDirection,kind:[exports.SuggestionKind.LimitKeyword]},{id:exports.StatementPosition.AfterIsOperator,name:exports.StatementPosition.AfterOrderByDirection,kind:[exports.SuggestionKind.NotKeyword,exports.SuggestionKind.NullValue,exports.SuggestionKind.BoolValues]},{id:exports.StatementPosition.AfterIsNotOperator,name:exports.StatementPosition.AfterOrderByDirection,kind:[exports.SuggestionKind.NullValue,exports.SuggestionKind.BoolValues]}]};var x=function(){function e(e,t,n,o,r){this.type=e,this.value=t,this.range=n,this.previous=o,this.next=r}return e.prototype.isKeyword=function(){return this.type===exports.TokenType.Keyword},e.prototype.isWhiteSpace=function(){return this.type===exports.TokenType.Whitespace},e.prototype.isParenthesis=function(){return this.type===exports.TokenType.Parenthesis},e.prototype.isIdentifier=function(){return this.type===exports.TokenType.Identifier},e.prototype.isString=function(){return this.type===exports.TokenType.String},e.prototype.isNumber=function(){return this.type===exports.TokenType.Number},e.prototype.isDoubleQuotedString=function(){return this.type===exports.TokenType.Type},e.prototype.isVariable=function(){return this.type===exports.TokenType.Variable},e.prototype.isFunction=function(){return this.type===exports.TokenType.Function},e.prototype.isOperator=function(){return this.type===exports.TokenType.Operator},e.prototype.isTemplateVariable=function(){return this.type===exports.TokenType.Variable},e.prototype.is=function(e,t){var n=this.type===e;return void 0!==t?n&&w(e,this,t):n},e.prototype.getPreviousNonWhiteSpaceToken=function(){for(var e=this.previous;null!=e;){if(!e.isWhiteSpace())return e;e=e.previous}return null},e.prototype.getPreviousOfType=function(e,t){for(var n=this.previous;null!=n;){var o=n.type===e;if(void 0!==t?o&&w(e,n,t):o)return n;n=n.previous}return null},e.prototype.getPreviousUntil=function(e,t,n){for(var o=[],r=this.previous;null!=r;)if(t.some((function(e){return e===(null==r?void 0:r.type)})))r=r.previous;else{var s=r.type===e;if(void 0!==n?s&&w(e,r,n):s)return o;r.isWhiteSpace()||o.push(r),r=r.previous}return o},e.prototype.getNextUntil=function(e,t,n){for(var o=[],r=this.next;null!=r;)if(t.some((function(e){return e===(null==r?void 0:r.type)})))r=r.next;else{var s=r.type===e;if(void 0!==n?s&&w(e,r,n):s)return o;r.isWhiteSpace()||o.push(r),r=r.next}return o},e.prototype.getPreviousKeyword=function(){for(var e=this.previous;null!=e;){if(e.isKeyword())return e;e=e.previous}return null},e.prototype.getNextNonWhiteSpaceToken=function(){for(var e=this.next;null!=e;){if(!e.isWhiteSpace())return e;e=e.next}return null},e.prototype.getNextOfType=function(e,t){for(var n=this.next;null!=n;){var o=n.type===e;if(void 0!==t?o&&w(e,n,t):o)return n;n=n.next}return null},e}();function w(e,t,n){return e===exports.TokenType.Keyword||e===exports.TokenType.Operator?t.value.toLowerCase()===n.toString().toLowerCase():t.value===n}function O(e,t,n,o){var r;void 0===o&&(o=\"sql\");for(var s=null,i=null,l=e.editor.tokenize(null!==(r=t.getValue())&&void 0!==r?r:\"\",o),a=0;a<l.length;a++){var u=l[a];if(!u.length&&i){var d={offset:0,type:exports.TokenType.Whitespace,language:o,_tokenBrand:void 0};u.push(d)}for(var p=0;p<u.length;p++){d=u[p];var f=u.length>p+1?u[p+1].offset+1:t.getLineLength(a+1)+1,c={startLineNumber:a+1,startColumn:0===d.offset?0:d.offset+1,endLineNumber:a+1,endColumn:f},g=t.getValueInRange(c),m=new x(d.type,g,c,i,null);e.Range.containsPosition(c,n)&&(s=m),i&&(i.next=m),i=m}}return s}var N,P=\"select\",L=\"from\",b=\"by\",K=\"desc\",k=\"asc\",M=[\"AND\",\"OR\"],F=[\"=\",\"!=\"],D=A([],S(F),!1),B={comments:{lineComment:\"--\",blockComment:[\"/*\",\"*/\"]},brackets:[[\"{\",\"}\"],[\"[\",\"]\"],[\"(\",\")\"]],autoClosingPairs:[{open:\"{\",close:\"}\"},{open:\"[\",close:\"]\"},{open:\"(\",close:\")\"},{open:'\"',close:'\"'},{open:\"'\",close:\"'\"}],surroundingPairs:[{open:\"{\",close:\"}\"},{open:\"[\",close:\"]\"},{open:\"(\",close:\")\"},{open:'\"',close:'\"'},{open:\"'\",close:\"'\"}]},U={defaultToken:\"\",tokenPostfix:\".sql\",ignoreCase:!0,brackets:[{open:\"[\",close:\"]\",token:\"delimiter.square\"},{open:\"(\",close:\")\",token:\"delimiter.parenthesis\"}],keywords:[\"ABORT\",\"ABSOLUTE\",\"ACTION\",\"ADA\",\"ADD\",\"AFTER\",\"ALL\",\"ALLOCATE\",\"ALTER\",\"ALWAYS\",\"ANALYZE\",\"AND\",\"ANY\",\"ARE\",\"AS\",\"ASC\",\"ASSERTION\",\"AT\",\"ATTACH\",\"AUTHORIZATION\",\"AUTOINCREMENT\",\"AVG\",\"BACKUP\",\"BEFORE\",\"BEGIN\",\"BETWEEN\",\"BIT\",\"BIT_LENGTH\",\"BOTH\",\"BREAK\",\"BROWSE\",\"BULK\",\"BY\",\"CASCADE\",\"CASCADED\",\"CASE\",\"CAST\",\"CATALOG\",\"CHAR\",\"CHARACTER\",\"CHARACTER_LENGTH\",\"CHAR_LENGTH\",\"CHECK\",\"CHECKPOINT\",\"CLOSE\",\"CLUSTERED\",\"COALESCE\",\"COLLATE\",\"COLLATION\",\"COLUMN\",\"COMMIT\",\"COMPUTE\",\"CONFLICT\",\"CONNECT\",\"CONNECTION\",\"CONSTRAINT\",\"CONSTRAINTS\",\"CONTAINS\",\"CONTAINSTABLE\",\"CONTINUE\",\"CONVERT\",\"CORRESPONDING\",\"COUNT\",\"CREATE\",\"CROSS\",\"CURRENT\",\"CURRENT_DATE\",\"CURRENT_TIME\",\"CURRENT_TIMESTAMP\",\"CURRENT_USER\",\"CURSOR\",\"DATABASE\",\"DATE\",\"DAY\",\"DBCC\",\"DEALLOCATE\",\"DEC\",\"DECIMAL\",\"DECLARE\",\"DEFAULT\",\"DEFERRABLE\",\"DEFERRED\",\"DELETE\",\"DENY\",\"DESC\",\"DESCRIBE\",\"DESCRIPTOR\",\"DETACH\",\"DIAGNOSTICS\",\"DISCONNECT\",\"DISK\",\"DISTINCT\",\"DISTRIBUTED\",\"DO\",\"DOMAIN\",\"DOUBLE\",\"DROP\",\"DUMP\",\"EACH\",\"ELSE\",\"END\",\"END-EXEC\",\"ERRLVL\",\"ESCAPE\",\"EXCEPT\",\"EXCEPTION\",\"EXCLUDE\",\"EXCLUSIVE\",\"EXEC\",\"EXECUTE\",\"EXISTS\",\"EXIT\",\"EXPLAIN\",\"EXTERNAL\",\"EXTRACT\",\"FAIL\",\"FALSE\",\"FETCH\",\"FILE\",\"FILLFACTOR\",\"FILTER\",\"FIRST\",\"FLOAT\",\"FOLLOWING\",\"FOR\",\"FOREIGN\",\"FORTRAN\",\"FOUND\",\"FREETEXT\",\"FREETEXTTABLE\",\"FROM\",\"FULL\",\"FUNCTION\",\"GENERATED\",\"GET\",\"GLOB\",\"GLOBAL\",\"GO\",\"GOTO\",\"GRANT\",\"GROUP\",\"GROUPS\",\"HAVING\",\"HOLDLOCK\",\"HOUR\",\"IDENTITY\",\"IDENTITYCOL\",\"IDENTITY_INSERT\",\"IF\",\"IGNORE\",\"IMMEDIATE\",\"IN\",\"INCLUDE\",\"INDEX\",\"INDEXED\",\"INDICATOR\",\"INITIALLY\",\"INNER\",\"INPUT\",\"INSENSITIVE\",\"INSERT\",\"INSTEAD\",\"INT\",\"INTEGER\",\"INTERSECT\",\"INTERVAL\",\"INTO\",\"IS\",\"ISNULL\",\"ISOLATION\",\"JOIN\",\"KEY\",\"KILL\",\"LANGUAGE\",\"LAST\",\"LEADING\",\"LEFT\",\"LEVEL\",\"LIKE\",\"LIMIT\",\"LINENO\",\"LOAD\",\"LOCAL\",\"LOWER\",\"MATCH\",\"MATERIALIZED\",\"MAX\",\"MERGE\",\"MIN\",\"MINUTE\",\"MODULE\",\"MONTH\",\"NAMES\",\"NATIONAL\",\"NATURAL\",\"NCHAR\",\"NEXT\",\"NO\",\"NOCHECK\",\"NONCLUSTERED\",\"NONE\",\"NOT\",\"NOTHING\",\"NOTNULL\",\"NULL\",\"NULLIF\",\"NULLS\",\"NUMERIC\",\"OCTET_LENGTH\",\"OF\",\"OFF\",\"OFFSET\",\"OFFSETS\",\"ON\",\"ONLY\",\"OPEN\",\"OPENDATASOURCE\",\"OPENQUERY\",\"OPENROWSET\",\"OPENXML\",\"OPTION\",\"OR\",\"ORDER\",\"OTHERS\",\"OUTER\",\"OUTPUT\",\"OVER\",\"OVERLAPS\",\"PAD\",\"PARTIAL\",\"PARTITION\",\"PASCAL\",\"PERCENT\",\"PIVOT\",\"PLAN\",\"POSITION\",\"PRAGMA\",\"PRECEDING\",\"PRECISION\",\"PREPARE\",\"PRESERVE\",\"PRIMARY\",\"PRINT\",\"PRIOR\",\"PRIVILEGES\",\"PROC\",\"PROCEDURE\",\"PUBLIC\",\"QUERY\",\"RAISE\",\"RAISERROR\",\"RANGE\",\"READ\",\"READTEXT\",\"REAL\",\"RECONFIGURE\",\"RECURSIVE\",\"REFERENCES\",\"REGEXP\",\"REINDEX\",\"RELATIVE\",\"RELEASE\",\"RENAME\",\"REPLACE\",\"REPLICATION\",\"RESTORE\",\"RESTRICT\",\"RETURN\",\"RETURNING\",\"REVERT\",\"REVOKE\",\"RIGHT\",\"ROLLBACK\",\"ROW\",\"ROWCOUNT\",\"ROWGUIDCOL\",\"ROWS\",\"RULE\",\"SAVE\",\"SAVEPOINT\",\"SCHEMA\",\"SCROLL\",\"SECOND\",\"SECTION\",\"SECURITYAUDIT\",\"SELECT\",\"SEMANTICKEYPHRASETABLE\",\"SEMANTICSIMILARITYDETAILSTABLE\",\"SEMANTICSIMILARITYTABLE\",\"SESSION\",\"SESSION_USER\",\"SET\",\"SETUSER\",\"SHUTDOWN\",\"SIZE\",\"SMALLINT\",\"SOME\",\"SPACE\",\"SQL\",\"SQLCA\",\"SQLCODE\",\"SQLERROR\",\"SQLSTATE\",\"SQLWARNING\",\"STATISTICS\",\"SUBSTRING\",\"SUM\",\"SYSTEM_USER\",\"TABLE\",\"TABLESAMPLE\",\"TEMP\",\"TEMPORARY\",\"TEXTSIZE\",\"THEN\",\"TIES\",\"TIME\",\"TIMESTAMP\",\"TIMEZONE_HOUR\",\"TIMEZONE_MINUTE\",\"TO\",\"TOP\",\"TRAILING\",\"TRAN\",\"TRANSACTION\",\"TRANSLATE\",\"TRANSLATION\",\"TRIGGER\",\"TRIM\",\"TRUE\",\"TRUNCATE\",\"TRY_CONVERT\",\"TSEQUAL\",\"UNBOUNDED\",\"UNION\",\"UNIQUE\",\"UNKNOWN\",\"UNPIVOT\",\"UPDATE\",\"UPDATETEXT\",\"UPPER\",\"USAGE\",\"USE\",\"USER\",\"USING\",\"VACUUM\",\"VALUE\",\"VALUES\",\"VARCHAR\",\"VARYING\",\"VIEW\",\"VIRTUAL\",\"WAITFOR\",\"WHEN\",\"WHENEVER\",\"WHERE\",\"WHILE\",\"WINDOW\",\"WITH\",\"WITHIN GROUP\",\"WITHOUT\",\"WORK\",\"WRITE\",\"WRITETEXT\",\"YEAR\",\"ZONE\"],operators:[\"EXCEPT\",\"INTERSECT\",\"UNION\",\"APPLY\",\"CROSS\",\"FULL\",\"INNER\",\"JOIN\",\"LEFT\",\"OUTER\",\"RIGHT\",\"CONTAINS\",\"FREETEXT\",\"IS\",\"NULL\",\"PIVOT\",\"UNPIVOT\",\"MATCHED\"],logicalOperators:[\"ALL\",\"AND\",\"ANY\",\"BETWEEN\",\"EXISTS\",\"IN\",\"LIKE\",\"NOT\",\"OR\",\"SOME\"],comparisonOperators:[\"<>\",\">\",\"<\",\">=\",\"<=\",\"=\",\"!=\",\"&\",\"~\",\"^\",\"%\"],builtinFunctions:[\"AVG\",\"CHECKSUM_AGG\",\"COUNT\",\"COUNT_BIG\",\"GROUPING\",\"GROUPING_ID\",\"MAX\",\"MIN\",\"SUM\",\"STDEV\",\"STDEVP\",\"VAR\",\"VARP\",\"CUME_DIST\",\"FIRST_VALUE\",\"LAG\",\"LAST_VALUE\",\"LEAD\",\"PERCENTILE_CONT\",\"PERCENTILE_DISC\",\"PERCENT_RANK\",\"COLLATE\",\"COLLATIONPROPERTY\",\"TERTIARY_WEIGHTS\",\"FEDERATION_FILTERING_VALUE\",\"CAST\",\"CONVERT\",\"PARSE\",\"TRY_CAST\",\"TRY_CONVERT\",\"TRY_PARSE\",\"ASYMKEY_ID\",\"ASYMKEYPROPERTY\",\"CERTPROPERTY\",\"CERT_ID\",\"CRYPT_GEN_RANDOM\",\"DECRYPTBYASYMKEY\",\"DECRYPTBYCERT\",\"DECRYPTBYKEY\",\"DECRYPTBYKEYAUTOASYMKEY\",\"DECRYPTBYKEYAUTOCERT\",\"DECRYPTBYPASSPHRASE\",\"ENCRYPTBYASYMKEY\",\"ENCRYPTBYCERT\",\"ENCRYPTBYKEY\",\"ENCRYPTBYPASSPHRASE\",\"HASHBYTES\",\"IS_OBJECTSIGNED\",\"KEY_GUID\",\"KEY_ID\",\"KEY_NAME\",\"SIGNBYASYMKEY\",\"SIGNBYCERT\",\"SYMKEYPROPERTY\",\"VERIFYSIGNEDBYCERT\",\"VERIFYSIGNEDBYASYMKEY\",\"CURSOR_STATUS\",\"DATALENGTH\",\"IDENT_CURRENT\",\"IDENT_INCR\",\"IDENT_SEED\",\"IDENTITY\",\"SQL_VARIANT_PROPERTY\",\"CURRENT_TIMESTAMP\",\"DATEADD\",\"DATEDIFF\",\"DATEFROMPARTS\",\"DATENAME\",\"DATEPART\",\"DATETIME2FROMPARTS\",\"DATETIMEFROMPARTS\",\"DATETIMEOFFSETFROMPARTS\",\"DAY\",\"EOMONTH\",\"GETDATE\",\"GETUTCDATE\",\"ISDATE\",\"MONTH\",\"SMALLDATETIMEFROMPARTS\",\"SWITCHOFFSET\",\"SYSDATETIME\",\"SYSDATETIMEOFFSET\",\"SYSUTCDATETIME\",\"TIMEFROMPARTS\",\"TODATETIMEOFFSET\",\"YEAR\",\"CHOOSE\",\"COALESCE\",\"IIF\",\"NULLIF\",\"ABS\",\"ACOS\",\"ASIN\",\"ATAN\",\"ATN2\",\"CEILING\",\"COS\",\"COT\",\"DEGREES\",\"EXP\",\"FLOOR\",\"LOG\",\"LOG10\",\"PI\",\"POWER\",\"RADIANS\",\"RAND\",\"ROUND\",\"SIGN\",\"SIN\",\"SQRT\",\"SQUARE\",\"TAN\",\"APP_NAME\",\"APPLOCK_MODE\",\"APPLOCK_TEST\",\"ASSEMBLYPROPERTY\",\"COL_LENGTH\",\"COL_NAME\",\"COLUMNPROPERTY\",\"DATABASE_PRINCIPAL_ID\",\"DATABASEPROPERTYEX\",\"DB_ID\",\"DB_NAME\",\"FILE_ID\",\"FILE_IDEX\",\"FILE_NAME\",\"FILEGROUP_ID\",\"FILEGROUP_NAME\",\"FILEGROUPPROPERTY\",\"FILEPROPERTY\",\"FULLTEXTCATALOGPROPERTY\",\"FULLTEXTSERVICEPROPERTY\",\"INDEX_COL\",\"INDEXKEY_PROPERTY\",\"INDEXPROPERTY\",\"OBJECT_DEFINITION\",\"OBJECT_ID\",\"OBJECT_NAME\",\"OBJECT_SCHEMA_NAME\",\"OBJECTPROPERTY\",\"OBJECTPROPERTYEX\",\"ORIGINAL_DB_NAME\",\"PARSENAME\",\"SCHEMA_ID\",\"SCHEMA_NAME\",\"SCOPE_IDENTITY\",\"SERVERPROPERTY\",\"STATS_DATE\",\"TYPE_ID\",\"TYPE_NAME\",\"TYPEPROPERTY\",\"DENSE_RANK\",\"NTILE\",\"RANK\",\"ROW_NUMBER\",\"PUBLISHINGSERVERNAME\",\"OPENDATASOURCE\",\"OPENQUERY\",\"OPENROWSET\",\"OPENXML\",\"CERTENCODED\",\"CERTPRIVATEKEY\",\"CURRENT_USER\",\"HAS_DBACCESS\",\"HAS_PERMS_BY_NAME\",\"IS_MEMBER\",\"IS_ROLEMEMBER\",\"IS_SRVROLEMEMBER\",\"LOGINPROPERTY\",\"ORIGINAL_LOGIN\",\"PERMISSIONS\",\"PWDENCRYPT\",\"PWDCOMPARE\",\"SESSION_USER\",\"SESSIONPROPERTY\",\"SUSER_ID\",\"SUSER_NAME\",\"SUSER_SID\",\"SUSER_SNAME\",\"SYSTEM_USER\",\"USER\",\"USER_ID\",\"USER_NAME\",\"ASCII\",\"CHAR\",\"CHARINDEX\",\"CONCAT\",\"DIFFERENCE\",\"FORMAT\",\"LEFT\",\"LEN\",\"LOWER\",\"LTRIM\",\"NCHAR\",\"PATINDEX\",\"QUOTENAME\",\"REPLACE\",\"REPLICATE\",\"REVERSE\",\"RIGHT\",\"RTRIM\",\"SOUNDEX\",\"SPACE\",\"STR\",\"STUFF\",\"SUBSTRING\",\"UNICODE\",\"UPPER\",\"BINARY_CHECKSUM\",\"CHECKSUM\",\"CONNECTIONPROPERTY\",\"CONTEXT_INFO\",\"CURRENT_REQUEST_ID\",\"ERROR_LINE\",\"ERROR_NUMBER\",\"ERROR_MESSAGE\",\"ERROR_PROCEDURE\",\"ERROR_SEVERITY\",\"ERROR_STATE\",\"FORMATMESSAGE\",\"GETANSINULL\",\"GET_FILESTREAM_TRANSACTION_CONTEXT\",\"HOST_ID\",\"HOST_NAME\",\"ISNULL\",\"ISNUMERIC\",\"MIN_ACTIVE_ROWVERSION\",\"NEWID\",\"NEWSEQUENTIALID\",\"ROWCOUNT_BIG\",\"XACT_STATE\",\"TEXTPTR\",\"TEXTVALID\",\"COLUMNS_UPDATED\",\"EVENTDATA\",\"TRIGGER_NESTLEVEL\",\"UPDATE\",\"CHANGETABLE\",\"CHANGE_TRACKING_CONTEXT\",\"CHANGE_TRACKING_CURRENT_VERSION\",\"CHANGE_TRACKING_IS_COLUMN_IN_MASK\",\"CHANGE_TRACKING_MIN_VALID_VERSION\",\"CONTAINSTABLE\",\"FREETEXTTABLE\",\"SEMANTICKEYPHRASETABLE\",\"SEMANTICSIMILARITYDETAILSTABLE\",\"SEMANTICSIMILARITYTABLE\",\"FILETABLEROOTPATH\",\"GETFILENAMESPACEPATH\",\"GETPATHLOCATOR\",\"PATHNAME\",\"GET_TRANSMISSION_STATUS\"],builtinVariables:[\"@@DATEFIRST\",\"@@DBTS\",\"@@LANGID\",\"@@LANGUAGE\",\"@@LOCK_TIMEOUT\",\"@@MAX_CONNECTIONS\",\"@@MAX_PRECISION\",\"@@NESTLEVEL\",\"@@OPTIONS\",\"@@REMSERVER\",\"@@SERVERNAME\",\"@@SERVICENAME\",\"@@SPID\",\"@@TEXTSIZE\",\"@@VERSION\",\"@@CURSOR_ROWS\",\"@@FETCH_STATUS\",\"@@DATEFIRST\",\"@@PROCID\",\"@@ERROR\",\"@@IDENTITY\",\"@@ROWCOUNT\",\"@@TRANCOUNT\",\"@@CONNECTIONS\",\"@@CPU_BUSY\",\"@@IDLE\",\"@@IO_BUSY\",\"@@PACKET_ERRORS\",\"@@PACK_RECEIVED\",\"@@PACK_SENT\",\"@@TIMETICKS\",\"@@TOTAL_ERRORS\",\"@@TOTAL_READ\",\"@@TOTAL_WRITE\"],pseudoColumns:[\"$ACTION\",\"$IDENTITY\",\"$ROWGUID\",\"$PARTITION\"],tokenizer:{root:[{include:\"@templateVariables\"},{include:\"@macros\"},{include:\"@comments\"},{include:\"@whitespace\"},{include:\"@pseudoColumns\"},{include:\"@numbers\"},{include:\"@strings\"},{include:\"@complexIdentifiers\"},{include:\"@scopes\"},{include:\"@schemaTable\"},[/[;,.]/,\"delimiter\"],[/[()]/,\"@brackets\"],[/[\\w@#$|<|>|=|!|%|&|+|\\|-|*|/|~|^]+/,{cases:{\"@operators\":\"operator\",\"@comparisonOperators\":\"operator\",\"@logicalOperators\":\"operator\",\"@builtinVariables\":\"predefined\",\"@builtinFunctions\":\"predefined\",\"@keywords\":\"keyword\",\"@default\":\"identifier\"}}]],templateVariables:[[/\\$[a-zA-Z0-9]+/,\"variable\"]],macros:[[/\\$__[a-zA-Z0-9-_]+/,\"type\"]],schemaTable:[[/(\\w+)\\./,\"identifier\"],[/(\\w+\\.\\w+)/,\"identifier\"]],whitespace:[[/\\s+/,\"white\"]],comments:[[/--+.*/,\"comment\"],[/\\/\\*/,{token:\"comment.quote\",next:\"@comment\"}]],comment:[[/[^*/]+/,\"comment\"],[/\\*\\//,{token:\"comment.quote\",next:\"@pop\"}],[/./,\"comment\"]],pseudoColumns:[[/[$][A-Za-z_][\\w@#$]*/,{cases:{\"@pseudoColumns\":\"predefined\",\"@default\":\"identifier\"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,\"number\"],[/[$][+-]*\\d*(\\.\\d*)?/,\"number\"],[/((\\d+(\\.\\d*)?)|(\\.\\d+))([eE][\\-+]?\\d+)?/,\"number\"]],strings:[[/N'/,{token:\"string\",next:\"@string\"}],[/'/,{token:\"string\",next:\"@string\"}]],string:[[/[^']+/,\"string\"],[/''/,\"string\"],[/'/,{token:\"string\",next:\"@pop\"}]],complexIdentifiers:[[/\\[/,{token:\"identifier.quote\",next:\"@bracketedIdentifier\"}],[/\"/,{token:\"identifier.quote\",next:\"@quotedIdentifier\"}]],bracketedIdentifier:[[/[^\\]]+/,\"identifier\"],[/]]/,\"identifier\"],[/]/,{token:\"identifier.quote\",next:\"@pop\"}]],quotedIdentifier:[[/[^\"]+/,\"identifier\"],[/\"\"/,\"identifier\"],[/\"/,{token:\"identifier.quote\",next:\"@pop\"}]],scopes:[[/BEGIN\\s+(DISTRIBUTED\\s+)?TRAN(SACTION)?\\b/i,\"keyword\"],[/BEGIN\\s+TRY\\b/i,{token:\"keyword.try\"}],[/END\\s+TRY\\b/i,{token:\"keyword.try\"}],[/BEGIN\\s+CATCH\\b/i,{token:\"keyword.catch\"}],[/END\\s+CATCH\\b/i,{token:\"keyword.catch\"}],[/(BEGIN|CASE)\\b/i,{token:\"keyword.block\"}],[/END\\b/i,{token:\"keyword.block\"}],[/WHEN\\b/i,{token:\"keyword.choice\"}],[/THEN\\b/i,{token:\"keyword.choice\"}]]}},_=Object.freeze({__proto__:null,SELECT:P,FROM:L,WHERE:\"where\",GROUP:\"group\",ORDER:\"order\",BY:b,DESC:K,ASC:k,LIMIT:\"limit\",WITH:\"with\",AS:\"as\",SCHEMA:\"schema\",AND:\"AND\",OR:\"OR\",LOGICAL_OPERATORS:M,EQUALS:\"=\",NOT_EQUALS:\"!=\",COMPARISON_OPERATORS:F,STD_OPERATORS:D,conf:B,language:U}),W=function(e){var t=function(e){var t;return null!==(t=null==e?void 0:e.getPreviousOfType(exports.TokenType.Keyword,P))&&void 0!==t?t:null}(e);return null==t?void 0:t.getNextOfType(exports.TokenType.Keyword,L)},G=function(e){var t,n=W(e),o=null==n?void 0:n.getNextNonWhiteSpaceToken();return(null==o?void 0:o.isVariable())||(null==o?void 0:o.isKeyword())&&(null===(t=o.next)||void 0===t?void 0:t.is(exports.TokenType.Parenthesis,\"(\"))?null:o},Y=function(e){var t=null==e?void 0:e.value.split(\".\");return 1===(null==t?void 0:t.length)?{table:t[0]}:2===(null==t?void 0:t.length)?{schema:t[0],table:t[1]}:null},V={id:\"editor.action.triggerSuggest\",title:\"\"},H=new Uint8Array(16);function X(){if(!N&&!(N=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return N(H)}var $=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function j(e){return\"string\"==typeof e&&$.test(e)}for(var J=[],Q=0;Q<256;++Q)J.push((Q+256).toString(16).substr(1));function z(e,t,n){var o=(e=e||{}).random||(e.rng||X)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=o[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(J[e[t+0]]+J[e[t+1]]+J[e[t+2]]+J[e[t+3]]+\"-\"+J[e[t+4]]+J[e[t+5]]+\"-\"+J[e[t+6]]+J[e[t+7]]+\"-\"+J[e[t+8]]+J[e[t+9]]+\"-\"+J[e[t+10]]+J[e[t+11]]+J[e[t+12]]+J[e[t+13]]+J[e[t+14]]+J[e[t+15]]).toLowerCase();if(!j(n))throw TypeError(\"Stringified UUID is invalid\");return n}(o)}function Z(e){return{label:e.name,insertText:\"\".concat(\"\\\\\"+e.text).concat(ee(e.args),\" \"),insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet,kind:exports.CompletionItemKind.Snippet,documentation:e.description,command:V}}function ee(e){return e?\"(\".concat(e.map((function(e,t){return\"${\".concat(t,\":\").concat(e,\"}\")})).join(\", \")).concat(\")\"):\"()\"}function te(){return[{id:exports.StatementPosition.SelectKeyword,name:exports.StatementPosition.SelectKeyword,resolve:function(e,t,n,o){return Boolean(null===e||e.isWhiteSpace()&&null===e.previous||e.is(exports.TokenType.Keyword,P)||e.is(exports.TokenType.Keyword,P)&&null===e.previous||o||e.isIdentifier()&&(o||null===(null==e?void 0:e.previous))||e.isIdentifier()&&P.startsWith(e.value.toLowerCase()))}},{id:exports.StatementPosition.WithKeyword,name:exports.StatementPosition.WithKeyword,resolve:function(e,t,n,o){return Boolean(null===e||e.isWhiteSpace()&&null===e.previous||e.is(exports.TokenType.Keyword,\"with\")&&null===e.previous||e.isIdentifier()&&\"with\".toLowerCase().startsWith(e.value.toLowerCase()))}},{id:exports.StatementPosition.AfterSelectKeyword,name:exports.StatementPosition.AfterSelectKeyword,resolve:function(e,t,n,o){return Boolean((null==n?void 0:n.value.toLowerCase())===P)}},{id:exports.StatementPosition.AfterSelectArguments,name:exports.StatementPosition.AfterSelectArguments,resolve:function(e,t,n,o){return Boolean((null==t?void 0:t.value.toLowerCase())===P&&\",\"===(null==n?void 0:n.value))}},{id:exports.StatementPosition.AfterSelectFuncFirstArgument,name:exports.StatementPosition.AfterSelectFuncFirstArgument,resolve:function(e,t,n,o){return Boolean(((null==t?void 0:t.value.toLowerCase())===P||\"as\"===(null==t?void 0:t.value.toLowerCase()))&&((null==n?void 0:n.is(exports.TokenType.Parenthesis,\"(\"))||(null==e?void 0:e.is(exports.TokenType.Parenthesis,\"()\"))))}},{id:exports.StatementPosition.AfterWhereFunctionArgument,name:exports.StatementPosition.AfterWhereFunctionArgument,resolve:function(e,t,n,o){return Boolean((null==t?void 0:t.is(exports.TokenType.Keyword,\"where\"))&&((null==n?void 0:n.is(exports.TokenType.Parenthesis,\"(\"))||(null==e?void 0:e.is(exports.TokenType.Parenthesis,\"()\"))))}},{id:exports.StatementPosition.AfterGroupBy,name:exports.StatementPosition.AfterGroupBy,resolve:function(e,t,n,o){var r;return Boolean((null==t?void 0:t.is(exports.TokenType.Keyword,b))&&(null===(r=null==t?void 0:t.getPreviousKeyword())||void 0===r?void 0:r.is(exports.TokenType.Keyword,\"group\"))&&((null==n?void 0:n.isIdentifier())||(null==n?void 0:n.isDoubleQuotedString())||(null==n?void 0:n.is(exports.TokenType.Parenthesis,\")\"))||(null==n?void 0:n.is(exports.TokenType.Parenthesis,\"()\"))))}},{id:exports.StatementPosition.SelectAlias,name:exports.StatementPosition.SelectAlias,resolve:function(e,t,n,o){return\",\"===(null==n?void 0:n.value)&&\"as\"===(null==t?void 0:t.value.toLowerCase())}},{id:exports.StatementPosition.FromKeyword,name:exports.StatementPosition.FromKeyword,resolve:function(e,t,n,o){return Boolean((null==t?void 0:t.value.toLowerCase())===P&&\",\"!==(null==n?void 0:n.value)||((null==e?void 0:e.isKeyword())||(null==e?void 0:e.isIdentifier()))&&L.toLowerCase().startsWith(e.value.toLowerCase()))}},{id:exports.StatementPosition.AfterFromKeyword,name:exports.StatementPosition.AfterFromKeyword,resolve:function(e,t,n,o){return Boolean(!(null==e?void 0:e.value.includes(\".\"))&&(null==n?void 0:n.value.toLowerCase())===L)}},{id:exports.StatementPosition.AfterSchema,name:exports.StatementPosition.AfterSchema,resolve:function(e,t,n,o){return(null==e?void 0:e.isWhiteSpace())&&(null==e?void 0:e.next)&&(n=null==(e=null==e?void 0:e.previous)?void 0:e.getPreviousNonWhiteSpaceToken()),Boolean((null==e?void 0:e.isIdentifier())&&(null==e?void 0:e.value.endsWith(\".\"))&&(null==n?void 0:n.value.toLowerCase())===L)}},{id:exports.StatementPosition.AfterFrom,name:exports.StatementPosition.AfterFrom,resolve:function(e,t,n,o){return Boolean((null==t?void 0:t.value.toLowerCase())===L&&(null==n?void 0:n.isDoubleQuotedString())||(null==t?void 0:t.value.toLowerCase())===L&&(null==n?void 0:n.isIdentifier())||(null==t?void 0:t.value.toLowerCase())===L&&(null==n?void 0:n.isVariable()))}},{id:exports.StatementPosition.AfterTable,name:exports.StatementPosition.AfterTable,resolve:function(e,t,n,o){return Boolean((null==t?void 0:t.value.toLowerCase())===L&&((null==n?void 0:n.isVariable())||\"\"!==(null==n?void 0:n.value)&&(null==n?void 0:n.value.toLowerCase())!==L))}},{id:exports.StatementPosition.WhereKeyword,name:exports.StatementPosition.WhereKeyword,resolve:function(e,t,n,o){return Boolean(\"where\"===(null==t?void 0:t.value.toLowerCase())&&((null==n?void 0:n.isKeyword())||(null==n?void 0:n.is(exports.TokenType.Parenthesis,\"(\"))||(null==n?void 0:n.is(exports.TokenType.Operator,\"AND\"))))}},{id:exports.StatementPosition.WhereComparisonOperator,name:exports.StatementPosition.WhereComparisonOperator,resolve:function(e,t,n,o){return Boolean(\"where\"===(null==t?void 0:t.value.toLowerCase())&&!(null==n?void 0:n.getPreviousNonWhiteSpaceToken().isOperator())&&!e.is(exports.TokenType.Delimiter,\".\")&&!e.isParenthesis()&&((null==n?void 0:n.isIdentifier())||(null==n?void 0:n.isDoubleQuotedString())))}},{id:exports.StatementPosition.WhereValue,name:exports.StatementPosition.WhereValue,resolve:function(e,t,n,o){return Boolean(\"where\"===(null==t?void 0:t.value.toLowerCase())&&(null==n?void 0:n.isOperator()))}},{id:exports.StatementPosition.AfterWhereValue,name:exports.StatementPosition.AfterWhereValue,resolve:function(e,t,n,o){var r,s,i;return Boolean(\"where\"===(null==t?void 0:t.value.toLowerCase())&&(n.is(exports.TokenType.Operator,\"and\")||n.is(exports.TokenType.Operator,\"or\")||(null==n?void 0:n.isString())||(null==n?void 0:n.isNumber())||(null==n?void 0:n.is(exports.TokenType.Parenthesis,\")\"))||(null==n?void 0:n.is(exports.TokenType.Parenthesis,\"()\"))||(null==n?void 0:n.isTemplateVariable())||(null==n?void 0:n.is(exports.TokenType.IdentifierQuote))&&(null===(r=n.getPreviousNonWhiteSpaceToken())||void 0===r?void 0:r.is(exports.TokenType.Identifier))&&(null===(i=null===(s=null==n?void 0:n.getPreviousNonWhiteSpaceToken())||void 0===s?void 0:s.getPreviousNonWhiteSpaceToken())||void 0===i?void 0:i.is(exports.TokenType.IdentifierQuote))))}},{id:exports.StatementPosition.AfterGroupByKeywords,name:exports.StatementPosition.AfterGroupByKeywords,resolve:function(e,t,n,o){var r;return Boolean((null==t?void 0:t.is(exports.TokenType.Keyword,b))&&(null===(r=null==t?void 0:t.getPreviousKeyword())||void 0===r?void 0:r.is(exports.TokenType.Keyword,\"group\"))&&((null==n?void 0:n.is(exports.TokenType.Keyword,b))||(null==n?void 0:n.is(exports.TokenType.Delimiter,\",\"))))}},{id:exports.StatementPosition.AfterGroupByFunctionArgument,name:exports.StatementPosition.AfterGroupByFunctionArgument,resolve:function(e,t,n,o){var r;return Boolean((null==t?void 0:t.is(exports.TokenType.Keyword,b))&&(null===(r=null==t?void 0:t.getPreviousKeyword())||void 0===r?void 0:r.is(exports.TokenType.Keyword,\"group\"))&&((null==n?void 0:n.is(exports.TokenType.Parenthesis,\"(\"))||(null==e?void 0:e.is(exports.TokenType.Parenthesis,\"()\"))))}},{id:exports.StatementPosition.AfterOrderByKeywords,name:exports.StatementPosition.AfterOrderByKeywords,resolve:function(e,t,n,o){var r;return Boolean((null==n?void 0:n.is(exports.TokenType.Keyword,b))&&(null===(r=null==n?void 0:n.getPreviousKeyword())||void 0===r?void 0:r.is(exports.TokenType.Keyword,\"order\")))}},{id:exports.StatementPosition.AfterOrderByFunction,name:exports.StatementPosition.AfterOrderByFunction,resolve:function(e,t,n,o){var r,s;return Boolean((null==t?void 0:t.is(exports.TokenType.Keyword,b))&&(null===(r=null==t?void 0:t.getPreviousKeyword())||void 0===r?void 0:r.is(exports.TokenType.Keyword,\"order\"))&&(null==n?void 0:n.is(exports.TokenType.Parenthesis))&&(null===(s=null==n?void 0:n.getPreviousNonWhiteSpaceToken())||void 0===s?void 0:s.is(exports.TokenType.Function)))}},{id:exports.StatementPosition.AfterOrderByDirection,name:exports.StatementPosition.AfterOrderByDirection,resolve:function(e,t,n,o){return Boolean((null==t?void 0:t.is(exports.TokenType.Keyword,K))||(null==t?void 0:t.is(exports.TokenType.Keyword,k)))}},{id:exports.StatementPosition.AfterIsOperator,name:exports.StatementPosition.AfterIsOperator,resolve:function(e,t,n,o){return Boolean(null==n?void 0:n.is(exports.TokenType.Operator,\"IS\"))}},{id:exports.StatementPosition.AfterIsNotOperator,name:exports.StatementPosition.AfterIsNotOperator,resolve:function(e,t,n,o){var r;return Boolean((null==n?void 0:n.is(exports.TokenType.Operator,\"NOT\"))&&(null===(r=n.getPreviousNonWhiteSpaceToken())||void 0===r?void 0:r.is(exports.TokenType.Operator,\"IS\")))}}]}var ne={logger:function(){}},oe=function(){};d.attachDebugger&&d.createLogger&&(ne=d.createLogger(\"SQLEditor\"),oe=ne.logger,d.attachDebugger(\"sqleditor\",void 0,ne));var re=[{id:\"$__timeFilter(dateColumn)\",name:\"$__timeFilter(dateColumn)\",text:\"$__timeFilter\",args:[\"column\"],type:exports.MacroType.Filter,description:\"Will be replaced by a time range filter using the specified column name. For example, dateColumn BETWEEN FROM_UNIXTIME(1494410783) AND FROM_UNIXTIME(1494410983)\"},{id:\"$__timeFrom()\",name:\"$__timeFrom()\",text:\"$__timeFrom\",args:[],type:exports.MacroType.Filter,description:\"Will be replaced by the start of the currently active time selection. For example, FROM_UNIXTIME(1494410783)\"},{id:\"$__timeTo()\",name:\"$__timeTo()\",text:\"$__timeTo\",args:[],type:exports.MacroType.Filter,description:\"Will be replaced by the end of the currently active time selection. For example, FROM_UNIXTIME(1494410983)\"},{id:\"$__timeGroup(dateColumn, '5m')\",name:\"$__timeGroup(dateColumn, '5m')\",text:\"$__timeGroup\",args:[\"column\",\"'5m'\"],type:exports.MacroType.Value,description:\"Will be replaced by an expression usable in GROUP BY clause. For example, *cast(cast(UNIX_TIMESTAMP(dateColumn)/(300) as signed)*300 as signed),*\"},{id:\"$__table\",name:\"$__table\",text:\"$__table\",args:[],type:exports.MacroType.Table,description:\"Will be replaced by the query table.\"},{id:\"$__column\",name:\"$__column\",text:\"$__column\",args:[],type:exports.MacroType.Column,description:\"Will be replaced by the query column.\"}];function se(e,t){var n,o,r,s={triggerCharacters:[\".\",\" \",\"$\",\",\",\"(\",\"'\"]};(null==t?void 0:t.builtinFunctions.length)&&(s.supportedFunctions=function(){return t.builtinFunctions.map((function(e){return{id:e,name:e}}))});var i=[];return(null===(n=null==t?void 0:t.comparisonOperators)||void 0===n?void 0:n.length)&&i.push.apply(i,A([],S(t.comparisonOperators.map((function(e){return{id:e.toLocaleLowerCase(),operator:e,type:exports.OperatorType.Comparison}}))),!1)),t.logicalOperators=null!==(o=t.logicalOperators)&&void 0!==o?o:t.operators,(null===(r=null==t?void 0:t.logicalOperators)||void 0===r?void 0:r.length)&&i.push.apply(i,A([],S(t.logicalOperators.map((function(e){return{id:e.toLocaleLowerCase(),operator:e,type:exports.OperatorType.Logical}}))),!1)),s.supportedOperators=function(){return i},s.supportedMacros=function(){return re},s}var ie={id:\"standardSql\",extensions:[\".sql\"],aliases:[\"sql\"],mimetypes:[],loader:function(){return Promise.resolve().then((function(){return _}))},completionProvider:se},le=new Map,ae=new Map,ue=function(e,t,n){return T(void 0,void 0,void 0,(function(){var o,r,s,i,l,a,u,d;return q(this,(function(p){switch(p.label){case 0:return[4,(o=function(e,t){if(\"sql\"!==(null==t?void 0:t.id)&&!t.loader){oe(\"Loading language '\".concat(null==t?void 0:t.id,\"' from Monaco registry\"),!1);var n=e.languages.getLanguages().find((function(e){return e.id===(null==t?void 0:t.id)}));if(!n)throw Error(\"Unknown Monaco language \".concat(null==t?void 0:t.id));return y(y({completionProvider:se},n),t)}return y(y({},ie),t)}(e,t)).loader(e)];case 1:return r=p.sent(),s=r.language,i=r.conf,e.languages.register({id:n}),e.languages.setMonarchTokensProvider(n,y({},s)),e.languages.setLanguageConfiguration(n,y({},i)),o.formatter&&e.languages.registerDocumentFormattingEditProvider(n,{provideDocumentFormattingEdits:function(e){var n=t.formatter(e.getValue());return[{range:e.getFullModelRange(),text:n}]}}),o.completionProvider&&(l=o.completionProvider(e,s),function(e,t,n){var o,r,s,i,l,a,u,d,p,f,m,E=this;le.has(e)||function(e){le.has(e)||le.set(e,{functions:new c.Registry,operators:new c.Registry,suggestionKinds:new c.Registry(I),positionResolvers:new c.Registry(te),macros:new c.Registry});le.get(e)}(e);var v=le.get(e);ae.has(t)||ae.set(t,new c.Registry((R=v.functions,C=v.operators,x=v.macros,function(){return[{id:exports.SuggestionKind.SelectKeyword,name:exports.SuggestionKind.SelectKeyword,suggestions:function(e,t){return Promise.resolve([{label:\"SELECT <column>\",insertText:\"SELECT $0\",insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet,kind:exports.CompletionItemKind.Snippet,command:V,sortText:exports.CompletionItemPriority.Medium},{label:\"SELECT <column> FROM <table>\",insertText:\"SELECT $2 FROM $1\",insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet,kind:exports.CompletionItemKind.Snippet,command:V,sortText:exports.CompletionItemPriority.Medium}])}},{id:exports.SuggestionKind.TemplateVariables,name:exports.SuggestionKind.TemplateVariables,suggestions:function(e,t){var n=g.getTemplateSrv();return n?Promise.resolve(n.getVariables().map((function(e){var t=\"$\".concat(e.name),o=n.replace(t);return{label:t,detail:\"(Template Variable) \".concat(o),kind:exports.CompletionItemKind.Snippet,documentation:\"(Template Variable) \".concat(o),insertText:\"\\\\$\".concat(e.name,\" \"),insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet,command:V,sortText:exports.CompletionItemPriority.Low}}))):Promise.resolve([])}},{id:exports.SuggestionKind.SelectMacro,name:exports.SuggestionKind.SelectMacro,suggestions:function(e,t){return Promise.resolve(A([],S(x.list().filter((function(e){return e.type===exports.MacroType.Value||e.type===exports.MacroType.Column})).map(Z)),!1))}},{id:exports.SuggestionKind.TableMacro,name:exports.SuggestionKind.TableMacro,suggestions:function(e,t){return Promise.resolve(A([],S(x.list().filter((function(e){return e.type===exports.MacroType.Table})).map(Z)),!1))}},{id:exports.SuggestionKind.GroupMacro,name:exports.SuggestionKind.GroupMacro,suggestions:function(e,t){return Promise.resolve(A([],S(x.list().filter((function(e){return e.type===exports.MacroType.Group})).map(Z)),!1))}},{id:exports.SuggestionKind.FilterMacro,name:exports.SuggestionKind.FilterMacro,suggestions:function(e,t){return Promise.resolve(A([],S(x.list().filter((function(e){return e.type===exports.MacroType.Filter})).map(Z)),!1))}},{id:exports.SuggestionKind.WithKeyword,name:exports.SuggestionKind.WithKeyword,suggestions:function(e,t){return Promise.resolve([{label:\"WITH <alias> AS ( ... )\",insertText:\"WITH $1  AS ( $2 )\",insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet,kind:exports.CompletionItemKind.Snippet,command:V,sortText:exports.CompletionItemPriority.Medium}])}},{id:exports.SuggestionKind.StarWildCard,name:exports.SuggestionKind.StarWildCard,suggestions:function(e,t){return Promise.resolve([{label:\"*\",insertText:\"* $0\",insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet,kind:exports.CompletionItemKind.Field,command:V,sortText:exports.CompletionItemPriority.High}])}},{id:exports.SuggestionKind.FunctionsWithArguments,name:exports.SuggestionKind.FunctionsWithArguments,suggestions:function(e,t){return Promise.resolve(A([],S(R.list().map((function(e){return{label:e.name,insertText:\"\".concat(e.name,\"($0)\"),documentation:e.description,insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet,kind:exports.CompletionItemKind.Function,command:V,sortText:exports.CompletionItemPriority.MediumLow}}))),!1))}},{id:exports.SuggestionKind.FunctionsWithoutArguments,name:exports.SuggestionKind.FunctionsWithoutArguments,suggestions:function(e,t){return Promise.resolve(A([],S(R.list().map((function(e){return{label:e.name,insertText:\"\".concat(e.name,\"()\"),documentation:e.description,insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet,kind:exports.CompletionItemKind.Function,command:V,sortText:exports.CompletionItemPriority.MediumHigh}}))),!1))}},{id:exports.SuggestionKind.FromKeyword,name:exports.SuggestionKind.FromKeyword,suggestions:function(e,t){return Promise.resolve([{label:\"FROM\",insertText:\"FROM $0\",command:V,insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet,kind:exports.CompletionItemKind.Keyword}])}},{id:exports.SuggestionKind.Schemas,name:exports.SuggestionKind.Schemas,suggestions:function(e,t){return Promise.resolve([])}},{id:exports.SuggestionKind.Tables,name:exports.SuggestionKind.Tables,suggestions:function(e,t){return Promise.resolve([])}},{id:exports.SuggestionKind.Columns,name:exports.SuggestionKind.Columns,suggestions:function(e,t){return Promise.resolve([])}},{id:exports.SuggestionKind.LogicalOperators,name:exports.SuggestionKind.LogicalOperators,suggestions:function(e,t){return Promise.resolve(C.list().filter((function(e){return e.type===exports.OperatorType.Logical})).map((function(e){return{label:e.operator,insertText:\"\".concat(e.operator,\" \"),documentation:e.description,command:V,sortText:exports.CompletionItemPriority.MediumHigh,kind:exports.CompletionItemKind.Operator}})))}},{id:exports.SuggestionKind.WhereKeyword,name:exports.SuggestionKind.WhereKeyword,suggestions:function(e,t){return Promise.resolve([{label:\"WHERE\",insertText:\"WHERE \",command:V,sortText:exports.CompletionItemPriority.MediumHigh,kind:exports.CompletionItemKind.Keyword}])}},{id:exports.SuggestionKind.ComparisonOperators,name:exports.SuggestionKind.ComparisonOperators,suggestions:function(e,t){return Promise.resolve(A(A([],S(C.list().filter((function(e){return e.type===exports.OperatorType.Comparison})).map((function(e){return{label:e.operator,insertText:\"\".concat(e.operator,\" \"),documentation:e.description,command:V,sortText:exports.CompletionItemPriority.MediumHigh,kind:exports.CompletionItemKind.Operator}}))),!1),[{label:\"IN (...)\",insertText:\"IN ( $0 )\",command:V,sortText:exports.CompletionItemPriority.Medium,kind:exports.CompletionItemKind.Operator,insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet},{label:\"NOT IN (...)\",insertText:\"NOT IN ( $0 )\",command:V,sortText:exports.CompletionItemPriority.Medium,kind:exports.CompletionItemKind.Operator,insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet},{label:\"IS\",insertText:\"IS\",command:V,sortText:exports.CompletionItemPriority.Medium,kind:exports.CompletionItemKind.Operator},{label:\"IS NOT\",insertText:\"IS NOT\",command:V,sortText:exports.CompletionItemPriority.Medium,kind:exports.CompletionItemKind.Operator}],!1))}},{id:exports.SuggestionKind.GroupByKeywords,name:exports.SuggestionKind.GroupByKeywords,suggestions:function(e,t){return Promise.resolve([{label:\"GROUP BY\",insertText:\"GROUP BY \",command:V,sortText:exports.CompletionItemPriority.MediumHigh,kind:exports.CompletionItemKind.Keyword}])}},{id:exports.SuggestionKind.OrderByKeywords,name:exports.SuggestionKind.OrderByKeywords,suggestions:function(e,t){return Promise.resolve([{label:\"ORDER BY\",insertText:\"ORDER BY \",command:V,sortText:exports.CompletionItemPriority.Medium,kind:exports.CompletionItemKind.Keyword},{label:\"ORDER BY(ascending)\",insertText:\"ORDER BY $1 ASC \",command:V,sortText:exports.CompletionItemPriority.MediumLow,kind:exports.CompletionItemKind.Snippet,insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet},{label:\"ORDER BY(descending)\",insertText:\"ORDER BY $1 DESC\",command:V,sortText:exports.CompletionItemPriority.MediumLow,kind:exports.CompletionItemKind.Snippet,insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet}])}},{id:exports.SuggestionKind.LimitKeyword,name:exports.SuggestionKind.LimitKeyword,suggestions:function(e,t){return Promise.resolve([{label:\"LIMIT\",insertText:\"LIMIT \",command:V,sortText:exports.CompletionItemPriority.MediumLow,kind:exports.CompletionItemKind.Keyword}])}},{id:exports.SuggestionKind.SortOrderDirectionKeyword,name:exports.SuggestionKind.SortOrderDirectionKeyword,suggestions:function(e,t){return Promise.resolve([k,K].map((function(e){return{label:e,insertText:\"\".concat(e,\" \"),command:V,kind:exports.CompletionItemKind.Keyword}})))}},{id:exports.SuggestionKind.NotKeyword,name:exports.SuggestionKind.NotKeyword,suggestions:function(){return Promise.resolve([{label:\"NOT\",insertText:\"NOT\",command:V,kind:exports.CompletionItemKind.Keyword,sortText:exports.CompletionItemPriority.High}])}},{id:exports.SuggestionKind.BoolValues,name:exports.SuggestionKind.BoolValues,suggestions:function(){return Promise.resolve([\"TRUE\",\"FALSE\"].map((function(e){return{label:e,insertText:\"\".concat(e),command:V,kind:exports.CompletionItemKind.Keyword,sortText:exports.CompletionItemPriority.Medium}})))}},{id:exports.SuggestionKind.NullValue,name:exports.SuggestionKind.NullValue,suggestions:function(){return Promise.resolve([\"NULL\"].map((function(e){return{label:e,insertText:\"\".concat(e),command:V,kind:exports.CompletionItemKind.Keyword,sortText:exports.CompletionItemPriority.Low}})))}}]})));var R,C,x;var w=ae.get(t);if(n.supportedFunctions)try{for(var O=h(n.supportedFunctions()),N=O.next();!N.done;N=O.next()){var P=N.value;v.functions.getIfExists(P.id)||v.functions.register(P)}}catch(e){o={error:e}}finally{try{N&&!N.done&&(r=O.return)&&r.call(O)}finally{if(o)throw o.error}}if(n.supportedOperators)try{for(var L=h(n.supportedOperators()),b=L.next();!b.done;b=L.next()){var M=b.value;v.operators.getIfExists(M.id)||v.operators.register(y(y({},M),{name:M.id}))}}catch(e){s={error:e}}finally{try{b&&!b.done&&(i=L.return)&&i.call(L)}finally{if(s)throw s.error}}if(n.supportedMacros)try{for(var F=h(n.supportedMacros()),D=F.next();!D.done;D=F.next()){var B=D.value;v.macros.getIfExists(B.id)||v.macros.register(y(y({},B),{name:B.id}))}}catch(e){l={error:e}}finally{try{D&&!D.done&&(a=F.return)&&a.call(F)}finally{if(l)throw l.error}}if(n.customStatementPlacement){var U=function(e){var t=v.positionResolvers.getIfExists(e.id);if(t){var n=t.resolve;t.resolve=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var r=e.resolve.apply(e,A([],S(t),!1));if(e.overrideDefault)return r;var s=n.apply(void 0,A([],S(t),!1));return s||r}}else v.positionResolvers.register(y(y({},e),{id:e.id,name:e.id})),v.suggestionKinds.register({id:e.id,name:e.id,kind:[]})};try{for(var _=h(n.customStatementPlacement()),W=_.next();!W.done;W=_.next()){var H=W.value;U(H)}}catch(e){u={error:e}}finally{try{W&&!W.done&&(d=_.return)&&d.call(_)}finally{if(u)throw u.error}}}if(n.customSuggestionKinds){var X=function(e){if(null===(m=e.applyTo)||void 0===m||m.forEach((function(t){var n=v.suggestionKinds.getIfExists(t);n&&-1===n.kind.indexOf(e.id)&&n.kind.push(e.id)})),e.overrideDefault){var t=w.get(e.id);if(void 0!==t)return t.suggestions=e.suggestionsResolver,\"continue\"}w.register({id:e.id,name:e.id,suggestions:e.suggestionsResolver})};try{for(var $=h(n.customSuggestionKinds()),j=$.next();!j.done;j=$.next()){var J=j.value;X(J)}}catch(e){p={error:e}}finally{try{j&&!j.done&&(f=$.return)&&f.call($)}finally{if(p)throw p.error}}}if(n.schemas){var Q=(ee=w.get(exports.SuggestionKind.Schemas)).suggestions;ee.suggestions=function(e,t){return T(E,void 0,void 0,(function(){var o,r,s;return q(this,(function(i){switch(i.label){case 0:return[4,Q(e,t)];case 1:return o=i.sent(),[4,n.schemas.resolve()];case 2:return r=i.sent(),s=r.map((function(e){var t;return{label:e.name,insertText:\"\".concat(null!==(t=e.completion)&&void 0!==t?t:e.name,\".\"),command:V,kind:exports.CompletionItemKind.Module,sortText:exports.CompletionItemPriority.High}})),[2,A(A([],S(o),!1),S(s),!1)]}}))}))}}if(n.tables){var z=(ee=w.get(exports.SuggestionKind.Tables)).suggestions;ee.suggestions=function(e,t){return T(E,void 0,void 0,(function(){var o,r,s,i,l,a,u;return q(this,(function(d){switch(d.label){case 0:return[4,z(e,t)];case 1:return o=d.sent(),r=G(e.currentToken),s=null!==(u=null===(a=n.tables)||void 0===a?void 0:a.parseName)&&void 0!==u?u:Y,i=s(r),[4,n.tables.resolve(i)];case 2:return l=d.sent().map((function(e){var t;return{label:e.name,insertText:\"\".concat(null!==(t=e.completion)&&void 0!==t?t:e.name).concat(e.completion===e.name?\" $0\":\"\"),insertTextRules:exports.CompletionItemInsertTextRule.InsertAsSnippet,command:V,kind:exports.CompletionItemKind.Field,sortText:exports.CompletionItemPriority.MediumHigh}})),[2,A(A([],S(o),!1),S(l),!1)]}}))}))}}if(n.columns){var ee,ne=(ee=w.get(exports.SuggestionKind.Columns)).suggestions;ee.suggestions=function(e,t){return T(E,void 0,void 0,(function(){var o,r,s,i,l,a,u,d,p;return q(this,(function(f){switch(f.label){case 0:return[4,ne(e,t)];case 1:return o=f.sent(),r=G(e.currentToken),i=null!==(d=null===(u=n.tables)||void 0===u?void 0:u.parseName)&&void 0!==d?d:Y,r&&r.value&&(s=i(r)),l=[],s?[4,null===(p=n.columns)||void 0===p?void 0:p.resolve(s)]:[3,3];case 2:a=f.sent(),l=a?a.map((function(e){var t;return{label:e.name,insertText:null!==(t=e.completion)&&void 0!==t?t:e.name,kind:exports.CompletionItemKind.Field,sortText:exports.CompletionItemPriority.High,detail:e.type,documentation:e.description}})):[],f.label=3;case 3:return[2,A(A([],S(o),!1),S(l),!1)]}}))}))}}}(t.id,n,l),a=le.get(t.id),u=ae.get(n),d=function(t,o,r,s){return T(void 0,void 0,void 0,(function(){var r,s,i,l;return q(this,(function(d){switch(d.label){case 0:return r=O(e,t,o,n),s=R(r,a.positionResolvers),i=function(e,t){for(var n=[],o=0;o<e.length;o++){var r=t.getIfExists(e[o]);r&&(n=n.concat(r.kind))}return n}(s,a.suggestionKinds),oe(\"Statement position\",!1,s),oe(\"Suggestion kinds\",!1,i),l={position:o,currentToken:r,statementPosition:s,kind:i,range:e.Range.fromPositions(o)},[4,C(e,r,i,l,u)];case 1:return[2,{suggestions:d.sent()}]}}))}))},e.languages.registerCompletionItemProvider(n,y(y({},l),{provideCompletionItems:d}))),[2]}}))}))};var de={testData:Object.freeze({__proto__:null,singleLineFullQuery:{query:'SELECT column1, FROM table1 WHERE column1 = \"value1\" GROUP BY column1 ORDER BY column1 DESC LIMIT 10',tokens:[[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:6,type:\"white.sql\",language:\"sql\"},{offset:7,type:\"identifier.sql\",language:\"sql\"},{offset:14,type:\"delimiter.sql\",language:\"sql\"},{offset:15,type:\"white.sql\",language:\"sql\"},{offset:16,type:\"keyword.sql\",language:\"sql\"},{offset:20,type:\"white.sql\",language:\"sql\"},{offset:21,type:\"identifier.sql\",language:\"sql\"},{offset:27,type:\"white.sql\",language:\"sql\"},{offset:28,type:\"keyword.sql\",language:\"sql\"},{offset:33,type:\"white.sql\",language:\"sql\"},{offset:34,type:\"identifier.sql\",language:\"sql\"},{offset:41,type:\"white.sql\",language:\"sql\"},{offset:42,type:\"operator.sql\",language:\"sql\"},{offset:43,type:\"white.sql\",language:\"sql\"},{offset:44,type:\"identifier.quote.sql\",language:\"sql\"},{offset:45,type:\"identifier.sql\",language:\"sql\"},{offset:51,type:\"identifier.quote.sql\",language:\"sql\"},{offset:52,type:\"white.sql\",language:\"sql\"},{offset:53,type:\"keyword.sql\",language:\"sql\"},{offset:58,type:\"white.sql\",language:\"sql\"},{offset:59,type:\"keyword.sql\",language:\"sql\"},{offset:61,type:\"white.sql\",language:\"sql\"},{offset:62,type:\"identifier.sql\",language:\"sql\"},{offset:69,type:\"white.sql\",language:\"sql\"},{offset:70,type:\"keyword.sql\",language:\"sql\"},{offset:75,type:\"white.sql\",language:\"sql\"},{offset:76,type:\"keyword.sql\",language:\"sql\"},{offset:78,type:\"white.sql\",language:\"sql\"},{offset:79,type:\"identifier.sql\",language:\"sql\"},{offset:86,type:\"white.sql\",language:\"sql\"},{offset:87,type:\"keyword.sql\",language:\"sql\"},{offset:91,type:\"white.sql\",language:\"sql\"},{offset:92,type:\"keyword.sql\",language:\"sql\"},{offset:97,type:\"white.sql\",language:\"sql\"},{offset:98,type:\"number.sql\",language:\"sql\"},{offset:100,type:\"delimiter.sql\",language:\"sql\"}]]},singleLineFullQueryWithAggregation:{query:'SELECT count(column1), FROM table1 WHERE column1 = \"value1\" GROUP BY column1 ORDER BY column1 DESC LIMIT 10;',tokens:[[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:6,type:\"white.sql\",language:\"sql\"},{offset:7,type:\"predefined.sql\",language:\"sql\"},{offset:12,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:13,type:\"identifier.sql\",language:\"sql\"},{offset:20,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:21,type:\"delimiter.sql\",language:\"sql\"},{offset:22,type:\"white.sql\",language:\"sql\"},{offset:23,type:\"keyword.sql\",language:\"sql\"},{offset:27,type:\"white.sql\",language:\"sql\"},{offset:28,type:\"identifier.sql\",language:\"sql\"},{offset:34,type:\"white.sql\",language:\"sql\"},{offset:35,type:\"keyword.sql\",language:\"sql\"},{offset:40,type:\"white.sql\",language:\"sql\"},{offset:41,type:\"identifier.sql\",language:\"sql\"},{offset:48,type:\"white.sql\",language:\"sql\"},{offset:49,type:\"operator.sql\",language:\"sql\"},{offset:50,type:\"white.sql\",language:\"sql\"},{offset:51,type:\"identifier.quote.sql\",language:\"sql\"},{offset:52,type:\"identifier.sql\",language:\"sql\"},{offset:58,type:\"identifier.quote.sql\",language:\"sql\"},{offset:59,type:\"white.sql\",language:\"sql\"},{offset:60,type:\"keyword.sql\",language:\"sql\"},{offset:65,type:\"white.sql\",language:\"sql\"},{offset:66,type:\"keyword.sql\",language:\"sql\"},{offset:68,type:\"white.sql\",language:\"sql\"},{offset:69,type:\"identifier.sql\",language:\"sql\"},{offset:76,type:\"white.sql\",language:\"sql\"},{offset:77,type:\"keyword.sql\",language:\"sql\"},{offset:82,type:\"white.sql\",language:\"sql\"},{offset:83,type:\"keyword.sql\",language:\"sql\"},{offset:85,type:\"white.sql\",language:\"sql\"},{offset:86,type:\"identifier.sql\",language:\"sql\"},{offset:93,type:\"white.sql\",language:\"sql\"},{offset:94,type:\"keyword.sql\",language:\"sql\"},{offset:98,type:\"white.sql\",language:\"sql\"},{offset:99,type:\"keyword.sql\",language:\"sql\"},{offset:104,type:\"white.sql\",language:\"sql\"},{offset:105,type:\"number.sql\",language:\"sql\"},{offset:107,type:\"delimiter.sql\",language:\"sql\"}]]},multiLineFullQuery:{query:'SELECT column1,  \\n  FROM table1 \\n  \\n  WHERE column1 = \"value1\" \\n  GROUP BY column1 ORDER BY column1 DESC \\n  LIMIT 10;',tokens:[[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:6,type:\"white.sql\",language:\"sql\"},{offset:7,type:\"identifier.sql\",language:\"sql\"},{offset:14,type:\"delimiter.sql\",language:\"sql\"},{offset:15,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:4,type:\"white.sql\",language:\"sql\"},{offset:5,type:\"identifier.sql\",language:\"sql\"},{offset:11,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:5,type:\"white.sql\",language:\"sql\"},{offset:6,type:\"identifier.sql\",language:\"sql\"},{offset:13,type:\"white.sql\",language:\"sql\"},{offset:14,type:\"operator.sql\",language:\"sql\"},{offset:15,type:\"white.sql\",language:\"sql\"},{offset:16,type:\"identifier.quote.sql\",language:\"sql\"},{offset:17,type:\"identifier.sql\",language:\"sql\"},{offset:23,type:\"identifier.quote.sql\",language:\"sql\"},{offset:24,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:5,type:\"white.sql\",language:\"sql\"},{offset:6,type:\"keyword.sql\",language:\"sql\"},{offset:8,type:\"white.sql\",language:\"sql\"},{offset:9,type:\"identifier.sql\",language:\"sql\"},{offset:16,type:\"white.sql\",language:\"sql\"},{offset:17,type:\"keyword.sql\",language:\"sql\"},{offset:22,type:\"white.sql\",language:\"sql\"},{offset:23,type:\"keyword.sql\",language:\"sql\"},{offset:25,type:\"white.sql\",language:\"sql\"},{offset:26,type:\"identifier.sql\",language:\"sql\"},{offset:33,type:\"white.sql\",language:\"sql\"},{offset:34,type:\"keyword.sql\",language:\"sql\"},{offset:38,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:5,type:\"white.sql\",language:\"sql\"},{offset:6,type:\"number.sql\",language:\"sql\"},{offset:8,type:\"delimiter.sql\",language:\"sql\"}]]},multiLineFullQueryWithAggregation:{query:'SELECT count(column1),  \\n  FROM table1 \\n  \\n  WHERE column1 = \"value1\" \\n  GROUP BY column1 ORDER BY column1 DESC \\n  LIMIT 10;',tokens:[[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:6,type:\"white.sql\",language:\"sql\"},{offset:7,type:\"predefined.sql\",language:\"sql\"},{offset:12,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:13,type:\"identifier.sql\",language:\"sql\"},{offset:20,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:21,type:\"delimiter.sql\",language:\"sql\"},{offset:22,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:4,type:\"white.sql\",language:\"sql\"},{offset:5,type:\"identifier.sql\",language:\"sql\"},{offset:11,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:5,type:\"white.sql\",language:\"sql\"},{offset:6,type:\"identifier.sql\",language:\"sql\"},{offset:13,type:\"white.sql\",language:\"sql\"},{offset:14,type:\"operator.sql\",language:\"sql\"},{offset:15,type:\"white.sql\",language:\"sql\"},{offset:16,type:\"identifier.quote.sql\",language:\"sql\"},{offset:17,type:\"identifier.sql\",language:\"sql\"},{offset:23,type:\"identifier.quote.sql\",language:\"sql\"},{offset:24,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:5,type:\"white.sql\",language:\"sql\"},{offset:6,type:\"keyword.sql\",language:\"sql\"},{offset:8,type:\"white.sql\",language:\"sql\"},{offset:9,type:\"identifier.sql\",language:\"sql\"},{offset:16,type:\"white.sql\",language:\"sql\"},{offset:17,type:\"keyword.sql\",language:\"sql\"},{offset:22,type:\"white.sql\",language:\"sql\"},{offset:23,type:\"keyword.sql\",language:\"sql\"},{offset:25,type:\"white.sql\",language:\"sql\"},{offset:26,type:\"identifier.sql\",language:\"sql\"},{offset:33,type:\"white.sql\",language:\"sql\"},{offset:34,type:\"keyword.sql\",language:\"sql\"},{offset:38,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:5,type:\"white.sql\",language:\"sql\"},{offset:6,type:\"number.sql\",language:\"sql\"},{offset:8,type:\"delimiter.sql\",language:\"sql\"}]]},singleLineEmptyQuery:{query:\"\",tokens:[]},singleLineTwoQueries:{query:'SELECT column1, FROM table1 WHERE column1 = \"value1\" GROUP BY column1 ORDER BY column1 DESC LIMIT 10; SELECT column2, FROM table2 WHERE column2 = \"value2\" GROUP BY column1 ORDER BY column2 DESC LIMIT 10;',tokens:[[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:6,type:\"white.sql\",language:\"sql\"},{offset:7,type:\"identifier.sql\",language:\"sql\"},{offset:14,type:\"delimiter.sql\",language:\"sql\"},{offset:15,type:\"white.sql\",language:\"sql\"},{offset:16,type:\"keyword.sql\",language:\"sql\"},{offset:20,type:\"white.sql\",language:\"sql\"},{offset:21,type:\"identifier.sql\",language:\"sql\"},{offset:27,type:\"white.sql\",language:\"sql\"},{offset:28,type:\"keyword.sql\",language:\"sql\"},{offset:33,type:\"white.sql\",language:\"sql\"},{offset:34,type:\"identifier.sql\",language:\"sql\"},{offset:41,type:\"white.sql\",language:\"sql\"},{offset:42,type:\"operator.sql\",language:\"sql\"},{offset:43,type:\"white.sql\",language:\"sql\"},{offset:44,type:\"identifier.quote.sql\",language:\"sql\"},{offset:45,type:\"identifier.sql\",language:\"sql\"},{offset:51,type:\"identifier.quote.sql\",language:\"sql\"},{offset:52,type:\"white.sql\",language:\"sql\"},{offset:53,type:\"keyword.sql\",language:\"sql\"},{offset:58,type:\"white.sql\",language:\"sql\"},{offset:59,type:\"keyword.sql\",language:\"sql\"},{offset:61,type:\"white.sql\",language:\"sql\"},{offset:62,type:\"identifier.sql\",language:\"sql\"},{offset:69,type:\"white.sql\",language:\"sql\"},{offset:70,type:\"keyword.sql\",language:\"sql\"},{offset:75,type:\"white.sql\",language:\"sql\"},{offset:76,type:\"keyword.sql\",language:\"sql\"},{offset:78,type:\"white.sql\",language:\"sql\"},{offset:79,type:\"identifier.sql\",language:\"sql\"},{offset:86,type:\"white.sql\",language:\"sql\"},{offset:87,type:\"keyword.sql\",language:\"sql\"},{offset:91,type:\"white.sql\",language:\"sql\"},{offset:92,type:\"keyword.sql\",language:\"sql\"},{offset:97,type:\"white.sql\",language:\"sql\"},{offset:98,type:\"number.sql\",language:\"sql\"},{offset:100,type:\"delimiter.sql\",language:\"sql\"},{offset:101,type:\"white.sql\",language:\"sql\"},{offset:102,type:\"keyword.sql\",language:\"sql\"},{offset:108,type:\"white.sql\",language:\"sql\"},{offset:109,type:\"identifier.sql\",language:\"sql\"},{offset:116,type:\"delimiter.sql\",language:\"sql\"},{offset:117,type:\"white.sql\",language:\"sql\"},{offset:118,type:\"keyword.sql\",language:\"sql\"},{offset:122,type:\"white.sql\",language:\"sql\"},{offset:123,type:\"identifier.sql\",language:\"sql\"},{offset:129,type:\"white.sql\",language:\"sql\"},{offset:130,type:\"keyword.sql\",language:\"sql\"},{offset:135,type:\"white.sql\",language:\"sql\"},{offset:136,type:\"identifier.sql\",language:\"sql\"},{offset:143,type:\"white.sql\",language:\"sql\"},{offset:144,type:\"operator.sql\",language:\"sql\"},{offset:145,type:\"white.sql\",language:\"sql\"},{offset:146,type:\"identifier.quote.sql\",language:\"sql\"},{offset:147,type:\"identifier.sql\",language:\"sql\"},{offset:153,type:\"identifier.quote.sql\",language:\"sql\"},{offset:154,type:\"white.sql\",language:\"sql\"},{offset:155,type:\"keyword.sql\",language:\"sql\"},{offset:160,type:\"white.sql\",language:\"sql\"},{offset:161,type:\"keyword.sql\",language:\"sql\"},{offset:163,type:\"white.sql\",language:\"sql\"},{offset:164,type:\"identifier.sql\",language:\"sql\"},{offset:171,type:\"white.sql\",language:\"sql\"},{offset:172,type:\"keyword.sql\",language:\"sql\"},{offset:177,type:\"white.sql\",language:\"sql\"},{offset:178,type:\"keyword.sql\",language:\"sql\"},{offset:180,type:\"white.sql\",language:\"sql\"},{offset:181,type:\"identifier.sql\",language:\"sql\"},{offset:188,type:\"white.sql\",language:\"sql\"},{offset:189,type:\"keyword.sql\",language:\"sql\"},{offset:193,type:\"white.sql\",language:\"sql\"},{offset:194,type:\"keyword.sql\",language:\"sql\"},{offset:199,type:\"white.sql\",language:\"sql\"},{offset:200,type:\"number.sql\",language:\"sql\"},{offset:202,type:\"delimiter.sql\",language:\"sql\"}]]},singleLineTwoQueriesWithAggregation:{query:'SELECT count(column1), FROM table1 WHERE column1 = \"value1\" GROUP BY column1 ORDER BY column1 DESC LIMIT 10; SELECT count(column2), FROM table2 WHERE column2 = \"value2\" GROUP BY column1 ORDER BY column2 DESC LIMIT 10;',tokens:[[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:6,type:\"white.sql\",language:\"sql\"},{offset:7,type:\"predefined.sql\",language:\"sql\"},{offset:12,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:13,type:\"identifier.sql\",language:\"sql\"},{offset:20,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:21,type:\"delimiter.sql\",language:\"sql\"},{offset:22,type:\"white.sql\",language:\"sql\"},{offset:23,type:\"keyword.sql\",language:\"sql\"},{offset:27,type:\"white.sql\",language:\"sql\"},{offset:28,type:\"identifier.sql\",language:\"sql\"},{offset:34,type:\"white.sql\",language:\"sql\"},{offset:35,type:\"keyword.sql\",language:\"sql\"},{offset:40,type:\"white.sql\",language:\"sql\"},{offset:41,type:\"identifier.sql\",language:\"sql\"},{offset:48,type:\"white.sql\",language:\"sql\"},{offset:49,type:\"operator.sql\",language:\"sql\"},{offset:50,type:\"white.sql\",language:\"sql\"},{offset:51,type:\"identifier.quote.sql\",language:\"sql\"},{offset:52,type:\"identifier.sql\",language:\"sql\"},{offset:58,type:\"identifier.quote.sql\",language:\"sql\"},{offset:59,type:\"white.sql\",language:\"sql\"},{offset:60,type:\"keyword.sql\",language:\"sql\"},{offset:65,type:\"white.sql\",language:\"sql\"},{offset:66,type:\"keyword.sql\",language:\"sql\"},{offset:68,type:\"white.sql\",language:\"sql\"},{offset:69,type:\"identifier.sql\",language:\"sql\"},{offset:76,type:\"white.sql\",language:\"sql\"},{offset:77,type:\"keyword.sql\",language:\"sql\"},{offset:82,type:\"white.sql\",language:\"sql\"},{offset:83,type:\"keyword.sql\",language:\"sql\"},{offset:85,type:\"white.sql\",language:\"sql\"},{offset:86,type:\"identifier.sql\",language:\"sql\"},{offset:93,type:\"white.sql\",language:\"sql\"},{offset:94,type:\"keyword.sql\",language:\"sql\"},{offset:98,type:\"white.sql\",language:\"sql\"},{offset:99,type:\"keyword.sql\",language:\"sql\"},{offset:104,type:\"white.sql\",language:\"sql\"},{offset:105,type:\"number.sql\",language:\"sql\"},{offset:107,type:\"delimiter.sql\",language:\"sql\"},{offset:108,type:\"white.sql\",language:\"sql\"},{offset:109,type:\"keyword.sql\",language:\"sql\"},{offset:115,type:\"white.sql\",language:\"sql\"},{offset:116,type:\"predefined.sql\",language:\"sql\"},{offset:121,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:122,type:\"identifier.sql\",language:\"sql\"},{offset:129,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:130,type:\"delimiter.sql\",language:\"sql\"},{offset:131,type:\"white.sql\",language:\"sql\"},{offset:132,type:\"keyword.sql\",language:\"sql\"},{offset:136,type:\"white.sql\",language:\"sql\"},{offset:137,type:\"identifier.sql\",language:\"sql\"},{offset:143,type:\"white.sql\",language:\"sql\"},{offset:144,type:\"keyword.sql\",language:\"sql\"},{offset:149,type:\"white.sql\",language:\"sql\"},{offset:150,type:\"identifier.sql\",language:\"sql\"},{offset:157,type:\"white.sql\",language:\"sql\"},{offset:158,type:\"operator.sql\",language:\"sql\"},{offset:159,type:\"white.sql\",language:\"sql\"},{offset:160,type:\"identifier.quote.sql\",language:\"sql\"},{offset:161,type:\"identifier.sql\",language:\"sql\"},{offset:167,type:\"identifier.quote.sql\",language:\"sql\"},{offset:168,type:\"white.sql\",language:\"sql\"},{offset:169,type:\"keyword.sql\",language:\"sql\"},{offset:174,type:\"white.sql\",language:\"sql\"},{offset:175,type:\"keyword.sql\",language:\"sql\"},{offset:177,type:\"white.sql\",language:\"sql\"},{offset:178,type:\"identifier.sql\",language:\"sql\"},{offset:185,type:\"white.sql\",language:\"sql\"},{offset:186,type:\"keyword.sql\",language:\"sql\"},{offset:191,type:\"white.sql\",language:\"sql\"},{offset:192,type:\"keyword.sql\",language:\"sql\"},{offset:194,type:\"white.sql\",language:\"sql\"},{offset:195,type:\"identifier.sql\",language:\"sql\"},{offset:202,type:\"white.sql\",language:\"sql\"},{offset:203,type:\"keyword.sql\",language:\"sql\"},{offset:207,type:\"white.sql\",language:\"sql\"},{offset:208,type:\"keyword.sql\",language:\"sql\"},{offset:213,type:\"white.sql\",language:\"sql\"},{offset:214,type:\"number.sql\",language:\"sql\"},{offset:216,type:\"delimiter.sql\",language:\"sql\"}]]},singleLineMultipleColumns:{query:'SELECT count(column1), column2 FROM table1 WHERE column1 = \"value1\" GROUP BY column1 ORDER BY column1, avg(column2) DESC LIMIT 10;',tokens:[[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:6,type:\"white.sql\",language:\"sql\"},{offset:7,type:\"predefined.sql\",language:\"sql\"},{offset:12,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:13,type:\"identifier.sql\",language:\"sql\"},{offset:20,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:21,type:\"delimiter.sql\",language:\"sql\"},{offset:22,type:\"white.sql\",language:\"sql\"},{offset:23,type:\"identifier.sql\",language:\"sql\"},{offset:30,type:\"white.sql\",language:\"sql\"},{offset:31,type:\"keyword.sql\",language:\"sql\"},{offset:35,type:\"white.sql\",language:\"sql\"},{offset:36,type:\"identifier.sql\",language:\"sql\"},{offset:42,type:\"white.sql\",language:\"sql\"},{offset:43,type:\"keyword.sql\",language:\"sql\"},{offset:48,type:\"white.sql\",language:\"sql\"},{offset:49,type:\"identifier.sql\",language:\"sql\"},{offset:56,type:\"white.sql\",language:\"sql\"},{offset:57,type:\"operator.sql\",language:\"sql\"},{offset:58,type:\"white.sql\",language:\"sql\"},{offset:59,type:\"identifier.quote.sql\",language:\"sql\"},{offset:60,type:\"identifier.sql\",language:\"sql\"},{offset:66,type:\"identifier.quote.sql\",language:\"sql\"},{offset:67,type:\"white.sql\",language:\"sql\"},{offset:68,type:\"keyword.sql\",language:\"sql\"},{offset:73,type:\"white.sql\",language:\"sql\"},{offset:74,type:\"keyword.sql\",language:\"sql\"},{offset:76,type:\"white.sql\",language:\"sql\"},{offset:77,type:\"identifier.sql\",language:\"sql\"},{offset:84,type:\"white.sql\",language:\"sql\"},{offset:85,type:\"keyword.sql\",language:\"sql\"},{offset:90,type:\"white.sql\",language:\"sql\"},{offset:91,type:\"keyword.sql\",language:\"sql\"},{offset:93,type:\"white.sql\",language:\"sql\"},{offset:94,type:\"identifier.sql\",language:\"sql\"},{offset:101,type:\"delimiter.sql\",language:\"sql\"},{offset:102,type:\"white.sql\",language:\"sql\"},{offset:103,type:\"predefined.sql\",language:\"sql\"},{offset:106,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:107,type:\"identifier.sql\",language:\"sql\"},{offset:114,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:115,type:\"white.sql\",language:\"sql\"},{offset:116,type:\"keyword.sql\",language:\"sql\"},{offset:120,type:\"white.sql\",language:\"sql\"},{offset:121,type:\"keyword.sql\",language:\"sql\"},{offset:126,type:\"white.sql\",language:\"sql\"},{offset:127,type:\"number.sql\",language:\"sql\"},{offset:129,type:\"delimiter.sql\",language:\"sql\"}]]},multiLineMultipleColumns:{query:'SELECT count(column1), column2 \\n  FROM table1 \\n  \\n  WHERE column1 = \"value1\" \\n  GROUP BY column1 ORDER BY column1, avg(column2) DESC \\n  LIMIT 10;',tokens:[[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:6,type:\"white.sql\",language:\"sql\"},{offset:7,type:\"predefined.sql\",language:\"sql\"},{offset:12,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:13,type:\"identifier.sql\",language:\"sql\"},{offset:20,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:21,type:\"delimiter.sql\",language:\"sql\"},{offset:22,type:\"white.sql\",language:\"sql\"},{offset:23,type:\"identifier.sql\",language:\"sql\"},{offset:30,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:4,type:\"white.sql\",language:\"sql\"},{offset:5,type:\"identifier.sql\",language:\"sql\"},{offset:11,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:5,type:\"white.sql\",language:\"sql\"},{offset:6,type:\"identifier.sql\",language:\"sql\"},{offset:13,type:\"white.sql\",language:\"sql\"},{offset:14,type:\"operator.sql\",language:\"sql\"},{offset:15,type:\"white.sql\",language:\"sql\"},{offset:16,type:\"identifier.quote.sql\",language:\"sql\"},{offset:17,type:\"identifier.sql\",language:\"sql\"},{offset:23,type:\"identifier.quote.sql\",language:\"sql\"},{offset:24,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:5,type:\"white.sql\",language:\"sql\"},{offset:6,type:\"keyword.sql\",language:\"sql\"},{offset:8,type:\"white.sql\",language:\"sql\"},{offset:9,type:\"identifier.sql\",language:\"sql\"},{offset:16,type:\"white.sql\",language:\"sql\"},{offset:17,type:\"keyword.sql\",language:\"sql\"},{offset:22,type:\"white.sql\",language:\"sql\"},{offset:23,type:\"keyword.sql\",language:\"sql\"},{offset:25,type:\"white.sql\",language:\"sql\"},{offset:26,type:\"identifier.sql\",language:\"sql\"},{offset:33,type:\"delimiter.sql\",language:\"sql\"},{offset:34,type:\"white.sql\",language:\"sql\"},{offset:35,type:\"predefined.sql\",language:\"sql\"},{offset:38,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:39,type:\"identifier.sql\",language:\"sql\"},{offset:46,type:\"delimiter.parenthesis.sql\",language:\"sql\"},{offset:47,type:\"white.sql\",language:\"sql\"},{offset:48,type:\"keyword.sql\",language:\"sql\"},{offset:52,type:\"white.sql\",language:\"sql\"}],[{offset:0,type:\"keyword.sql\",language:\"sql\"},{offset:5,type:\"white.sql\",language:\"sql\"},{offset:6,type:\"number.sql\",language:\"sql\"},{offset:8,type:\"delimiter.sql\",language:\"sql\"}]]}}),testStatementPosition:function(e,t,n){describe(\"\".concat(e),(function(){var o,r;beforeEach((function(){var e=new Map;t.forEach((function(t){return e.set(t.query.query,t.query.tokens)})),o=function(e){return{editor:{tokenize:function(t,n){return e.get(t)}},Range:{containsPosition:function(e,t){return t.lineNumber>=e.startLineNumber&&t.lineNumber<=e.endLineNumber&&t.column>=e.startColumn&&t.column<=e.endColumn}},languages:{CompletionItemKind:{Snippet:2,Function:1,Keyword:3},CompletionItemInsertTextRule:{InsertAsSnippet:2}}}}(e),r=new c.Registry((function(){return n().map((function(e){return{id:e.id,name:e.name||e.id,resolve:e.resolve}}))}))})),t.forEach((function(t){test(\"\".concat(t.query.query),(function(){!function(e,t,n,o,r){var s,i=R(O(o,(s=e,{getValue:function(e,t){return s},getValueInRange:function(e,t){return s.split(\"\\n\")[e.startLineNumber-1].trim().slice(0===e.startColumn?0:e.startColumn-1,e.endColumn-1)},getLineLength:function(e){return s.split(\"\\n\")[e-1].trim().length}}),t),r);expect(i).toContain(n)}(t.query.query,{lineNumber:t.position.line,column:t.position.column},e,o,r)}))}))}))}},pe=function(e){return{button:m.css({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5)})}},fe=function(e){var t=e.children,n=E(e,[\"children\"]),o=d.useStyles2(p.useCallback((function(e){return ce(e,n)}),[n]));return f.createElement(\"div\",{className:o.root},t)},ce=function(e,t){var n,o,r;return{root:m.css({display:\"flex\",flexDirection:null!==(n=t.direction)&&void 0!==n?n:\"row\",flexWrap:null===(o=t.wrap)||void 0===o||o?\"wrap\":void 0,alignItems:t.alignItems,gap:e.spacing(null!==(r=t.gap)&&void 0!==r?r:2),flexGrow:t.flexGrow})}},ge=function(e){return{root:m.css({display:\"flex\",flexWrap:\"wrap\",alignItems:\"center\",gap:e.spacing(3),minHeight:e.spacing(4)})}},me=function(e){var t=d.useStyles2(p.useCallback((function(t){return ye(t,e)}),[e]));return f.createElement(\"span\",{className:m.cx(t.wrapper)})};me.defaultProps={v:0,h:0,layout:\"block\"};var ye=function(e,t){var n,o;return{wrapper:m.css([{paddingRight:e.spacing(null!==(n=t.h)&&void 0!==n?n:0),paddingBottom:e.spacing(null!==(o=t.v)&&void 0!==o?o:0)},\"inline\"===t.layout&&{display:\"inline-block\"},\"block\"===t.layout&&{display:\"block\"}])}},Ee=function(e,t){return{root:m.css({minWidth:e.spacing(null!=t?t:0)}),label:m.css({fontSize:12,fontWeight:e.typography.fontWeightMedium}),optional:m.css({fontStyle:\"italic\",color:e.colors.text.secondary}),field:m.css({marginBottom:0}),icon:m.css({color:e.colors.text.secondary,marginLeft:e.spacing(1),\":hover\":{color:e.colors.text.primary}})}},Te=function(e){return{root:m.css({padding:e.spacing(1),backgroundColor:e.colors.background.secondary,borderRadius:e.shape.borderRadius(1)})}},qe=f.forwardRef((function(e,t){var n=e.items,o=e.renderItem,r=e.onChange;return f.createElement(fe,null,n.map((function(e,t){return f.createElement(\"div\",{key:t},o(e,(function(e){return function(e,t){var o=A([],S(n),!1);o[e]=t,r(o)}(t,e)}),(function(){return e=t,(o=A([],S(n),!1)).splice(e,1),void r(o);var e,o})))})),f.createElement(d.Button,{ref:t,onClick:function(){var e=A(A([],S(n),!1),[{}],!1);r(e)},variant:\"secondary\",size:\"md\",icon:\"plus\",\"aria-label\":\"Add\",type:\"button\"}))})),he=function(){return{switch:m.css({display:\"flex\",alignItems:\"center\",minHeight:30})}};var Se,Ae,ve,Re,Ce=function(e){var t=e.children,n=d.useStyles2(xe);return f.createElement(d.SelectContainer,y({},e,{className:m.cx(e.className,n.container)}),t)},Ie=function(e){var t=e.className,n=e.children,o=d.useStyles2(xe);return f.createElement(\"div\",{className:m.cx(t,o.valueContainer)},n)},xe=function(e){return{root:m.css({display:\"flex\",fontSize:12,alignItems:\"center\"}),label:m.css({color:e.colors.text.secondary,whiteSpace:\"nowrap\"}),container:m.css({background:\"none\",borderColor:\"transparent\"}),valueContainer:m.css({display:\"flex\",alignItems:\"center\",flex:\"initial\",color:e.colors.text.secondary,fontSize:12})}},we=[\"\",\"base\",\"hovered\",\"invalid\",\"focused\"],Oe=function(){return{root:m.css({display:\"flex\",\"> *\":{\"&:not(:first-child)\":{marginLeft:-1},\"&:first-child\":{borderTopRightRadius:0,borderBottomRightRadius:0},\"&:last-child\":{borderTopLeftRadius:0,borderBottomLeftRadius:0},\"&:not(:first-child):not(:last-child)\":{borderRadius:0},position:\"relative\",zIndex:we.indexOf(\"base\"),\"&:hover\":{zIndex:we.indexOf(\"hovered\")},\"&:focus-within\":{zIndex:we.indexOf(\"focused\")}}}),invalidChild:m.css({zIndex:we.indexOf(\"invalid\")})}},Ne=function(e){var t=e.children,n=e.title,o=e.description,r=e.isCollapsible,s=void 0!==r&&r,i=e.isInitiallyOpen,l=void 0===i||i,a=e.kind,u=void 0===a?\"section\":a,c=e.className,g=d.useTheme2(),E=g.colors,T=g.typography,q=g.spacing,h=S(p.useState(!s||l),2),A=h[0],v=h[1],R=A?\"angle-up\":\"angle-down\",C=\"sub-section\"===u,I=\"\".concat(A?\"Collapse\":\"Expand\",\" section \").concat(n),x={header:m.css({display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"}),title:m.css({margin:0}),subtitle:m.css({margin:0,fontWeight:T.fontWeightRegular}),descriptionText:m.css(y(y({marginTop:q(C?.25:.5),marginBottom:0},T.bodySmall),{color:E.text.secondary})),content:m.css({marginTop:q(2)})};return f.createElement(\"div\",{className:c},f.createElement(\"div\",{className:x.header},\"section\"===u?f.createElement(\"h3\",{className:x.title},n):f.createElement(\"h6\",{className:x.subtitle},n),s&&f.createElement(d.IconButton,{name:R,onClick:function(){return v(!A)},type:\"button\",size:\"xl\",\"aria-label\":I})),o&&f.createElement(\"p\",{className:x.descriptionText},o),A&&f.createElement(\"div\",{className:x.content},t))},Pe=function(e){var t=e.children,n=E(e,[\"children\"]);return f.createElement(Ne,y({},n,{kind:\"section\"}),t)},Le=function(e){var t=e.children,n=E(e,[\"children\"]);return f.createElement(Ne,y({},n,{kind:\"sub-section\"}),t)},be=function(e){var t=e.children,n=e.required,o=void 0!==n&&n,r=E(e,[\"children\",\"required\"]),s=d.useTheme2(),i={asterisk:m.css(Ae||(Ae=v([\"\\n      color: \",\";\\n    \"],[\"\\n      color: \",\";\\n    \"])),s.colors.error.main)};return f.createElement(d.InlineLabel,y({},r),f.createElement(\"span\",null,t,o&&f.createElement(f.Fragment,null,\" \",f.createElement(\"span\",{className:i.asterisk},\"*\"))))},Ke=function(){return{inlineFieldNoMarginRight:m.css({marginRight:0}),inlineFieldWithSecret:m.css({'[class$=\"layoutChildrenWrapper\"]:first-child':{flexGrow:1}})}},ke=function(e){var t=e.user,n=e.passwordConfigured,o=e.userTooltip,r=void 0===o?\"The username of the data source account\":o,s=e.passwordTooltip,i=void 0===s?\"The password of the data source account\":s,l=e.onUserChange,a=e.onPasswordChange,u=e.onPasswordReset,p=e.readOnly,c=Ke(),g={lastInlineField:m.css({marginBottom:0})};return f.createElement(f.Fragment,null,f.createElement(d.InlineField,{className:c.inlineFieldNoMarginRight,label:f.createElement(be,{width:24,tooltip:r,required:!0,htmlFor:\"basic-auth-user-input\",interactive:!0},\"User\"),grow:!0,disabled:p},f.createElement(d.Input,{id:\"basic-auth-user-input\",placeholder:\"User\",value:t,onChange:function(e){return l(e.currentTarget.value)},required:!0})),f.createElement(d.InlineField,{className:m.cx(c.inlineFieldNoMarginRight,c.inlineFieldWithSecret,g.lastInlineField),label:f.createElement(be,{width:24,tooltip:i,required:!0,htmlFor:\"basic-auth-password-input\",interactive:!0},\"Password\"),grow:!0,disabled:p},f.createElement(d.SecretInput,{id:\"basic-auth-password-input\",isConfigured:n,onReset:p?function(){}:u,placeholder:\"Password\",onChange:function(e){return a(e.currentTarget.value)},required:!0})))};(ve=exports.AuthMethod||(exports.AuthMethod={})).NoAuth=\"NoAuth\",ve.BasicAuth=\"BasicAuth\",ve.OAuthForward=\"OAuthForward\",ve.CrossSiteCredentials=\"CrossSiteCredentials\";var Me=((Re={})[exports.AuthMethod.BasicAuth]={label:\"Basic authentication\",value:exports.AuthMethod.BasicAuth,description:\"Authenticate with your data source username and password\"},Re[exports.AuthMethod.CrossSiteCredentials]={label:\"Enable cross-site access control requests\",value:exports.AuthMethod.CrossSiteCredentials,description:\"Allow cross-site Access-Control requests with your existing credentials and cookies. This enables the server to authenticate the user and perform authorized requests on their behalf on other domains.\"},Re[exports.AuthMethod.OAuthForward]={label:\"Forward OAuth Identity\",value:exports.AuthMethod.OAuthForward,description:\"Forward the OAuth access token (and if available: the OIDC ID token) of the user querying to the data source\"},Re[exports.AuthMethod.NoAuth]={label:\"No Authentication\",value:exports.AuthMethod.NoAuth,description:\"Data source is available without authentication\"},Re),Fe=function(e){var t,n,o,r,s=e.selectedMethod,i=e.mostCommonMethod,l=e.visibleMethods,a=e.customMethods,u=e.onAuthMethodSelect,c=e.basicAuth,g=e.readOnly,E=S(p.useState(!1),2),T=E[0],q=E[1],h=d.useTheme2(),v=h.colors,R=h.spacing,C=p.useMemo((function(){var e;return null!=l?l:A([exports.AuthMethod.BasicAuth,exports.AuthMethod.OAuthForward,exports.AuthMethod.NoAuth],S(null!==(e=null==a?void 0:a.map((function(e){return e.id})))&&void 0!==e?e:[]),!1)}),[a,l]),I=C.length>1,x=p.useMemo((function(){var e,t=null!==(e=null==a?void 0:a.reduce((function(e,t){return e[t.id]={label:t.label,value:t.id,description:t.description},e}),{}))&&void 0!==e?e:{},n=y(y({},t),Me);return C.filter((function(e){return Boolean(n[e])})).map((function(e){var t=n[e];return e===i&&I?y(y({},t),{label:\"\".concat(t.label,\" (most common)\")}):t}))}),[C,a,i,I]),w=s;I?s===exports.AuthMethod.NoAuth&&i&&!T&&(w=i):w=C[0];var O=null;w===exports.AuthMethod.BasicAuth&&c?O=f.createElement(ke,y({},c,{readOnly:g})):w.startsWith(\"custom-\")&&(O=null!==(n=null===(t=null==a?void 0:a.find((function(e){return e.id===w})))||void 0===t?void 0:t.component)&&void 0!==n?n:null);var N=I?\"Authentication methods\":null!==(o=x[0].label)&&void 0!==o?o:\"\",P=I?\"Choose an authentication method to access the data source\":null!==(r=x[0].description)&&void 0!==r?r:\"\",L={authMethods:m.css(y({marginTop:R(2.5)},I&&{padding:R(2),border:\"1px solid \".concat(v.border.weak)})),selectedMethodFields:m.css({marginTop:R(1.5)})};return f.createElement(Le,{title:N,description:P},f.createElement(\"div\",{className:L.authMethods},I&&f.createElement(d.Select,{options:x,value:w,onChange:function(e){q(!0),u(e.value)},disabled:g}),O&&f.createElement(\"div\",{className:L.selectedMethodFields},O)))},De=function(e){var t=e.children,n=e.enabled,o=e.label,r=e.tooltipText,s=e.onToggle,i=e.readOnly,l=d.useTheme2(),a=l.colors,u=l.spacing,p={container:m.css({marginTop:3}),checkboxContainer:m.css({display:\"flex\",alignItems:\"center\"}),infoIcon:m.css({marginTop:-2,marginLeft:5,color:a.text.secondary}),content:m.css({margin:u(1,0,2,3)})};return f.createElement(\"div\",{className:p.container},f.createElement(\"div\",{className:p.checkboxContainer},f.createElement(d.Checkbox,{value:n,label:o,onChange:function(){return s(!n)},disabled:i}),f.createElement(d.Tooltip,{placement:\"top\",content:r,interactive:!0},f.createElement(d.Icon,{name:\"info-circle\",className:p.infoIcon,size:\"sm\"}))),n&&t&&f.createElement(\"div\",{className:p.content},t))},Be=function(e){var t,n=e.enabled,o=e.certificateConfigured,r=e.onToggle,s=e.onCertificateChange,i=e.onCertificateReset,l=e.tooltips,a=e.readOnly,u=Ke();return f.createElement(De,{enabled:n,label:\"Add self-signed certificate\",tooltipText:\"Add your own Certificate Authority (CA) certificate on top of one generated by the certificate authorities for additional security measures\",onToggle:function(e){return r(e)},readOnly:a},f.createElement(d.InlineField,{label:f.createElement(be,{width:24,tooltip:null!==(t=null==l?void 0:l.certificateLabel)&&void 0!==t?t:\"Your self-signed certificate\",required:!0,htmlFor:\"self-signed-certificate-input\",interactive:!0},\"CA Certificate\"),grow:!0,className:m.cx(u.inlineFieldNoMarginRight,u.inlineFieldWithSecret),disabled:a},f.createElement(d.SecretTextArea,{id:\"self-signed-certificate-input\",isConfigured:o,onChange:function(e){return s(e.currentTarget.value)},onReset:a?function(){}:i,placeholder:\"Begins with --- BEGIN CERTIFICATE ---\",rows:6,required:!0})))},Ue=function(e){var t,n,o,r=e.enabled,s=e.serverName,i=e.clientCertificateConfigured,l=e.clientKeyConfigured,a=e.onToggle,u=e.onServerNameChange,p=e.onClientCertificateChange,c=e.onClientKeyChange,g=e.onClientCertificateReset,y=e.onClientKeyReset,E=e.tooltips,T=e.readOnly,q=Ke();return f.createElement(De,{enabled:r,label:\"TLS Client Authentication\",tooltipText:\"Validate using TLS client authentication, in which the server authenticates the client\",onToggle:function(e){return a(e)},readOnly:T},f.createElement(d.InlineField,{label:f.createElement(be,{width:24,tooltip:null!==(t=null==E?void 0:E.serverNameLabel)&&void 0!==t?t:\"A Servername is used to verify the hostname on the returned certificate\",required:!0,htmlFor:\"client-auth-servername-input\",interactive:!0},\"ServerName\"),grow:!0,className:q.inlineFieldNoMarginRight,disabled:T},f.createElement(d.Input,{id:\"client-auth-servername-input\",placeholder:\"domain.example.com\",value:s,onChange:function(e){return u(e.currentTarget.value)},required:!0})),f.createElement(d.InlineField,{label:f.createElement(be,{width:24,tooltip:null!==(n=null==E?void 0:E.certificateLabel)&&void 0!==n?n:\"The client certificate can be generated from a Certificate Authority or be self-signed\",required:!0,htmlFor:\"client-auth-client-certificate-input\",interactive:!0},\"Client Certificate\"),grow:!0,className:m.cx(q.inlineFieldNoMarginRight,q.inlineFieldWithSecret),disabled:T},f.createElement(d.SecretTextArea,{id:\"client-auth-client-certificate-input\",isConfigured:i,onChange:function(e){return p(e.currentTarget.value)},onReset:T?function(){}:g,placeholder:\"Begins with --- BEGIN CERTIFICATE ---\",rows:6,required:!0})),f.createElement(d.InlineField,{label:f.createElement(be,{width:24,tooltip:null!==(o=null==E?void 0:E.keyLabel)&&void 0!==o?o:\"The client key can be generated from a Certificate Authority or be self-signed\",required:!0,htmlFor:\"client-auth-client-key-input\",interactive:!0},\"Client Key\"),grow:!0,className:m.cx(q.inlineFieldNoMarginRight,q.inlineFieldWithSecret),disabled:T},f.createElement(d.SecretTextArea,{id:\"client-auth-client-key-input\",isConfigured:l,onChange:function(e){return c(e.currentTarget.value)},onReset:T?function(){}:y,placeholder:\"Begins with --- RSA PRIVATE KEY CERTIFICATE ---\",rows:6,required:!0})))},_e=function(e){var t=e.enabled,n=e.onToggle,o=e.readOnly;return f.createElement(De,{enabled:t,label:\"Skip TLS certificate validation\",tooltipText:\"Skipping TLS certificate validation is not recommended unless absolutely necessary or for testing\",onToggle:function(e){return n(e)},readOnly:o})},We=function(e){var t=e.selfSignedCertificate,n=e.TLSClientAuth,o=e.skipTLSVerification,r=e.readOnly,s=d.useTheme2().spacing,i={container:m.css({marginTop:s(3)})};return f.createElement(Le,{className:i.container,title:\"TLS settings\",description:\"Additional security measures that can be applied on top of authentication\"},f.createElement(Be,y({},t,{readOnly:r})),f.createElement(Ue,y({},n,{readOnly:r})),f.createElement(_e,y({},o,{readOnly:r})))},Ge=function(e){var t=e.header,n=e.onChange,o=e.onBlur,r=e.onDelete,s=e.readOnly,i=d.useTheme2().spacing,l=Ke(),a={container:m.css({alignItems:\"center\"}),input:m.css({minWidth:\"100%\"}),headerNameField:m.css({width:\"40%\",marginRight:0,paddingRight:i(1)}),headerValueField:m.css({width:\"45%\",marginRight:0}),removeHeaderBtn:m.css({margin:\"0 0 3px 10px\"})};return f.createElement(f.Fragment,null,f.createElement(d.InlineFieldRow,{className:a.container},f.createElement(d.InlineField,{label:\"Header\",labelWidth:9,grow:!0,className:a.headerNameField,htmlFor:\"custom-header-\".concat(t.id,\"-name-input\"),disabled:s},f.createElement(d.Input,{id:\"custom-header-\".concat(t.id,\"-name-input\"),placeholder:\"X-Custom-Header\",value:t.name,width:12,onChange:function(e){return n(y(y({},t),{name:e.currentTarget.value}))},onBlur:o,className:a.input})),f.createElement(d.InlineField,{label:\"Value\",labelWidth:9,grow:!0,className:m.cx(l.inlineFieldWithSecret,a.headerValueField),htmlFor:\"custom-header-\".concat(t.id,\"-value-input\"),disabled:s},f.createElement(d.SecretInput,{id:\"custom-header-\".concat(t.id,\"-value-input\"),isConfigured:t.configured,placeholder:\"Header value\",value:t.value,width:12,onChange:function(e){return n(y(y({},t),{value:e.currentTarget.value}))},onReset:s?function(){}:function(){return n(y(y({},t),{configured:!1,value:\"\"}))},onBlur:o,className:a.input})),f.createElement(d.IconButton,{name:\"trash-alt\",tooltip:\"Remove header\",tooltipPlacement:\"top\",className:a.removeHeaderBtn,onClick:r,type:\"button\",disabled:s})))},Ye=function(e){var t=e.headers,n=e.onChange,o=e.readOnly,r=d.useTheme2().spacing,s=S(p.useState(t.map((function(e){return y(y({},e),{id:Ve(),value:\"\"})}))),2),i=s[0],l=s[1];p.useEffect((function(){l((function(e){var n=!1,o=e.map((function(e){var o,r=null===(o=t.find((function(t){return t.name===e.name})))||void 0===o?void 0:o.configured;return void 0!==r&&e.configured!==r?(n=!0,y(y({},e),{configured:r})):e}));return n?o:e}))}),[t]);var a=function(){n(i.map((function(e){return{name:e.name,value:e.value,configured:e.configured}})))},u={container:m.css({marginTop:r(3)}),addHeaderButton:m.css({marginTop:r(1.5)})};return f.createElement(\"div\",{className:u.container},f.createElement(Le,{title:\"HTTP headers\",description:\"Pass along additional context and metadata about the request/response\",isCollapsible:!0,isInitiallyOpen:i.length>0},f.createElement(\"div\",null,i.map((function(e){return f.createElement(Ge,{key:e.id,header:e,onChange:function(e){return function(e,t){l(i.map((function(n){return n.id===e?y({},t):n})))}(e.id,e)},onDelete:function(){return function(e){var t=i.findIndex((function(t){return t.id===e}));if(-1!==t){var o=A([],S(i),!1);o.splice(t,1),l(o),n(o.map((function(e){return{name:e.name,value:e.value,configured:e.configured}})))}}(e.id)},onBlur:a,readOnly:o})}))),f.createElement(\"div\",{className:u.addHeaderButton},f.createElement(d.Button,{icon:\"plus\",variant:\"secondary\",fill:\"outline\",onClick:function(){l(A(A([],S(i),!1),[{id:Ve(),name:\"\",value:\"\",configured:!1}],!1))},disabled:o},0===i.length?\"Add header\":\"Add another header\"))))};function Ve(){return Math.random().toString(16).slice(2)}function He(e){return e.basicAuth?exports.AuthMethod.BasicAuth:e.withCredentials?exports.AuthMethod.CrossSiteCredentials:e.jsonData.oauthPassThru?exports.AuthMethod.OAuthForward:exports.AuthMethod.NoAuth}function Xe(e,t){return function(n){t(y(y({},e),{basicAuth:n===exports.AuthMethod.BasicAuth,withCredentials:n===exports.AuthMethod.CrossSiteCredentials,jsonData:y(y({},e.jsonData),{oauthPassThru:n===exports.AuthMethod.OAuthForward})}))}}function $e(e,t){return{user:e.basicAuthUser,passwordConfigured:e.secureJsonFields.basicAuthPassword,onUserChange:function(n){return t(y(y({},e),{basicAuthUser:n}))},onPasswordChange:function(n){return t(y(y({},e),{secureJsonData:y(y({},e.secureJsonData),{basicAuthPassword:n})}))},onPasswordReset:function(){return t(y(y({},e),{secureJsonData:y(y({},e.secureJsonData),{basicAuthPassword:\"\"}),secureJsonFields:y(y({},e.secureJsonFields),{basicAuthPassword:!1})}))}}}function je(e,t){return{selfSignedCertificate:{enabled:Boolean(e.jsonData.tlsAuthWithCACert),certificateConfigured:e.secureJsonFields.tlsCACert,onToggle:function(n){return t(y(y({},e),{jsonData:y(y({},e.jsonData),{tlsAuthWithCACert:n})}))},onCertificateChange:function(n){return t(y(y({},e),{secureJsonData:y(y({},e.secureJsonData),{tlsCACert:n})}))},onCertificateReset:function(){return t(y(y({},e),{secureJsonData:y(y({},e.secureJsonData),{tlsCACert:\"\"}),secureJsonFields:y(y({},e.secureJsonFields),{tlsCACert:!1})}))}},TLSClientAuth:{enabled:e.jsonData.tlsAuth,serverName:e.jsonData.serverName,clientCertificateConfigured:e.secureJsonFields.tlsClientCert,clientKeyConfigured:e.secureJsonFields.tlsClientKey,onToggle:function(n){return t(y(y({},e),{jsonData:y(y({},e.jsonData),{tlsAuth:n})}))},onServerNameChange:function(n){return t(y(y({},e),{jsonData:y(y({},e.jsonData),{serverName:n})}))},onClientCertificateChange:function(n){return t(y(y({},e),{secureJsonData:y(y({},e.secureJsonData),{tlsClientCert:n})}))},onClientCertificateReset:function(){return t(y(y({},e),{secureJsonData:y(y({},e.secureJsonData),{tlsClientCert:\"\"}),secureJsonFields:y(y({},e.secureJsonFields),{tlsClientCert:!1})}))},onClientKeyChange:function(n){return t(y(y({},e),{secureJsonData:y(y({},e.secureJsonData),{tlsClientKey:n})}))},onClientKeyReset:function(){return t(y(y({},e),{secureJsonData:y(y({},e.secureJsonData),{tlsClientKey:\"\"}),secureJsonFields:y(y({},e.secureJsonFields),{tlsClientKey:!1})}))}},skipTLSVerification:{enabled:e.jsonData.tlsSkipVerify,onToggle:function(n){return t(y(y({},e),{jsonData:y(y({},e.jsonData),{tlsSkipVerify:n})}))}}}}function Je(e,t){return{headers:Object.keys(e.jsonData).filter((function(e){return e.startsWith(\"httpHeaderName\")})).sort().map((function(t){var n,o=t.slice(\"httpHeaderName\".length);return{name:e.jsonData[t],configured:null!==(n=e.secureJsonFields[\"\".concat(\"httpHeaderValue\").concat(o)])&&void 0!==n&&n}})),onChange:function(n){var o=Object.fromEntries(Object.entries(e.jsonData).filter((function(e){return!S(e,1)[0].startsWith(\"httpHeaderName\")}))),r=Object.fromEntries(Object.entries(e.secureJsonData||{}).filter((function(e){return!S(e,1)[0].startsWith(\"httpHeaderValue\")}))),s=Object.fromEntries(Object.entries(e.secureJsonFields).filter((function(e){return!S(e,1)[0].startsWith(\"httpHeaderValue\")})));n.forEach((function(e,t){o[\"\".concat(\"httpHeaderName\").concat(t+1)]=e.name,e.configured?s[\"\".concat(\"httpHeaderValue\").concat(t+1)]=!0:r[\"\".concat(\"httpHeaderValue\").concat(t+1)]=e.value})),t(y(y({},e),{jsonData:o,secureJsonData:r,secureJsonFields:s}))}}}exports.AccessoryButton=function(e){var t=e.className,n=E(e,[\"className\"]),o=d.useStyles2(pe);return f.createElement(d.Button,y({},n,{className:m.cx(t,o.button)}))},exports.Auth=function(e){var t=e.selectedMethod,n=e.mostCommonMethod,o=e.visibleMethods,r=e.customMethods,s=e.onAuthMethodSelect,i=e.basicAuth,l=e.TLS,a=e.customHeaders,u=e.readOnly,d=void 0!==u&&u,p={container:m.css({maxWidth:578})};return f.createElement(\"div\",{className:p.container},f.createElement(Pe,{title:\"Authentication\"},f.createElement(Fe,{selectedMethod:t,mostCommonMethod:n,customMethods:r,visibleMethods:o,onAuthMethodSelect:s,basicAuth:i,readOnly:d}),l&&f.createElement(We,y({},l,{readOnly:d})),a&&f.createElement(Ye,y({},a,{readOnly:d}))))},exports.ConfigSection=Pe,exports.ConfigSubSection=Le,exports.DataSourceDescription=function(e){var t=e.dataSourceName,n=e.docsLink,o=e.hasRequiredFields,r=void 0===o||o,s=e.className,i=d.useTheme2(),l={container:m.css({p:{margin:0},\"p + p\":{marginTop:i.spacing(2)}}),text:m.css(y(y({},i.typography.body),{color:i.colors.text.secondary,a:m.css({color:i.colors.text.link,textDecoration:\"underline\",\"&:hover\":{textDecoration:\"none\"}})})),asterisk:m.css(Se||(Se=v([\"\\n      color: \",\";\\n    \"],[\"\\n      color: \",\";\\n    \"])),i.colors.error.main)};return f.createElement(\"div\",{className:m.cx(l.container,s)},f.createElement(\"p\",{className:l.text},\"Before you can use the \",t,\" data source, you must configure it below or in the config file. For detailed instructions,\",\" \",f.createElement(\"a\",{href:n,target:\"_blank\",rel:\"noreferrer\"},\"view the documentation\"),\".\"),r&&f.createElement(\"p\",{className:l.text},f.createElement(\"i\",null,\"Fields marked in \",f.createElement(\"span\",{className:l.asterisk},\"*\"),\" are required\")))},exports.EditorField=function(e){var t=e.label,n=e.optional,o=e.tooltip,r=e.tooltipInteractive,s=e.children,i=e.width,l=E(e,[\"label\",\"optional\",\"tooltip\",\"tooltipInteractive\",\"children\",\"width\"]),a=d.useStyles2(p.useCallback((function(e){return Ee(e,i)}),[i])),u=(null==l?void 0:l.htmlFor)||(null===d.ReactUtils||void 0===d.ReactUtils?void 0:d.ReactUtils.getChildId(s)),c=f.createElement(f.Fragment,null,f.createElement(\"label\",{className:a.label,htmlFor:u},t,n&&f.createElement(\"span\",{className:a.optional},\" - optional\"),o&&f.createElement(d.Tooltip,{placement:\"top\",content:o,theme:\"info\",interactive:r},f.createElement(d.Icon,{tabIndex:0,name:\"info-circle\",size:\"sm\",className:a.icon}))),f.createElement(me,{v:.5}));return f.createElement(\"div\",{className:a.root},f.createElement(d.Field,y({className:a.field,label:c},l),s))},exports.EditorFieldGroup=function(e){var t=e.children;return f.createElement(fe,{gap:1},t)},exports.EditorHeader=function(e){var t=e.children,n=d.useStyles2(ge);return f.createElement(\"div\",{className:n.root},t)},exports.EditorList=qe,exports.EditorRow=function(e){var t=e.children,n=d.useStyles2(Te);return f.createElement(\"div\",{className:n.root},f.createElement(fe,{gap:2},t))},exports.EditorRows=function(e){var t=e.children;return f.createElement(fe,{gap:.5,direction:\"column\"},t)},exports.EditorSwitch=function(e){var t=he();return f.createElement(\"div\",{className:t.switch},f.createElement(d.Switch,y({},e)))},exports.FlexItem=function(e){var t=e.grow,n=e.shrink;return f.createElement(\"div\",{style:{display:\"block\",flexGrow:t,flexShrink:n}})},exports.InlineSelect=function(e){var t=e.label,n=E(e,[\"label\"]),o=d.useStyles2(xe),r=S(p.useState((function(){return Math.random().toString(16).slice(2)})),1)[0],s={SelectContainer:Ce,ValueContainer:Ie,SingleValue:Ie};return f.createElement(\"div\",{className:o.root},t&&f.createElement(\"label\",{className:o.label,htmlFor:r},t,\":\",\" \"),f.createElement(d.Select,y({openMenuOnFocus:!0,inputId:r},n,{components:s})))},exports.InputGroup=function(e){var t=e.children,n=d.useStyles2(Oe),o=p.Children.map(t,(function(e){return p.isValidElement(e)&&e.props.invalid?p.cloneElement(e,{className:m.cx(e.props.className,n.invalidChild)}):e}));return f.createElement(\"div\",{className:n.root},o)},exports.LinkedToken=x,exports.SQLEditor=function(e){var t=e.children,n=e.onBlur,o=e.onChange,r=e.query,s=e.language,i=void 0===s?{id:\"sql\"}:s,l=e.width,a=e.height,u=p.useRef(null),c=p.useRef(),g=p.useMemo((function(){var e=z(),t=\"\".concat(i.id,\"-\").concat(e);return c.current=t,t}),[i.id]);p.useEffect((function(){return function(){ae.delete(c.current),oe(\"Removing instance cache \".concat(c.current),!1,ae)}}),[]);var m=p.useCallback((function(){u.current&&u.current.getAction(\"editor.action.formatDocument\").run()}),[]);return f.createElement(\"div\",{style:{width:l}},f.createElement(d.CodeEditor,{height:a||\"240px\",width:l?\"\".concat(l-2,\"px\"):void 0,language:g,value:r,onBlur:function(e){o&&o(e,!1),n&&n()},showMiniMap:!1,showLineNumbers:!0,onEditorDidMount:function(e,t){u.current=e,e.onDidChangeModelContent((function(t){var n=e.getValue();o&&o(n,!1)})),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.Enter,(function(){var t=e.getValue();o&&o(t,!0)})),e.onKeyUp((function(t){84===t.keyCode&&e.trigger(V.id,V.id,{})})),ue(t,i,g)}}),t&&t({formatQuery:m}))},exports.SQLEditorTestUtils=de,exports.Space=me,exports.Stack=fe,exports.convertLegacyAuthProps=function(e){var t=e.config,n=e.onChange;return{selectedMethod:He(t),onAuthMethodSelect:Xe(t,n),basicAuth:$e(t,n),TLS:je(t,n),customHeaders:Je(t,n),readOnly:t.readOnly}},exports.getStandardSQLCompletionProvider=se,exports.grafanaStandardSQLLanguage=U,exports.grafanaStandardSQLLanguageConf=B;\n//# sourceMappingURL=index.production.js.map\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./dist/index.production.js');\n} else {\n  module.exports = require('./dist/index.development.js');\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__644__;","module.exports = __WEBPACK_EXTERNAL_MODULE__305__;","module.exports = __WEBPACK_EXTERNAL_MODULE__545__;","module.exports = __WEBPACK_EXTERNAL_MODULE__388__;","module.exports = __WEBPACK_EXTERNAL_MODULE__980__;","module.exports = __WEBPACK_EXTERNAL_MODULE__650__;","module.exports = __WEBPACK_EXTERNAL_MODULE__129__;","module.exports = __WEBPACK_EXTERNAL_MODULE__177__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n};\n","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export var COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind: kind,\n        value: value,\n        error: error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","import { __extends } from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this.shouldUnsubscribe = shouldUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            var closed_1 = this.closed;\n            _super.prototype.unsubscribe.call(this);\n            !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    };\n    return OperatorSubscriber;\n}(Subscriber));\nexport { OperatorSubscriber };\n//# sourceMappingURL=OperatorSubscriber.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","export var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map","export var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscriber = new SafeSubscriber({\n                next: function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            _this.subscribe(subscriber);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = getSymbolIterator();\n//# sourceMappingURL=iterator.js.map","import { __asyncValues, __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { Observable } from '../Observable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nexport function fromInteropObservable(obj) {\n    return new Observable(function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable(function (subscriber) {\n        for (var i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nexport function fromPromise(promise) {\n    return new Observable(function (subscriber) {\n        promise\n            .then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, reportUnhandledError);\n    });\n}\nexport function fromIterable(iterable) {\n    return new Observable(function (subscriber) {\n        var e_1, _a;\n        try {\n            for (var iterable_1 = __values(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {\n                var value = iterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\nexport function fromAsyncIterable(asyncIterable) {\n    return new Observable(function (subscriber) {\n        process(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });\n    });\n}\nexport function fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_2, _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var value, e_2_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 5, 6, 11]);\n                    asyncIterable_1 = __asyncValues(asyncIterable);\n                    _b.label = 1;\n                case 1: return [4, asyncIterable_1.next()];\n                case 2:\n                    if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];\n                    value = asyncIterable_1_1.value;\n                    subscriber.next(value);\n                    if (subscriber.closed) {\n                        return [2];\n                    }\n                    _b.label = 3;\n                case 3: return [3, 1];\n                case 4: return [3, 11];\n                case 5:\n                    e_2_1 = _b.sent();\n                    e_2 = { error: e_2_1 };\n                    return [3, 11];\n                case 6:\n                    _b.trys.push([6, , 9, 10]);\n                    if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];\n                    return [4, _a.call(asyncIterable_1)];\n                case 7:\n                    _b.sent();\n                    _b.label = 8;\n                case 8: return [3, 10];\n                case 9:\n                    if (e_2) throw e_2.error;\n                    return [7];\n                case 10: return [7];\n                case 11:\n                    subscriber.complete();\n                    return [2];\n            }\n        });\n    });\n}\n//# sourceMappingURL=innerFrom.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n//# sourceMappingURL=isPromise.js.map","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n//# sourceMappingURL=isAsyncIterable.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n//# sourceMappingURL=isIterable.js.map","import { __asyncGenerator, __await, __generator } from \"tslib\";\nimport { isFunction } from './isFunction';\nexport function readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function readableStreamLikeToAsyncGenerator_1() {\n        var reader, _a, value, done;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    reader = readableStream.getReader();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, , 9, 10]);\n                    _b.label = 2;\n                case 2:\n                    if (!true) return [3, 8];\n                    return [4, __await(reader.read())];\n                case 3:\n                    _a = _b.sent(), value = _a.value, done = _a.done;\n                    if (!done) return [3, 5];\n                    return [4, __await(void 0)];\n                case 4: return [2, _b.sent()];\n                case 5: return [4, __await(value)];\n                case 6: return [4, _b.sent()];\n                case 7:\n                    _b.sent();\n                    return [3, 2];\n                case 8: return [3, 10];\n                case 9:\n                    reader.releaseLock();\n                    return [7];\n                case 10: return [2];\n            }\n        });\n    });\n}\nexport function isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n//# sourceMappingURL=isReadableStreamLike.js.map","export function createInvalidObservableTypeError(input) {\n    return new TypeError(\"You provided \" + (input !== null && typeof input === 'object' ? 'an invalid object' : \"'\" + input + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n//# sourceMappingURL=throwUnobservableError.js.map","import { map } from './map';\nimport { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nimport { isFunction } from '../util/isFunction';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Infinity; }\n    if (isFunction(resultSelector)) {\n        return mergeMap(function (a, i) { return map(function (b, ii) { return resultSelector(a, b, i, ii); })(innerFrom(project(a, i))); }, concurrent);\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return operate(function (source, subscriber) { return mergeInternals(source, subscriber, project, concurrent); });\n}\n//# sourceMappingURL=mergeMap.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { executeSchedule } from '../util/executeSchedule';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalFinalizer) {\n    var buffer = [];\n    var active = 0;\n    var index = 0;\n    var isComplete = false;\n    var checkComplete = function () {\n        if (isComplete && !buffer.length && !active) {\n            subscriber.complete();\n        }\n    };\n    var outerNext = function (value) { return (active < concurrent ? doInnerSub(value) : buffer.push(value)); };\n    var doInnerSub = function (value) {\n        expand && subscriber.next(value);\n        active++;\n        var innerComplete = false;\n        innerFrom(project(value, index++)).subscribe(createOperatorSubscriber(subscriber, function (innerValue) {\n            onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);\n            if (expand) {\n                outerNext(innerValue);\n            }\n            else {\n                subscriber.next(innerValue);\n            }\n        }, function () {\n            innerComplete = true;\n        }, undefined, function () {\n            if (innerComplete) {\n                try {\n                    active--;\n                    var _loop_1 = function () {\n                        var bufferedValue = buffer.shift();\n                        if (innerSubScheduler) {\n                            executeSchedule(subscriber, innerSubScheduler, function () { return doInnerSub(bufferedValue); });\n                        }\n                        else {\n                            doInnerSub(bufferedValue);\n                        }\n                    };\n                    while (buffer.length && active < concurrent) {\n                        _loop_1();\n                    }\n                    checkComplete();\n                }\n                catch (err) {\n                    subscriber.error(err);\n                }\n            }\n        }));\n    };\n    source.subscribe(createOperatorSubscriber(subscriber, outerNext, function () {\n        isComplete = true;\n        checkComplete();\n    }));\n    return function () {\n        additionalFinalizer === null || additionalFinalizer === void 0 ? void 0 : additionalFinalizer();\n    };\n}\n//# sourceMappingURL=mergeInternals.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { operate } from '../util/lift';\nexport function catchError(selector) {\n    return operate(function (source, subscriber) {\n        var innerSub = null;\n        var syncUnsub = false;\n        var handledResult;\n        innerSub = source.subscribe(createOperatorSubscriber(subscriber, undefined, undefined, function (err) {\n            handledResult = innerFrom(selector(err, catchError(selector)(source)));\n            if (innerSub) {\n                innerSub.unsubscribe();\n                innerSub = null;\n                handledResult.subscribe(subscriber);\n            }\n            else {\n                syncUnsub = true;\n            }\n        }));\n        if (syncUnsub) {\n            innerSub.unsubscribe();\n            innerSub = null;\n            handledResult.subscribe(subscriber);\n        }\n    });\n}\n//# sourceMappingURL=catchError.js.map","import { DataSourceJsonData } from \"@grafana/data\";\nimport { DataLinkConfig } from \"types\";\n\nexport interface QuickwitOptions extends DataSourceJsonData {\n    timeField: string;\n    timeOutputFormat: string;\n    interval?: Interval;\n    logMessageField?: string;\n    logLevelField?: string;\n    dataLinks?: DataLinkConfig[];\n    index: string;\n}\n\nexport interface LogRowContextOptions {\n    direction?: LogRowContextQueryDirection;\n    limit?: number;\n}\n\nexport enum LogRowContextQueryDirection {\n    Backward = 'BACKWARD',\n    Forward = 'FORWARD',\n}\n","import {\n  TermsQuery,\n} from './types';\n\nexport class ElasticQueryBuilder {\n  timeField: string;\n\n  constructor(options: { timeField: string }) {\n    this.timeField = options.timeField;\n  }\n\n  getRangeFilter() {\n    const filter: any = {};\n    filter[this.timeField] = {\n      gte: '$timeFrom',\n      lte: '$timeTo',\n      // FIXME when Quickwit supports format.\n      // format: 'epoch_millis',\n    };\n\n    return filter;\n  }\n\n  getTermsQuery(queryDef: TermsQuery) {\n    const query: any = {\n      size: 0,\n      query: {\n        bool: {\n          filter: [{ range: this.getRangeFilter() }],\n        },\n      },\n    };\n\n    if (queryDef.query) {\n      query.query.bool.filter.push({\n        query_string: {\n          // FIXME when Quickwit supports analyze_wildcard.\n          // analyze_wildcard: true,\n          query: queryDef.query,\n        },\n      });\n    }\n\n    let size = 500;\n    if (queryDef.size) {\n      size = queryDef.size;\n    }\n\n    query.aggs = {\n      '1': {\n        terms: {\n          field: queryDef.field,\n          size: size,\n          order: {},\n        },\n      },\n    };\n\n    // Default behaviour is to order results by { _key: asc }\n    // queryDef.order allows selection of asc/desc\n    // queryDef.orderBy allows selection of doc_count ordering (defaults desc)\n\n    const { orderBy = 'key', order = orderBy === 'doc_count' ? 'desc' : 'asc' } = queryDef;\n\n    if (['asc', 'desc'].indexOf(order) < 0) {\n      throw { message: `Invalid query sort order ${order}` };\n    }\n\n    switch (orderBy) {\n      case 'key':\n      case 'term':\n        const keyname = '_key';\n        query.aggs['1'].terms.order[keyname] = order;\n        break;\n      case 'doc_count':\n        query.aggs['1'].terms.order['_count'] = order;\n        break;\n      default:\n        throw { message: `Invalid query sort type ${orderBy}` };\n    }\n\n    return query;\n  }\n}\n","var TextDimensionMode = /* @__PURE__ */ ((TextDimensionMode2) => {\n  TextDimensionMode2[\"Field\"] = \"field\";\n  TextDimensionMode2[\"Fixed\"] = \"fixed\";\n  TextDimensionMode2[\"Template\"] = \"template\";\n  return TextDimensionMode2;\n})(TextDimensionMode || {});\nvar FrameGeometrySourceMode = /* @__PURE__ */ ((FrameGeometrySourceMode2) => {\n  FrameGeometrySourceMode2[\"Auto\"] = \"auto\";\n  FrameGeometrySourceMode2[\"Coords\"] = \"coords\";\n  FrameGeometrySourceMode2[\"Geohash\"] = \"geohash\";\n  FrameGeometrySourceMode2[\"Lookup\"] = \"lookup\";\n  return FrameGeometrySourceMode2;\n})(FrameGeometrySourceMode || {});\nvar HeatmapCalculationMode = /* @__PURE__ */ ((HeatmapCalculationMode2) => {\n  HeatmapCalculationMode2[\"Count\"] = \"count\";\n  HeatmapCalculationMode2[\"Size\"] = \"size\";\n  return HeatmapCalculationMode2;\n})(HeatmapCalculationMode || {});\nvar HeatmapCellLayout = /* @__PURE__ */ ((HeatmapCellLayout2) => {\n  HeatmapCellLayout2[\"auto\"] = \"auto\";\n  HeatmapCellLayout2[\"ge\"] = \"ge\";\n  HeatmapCellLayout2[\"le\"] = \"le\";\n  HeatmapCellLayout2[\"unknown\"] = \"unknown\";\n  return HeatmapCellLayout2;\n})(HeatmapCellLayout || {});\nvar LogsSortOrder = /* @__PURE__ */ ((LogsSortOrder2) => {\n  LogsSortOrder2[\"Ascending\"] = \"Ascending\";\n  LogsSortOrder2[\"Descending\"] = \"Descending\";\n  return LogsSortOrder2;\n})(LogsSortOrder || {});\nvar AxisPlacement = /* @__PURE__ */ ((AxisPlacement2) => {\n  AxisPlacement2[\"Auto\"] = \"auto\";\n  AxisPlacement2[\"Bottom\"] = \"bottom\";\n  AxisPlacement2[\"Hidden\"] = \"hidden\";\n  AxisPlacement2[\"Left\"] = \"left\";\n  AxisPlacement2[\"Right\"] = \"right\";\n  AxisPlacement2[\"Top\"] = \"top\";\n  return AxisPlacement2;\n})(AxisPlacement || {});\nvar AxisColorMode = /* @__PURE__ */ ((AxisColorMode2) => {\n  AxisColorMode2[\"Series\"] = \"series\";\n  AxisColorMode2[\"Text\"] = \"text\";\n  return AxisColorMode2;\n})(AxisColorMode || {});\nvar VisibilityMode = /* @__PURE__ */ ((VisibilityMode2) => {\n  VisibilityMode2[\"Always\"] = \"always\";\n  VisibilityMode2[\"Auto\"] = \"auto\";\n  VisibilityMode2[\"Never\"] = \"never\";\n  return VisibilityMode2;\n})(VisibilityMode || {});\nvar GraphDrawStyle = /* @__PURE__ */ ((GraphDrawStyle2) => {\n  GraphDrawStyle2[\"Bars\"] = \"bars\";\n  GraphDrawStyle2[\"Line\"] = \"line\";\n  GraphDrawStyle2[\"Points\"] = \"points\";\n  return GraphDrawStyle2;\n})(GraphDrawStyle || {});\nvar GraphTransform = /* @__PURE__ */ ((GraphTransform2) => {\n  GraphTransform2[\"Constant\"] = \"constant\";\n  GraphTransform2[\"NegativeY\"] = \"negative-Y\";\n  return GraphTransform2;\n})(GraphTransform || {});\nvar LineInterpolation = /* @__PURE__ */ ((LineInterpolation2) => {\n  LineInterpolation2[\"Linear\"] = \"linear\";\n  LineInterpolation2[\"Smooth\"] = \"smooth\";\n  LineInterpolation2[\"StepAfter\"] = \"stepAfter\";\n  LineInterpolation2[\"StepBefore\"] = \"stepBefore\";\n  return LineInterpolation2;\n})(LineInterpolation || {});\nvar ScaleDistribution = /* @__PURE__ */ ((ScaleDistribution2) => {\n  ScaleDistribution2[\"Linear\"] = \"linear\";\n  ScaleDistribution2[\"Log\"] = \"log\";\n  ScaleDistribution2[\"Ordinal\"] = \"ordinal\";\n  ScaleDistribution2[\"Symlog\"] = \"symlog\";\n  return ScaleDistribution2;\n})(ScaleDistribution || {});\nvar GraphGradientMode = /* @__PURE__ */ ((GraphGradientMode2) => {\n  GraphGradientMode2[\"Hue\"] = \"hue\";\n  GraphGradientMode2[\"None\"] = \"none\";\n  GraphGradientMode2[\"Opacity\"] = \"opacity\";\n  GraphGradientMode2[\"Scheme\"] = \"scheme\";\n  return GraphGradientMode2;\n})(GraphGradientMode || {});\nvar StackingMode = /* @__PURE__ */ ((StackingMode2) => {\n  StackingMode2[\"None\"] = \"none\";\n  StackingMode2[\"Normal\"] = \"normal\";\n  StackingMode2[\"Percent\"] = \"percent\";\n  return StackingMode2;\n})(StackingMode || {});\nvar BarAlignment = /* @__PURE__ */ ((BarAlignment2) => {\n  BarAlignment2[BarAlignment2[\"After\"] = 1] = \"After\";\n  BarAlignment2[BarAlignment2[\"Before\"] = -1] = \"Before\";\n  BarAlignment2[BarAlignment2[\"Center\"] = 0] = \"Center\";\n  return BarAlignment2;\n})(BarAlignment || {});\nvar ScaleOrientation = /* @__PURE__ */ ((ScaleOrientation2) => {\n  ScaleOrientation2[ScaleOrientation2[\"Horizontal\"] = 0] = \"Horizontal\";\n  ScaleOrientation2[ScaleOrientation2[\"Vertical\"] = 1] = \"Vertical\";\n  return ScaleOrientation2;\n})(ScaleOrientation || {});\nvar ScaleDirection = /* @__PURE__ */ ((ScaleDirection2) => {\n  ScaleDirection2[ScaleDirection2[\"Down\"] = -1] = \"Down\";\n  ScaleDirection2[ScaleDirection2[\"Left\"] = -1] = \"Left\";\n  ScaleDirection2[ScaleDirection2[\"Right\"] = 1] = \"Right\";\n  ScaleDirection2[ScaleDirection2[\"Up\"] = 1] = \"Up\";\n  return ScaleDirection2;\n})(ScaleDirection || {});\nconst defaultLineStyle = {\n  dash: []\n};\nvar GraphTresholdsStyleMode = /* @__PURE__ */ ((GraphTresholdsStyleMode2) => {\n  GraphTresholdsStyleMode2[\"Area\"] = \"area\";\n  GraphTresholdsStyleMode2[\"Dashed\"] = \"dashed\";\n  GraphTresholdsStyleMode2[\"DashedAndArea\"] = \"dashed+area\";\n  GraphTresholdsStyleMode2[\"Line\"] = \"line\";\n  GraphTresholdsStyleMode2[\"LineAndArea\"] = \"line+area\";\n  GraphTresholdsStyleMode2[\"Off\"] = \"off\";\n  GraphTresholdsStyleMode2[\"Series\"] = \"series\";\n  return GraphTresholdsStyleMode2;\n})(GraphTresholdsStyleMode || {});\nvar LegendDisplayMode = /* @__PURE__ */ ((LegendDisplayMode2) => {\n  LegendDisplayMode2[\"Hidden\"] = \"hidden\";\n  LegendDisplayMode2[\"List\"] = \"list\";\n  LegendDisplayMode2[\"Table\"] = \"table\";\n  return LegendDisplayMode2;\n})(LegendDisplayMode || {});\nconst defaultReduceDataOptions = {\n  calcs: []\n};\nvar VizOrientation = /* @__PURE__ */ ((VizOrientation2) => {\n  VizOrientation2[\"Auto\"] = \"auto\";\n  VizOrientation2[\"Horizontal\"] = \"horizontal\";\n  VizOrientation2[\"Vertical\"] = \"vertical\";\n  return VizOrientation2;\n})(VizOrientation || {});\nconst defaultOptionsWithTimezones = {\n  timezone: []\n};\nvar BigValueColorMode = /* @__PURE__ */ ((BigValueColorMode2) => {\n  BigValueColorMode2[\"Background\"] = \"background\";\n  BigValueColorMode2[\"BackgroundSolid\"] = \"background_solid\";\n  BigValueColorMode2[\"None\"] = \"none\";\n  BigValueColorMode2[\"Value\"] = \"value\";\n  return BigValueColorMode2;\n})(BigValueColorMode || {});\nvar BigValueGraphMode = /* @__PURE__ */ ((BigValueGraphMode2) => {\n  BigValueGraphMode2[\"Area\"] = \"area\";\n  BigValueGraphMode2[\"Line\"] = \"line\";\n  BigValueGraphMode2[\"None\"] = \"none\";\n  return BigValueGraphMode2;\n})(BigValueGraphMode || {});\nvar BigValueJustifyMode = /* @__PURE__ */ ((BigValueJustifyMode2) => {\n  BigValueJustifyMode2[\"Auto\"] = \"auto\";\n  BigValueJustifyMode2[\"Center\"] = \"center\";\n  return BigValueJustifyMode2;\n})(BigValueJustifyMode || {});\nvar BigValueTextMode = /* @__PURE__ */ ((BigValueTextMode2) => {\n  BigValueTextMode2[\"Auto\"] = \"auto\";\n  BigValueTextMode2[\"Name\"] = \"name\";\n  BigValueTextMode2[\"None\"] = \"none\";\n  BigValueTextMode2[\"Value\"] = \"value\";\n  BigValueTextMode2[\"ValueAndName\"] = \"value_and_name\";\n  return BigValueTextMode2;\n})(BigValueTextMode || {});\nvar TooltipDisplayMode = /* @__PURE__ */ ((TooltipDisplayMode2) => {\n  TooltipDisplayMode2[\"Multi\"] = \"multi\";\n  TooltipDisplayMode2[\"None\"] = \"none\";\n  TooltipDisplayMode2[\"Single\"] = \"single\";\n  return TooltipDisplayMode2;\n})(TooltipDisplayMode || {});\nvar SortOrder = /* @__PURE__ */ ((SortOrder2) => {\n  SortOrder2[\"Ascending\"] = \"asc\";\n  SortOrder2[\"Descending\"] = \"desc\";\n  SortOrder2[\"None\"] = \"none\";\n  return SortOrder2;\n})(SortOrder || {});\nconst defaultVizLegendOptions = {\n  calcs: []\n};\nvar BarGaugeDisplayMode = /* @__PURE__ */ ((BarGaugeDisplayMode2) => {\n  BarGaugeDisplayMode2[\"Basic\"] = \"basic\";\n  BarGaugeDisplayMode2[\"Gradient\"] = \"gradient\";\n  BarGaugeDisplayMode2[\"Lcd\"] = \"lcd\";\n  return BarGaugeDisplayMode2;\n})(BarGaugeDisplayMode || {});\nvar BarGaugeValueMode = /* @__PURE__ */ ((BarGaugeValueMode2) => {\n  BarGaugeValueMode2[\"Color\"] = \"color\";\n  BarGaugeValueMode2[\"Hidden\"] = \"hidden\";\n  BarGaugeValueMode2[\"Text\"] = \"text\";\n  return BarGaugeValueMode2;\n})(BarGaugeValueMode || {});\nvar TableCellDisplayMode = /* @__PURE__ */ ((TableCellDisplayMode2) => {\n  TableCellDisplayMode2[\"Auto\"] = \"auto\";\n  TableCellDisplayMode2[\"BasicGauge\"] = \"basic\";\n  TableCellDisplayMode2[\"ColorBackground\"] = \"color-background\";\n  TableCellDisplayMode2[\"ColorBackgroundSolid\"] = \"color-background-solid\";\n  TableCellDisplayMode2[\"ColorText\"] = \"color-text\";\n  TableCellDisplayMode2[\"Gauge\"] = \"gauge\";\n  TableCellDisplayMode2[\"GradientGauge\"] = \"gradient-gauge\";\n  TableCellDisplayMode2[\"Image\"] = \"image\";\n  TableCellDisplayMode2[\"JSONView\"] = \"json-view\";\n  TableCellDisplayMode2[\"LcdGauge\"] = \"lcd-gauge\";\n  TableCellDisplayMode2[\"Sparkline\"] = \"sparkline\";\n  return TableCellDisplayMode2;\n})(TableCellDisplayMode || {});\nvar TableCellBackgroundDisplayMode = /* @__PURE__ */ ((TableCellBackgroundDisplayMode2) => {\n  TableCellBackgroundDisplayMode2[\"Basic\"] = \"basic\";\n  TableCellBackgroundDisplayMode2[\"Gradient\"] = \"gradient\";\n  return TableCellBackgroundDisplayMode2;\n})(TableCellBackgroundDisplayMode || {});\nconst defaultTableFooterOptions = {\n  fields: [],\n  reducer: []\n};\nvar TableCellHeight = /* @__PURE__ */ ((TableCellHeight2) => {\n  TableCellHeight2[\"Lg\"] = \"lg\";\n  TableCellHeight2[\"Md\"] = \"md\";\n  TableCellHeight2[\"Sm\"] = \"sm\";\n  return TableCellHeight2;\n})(TableCellHeight || {});\nvar VariableFormatID = /* @__PURE__ */ ((VariableFormatID2) => {\n  VariableFormatID2[\"CSV\"] = \"csv\";\n  VariableFormatID2[\"Date\"] = \"date\";\n  VariableFormatID2[\"Distributed\"] = \"distributed\";\n  VariableFormatID2[\"DoubleQuote\"] = \"doublequote\";\n  VariableFormatID2[\"Glob\"] = \"glob\";\n  VariableFormatID2[\"HTML\"] = \"html\";\n  VariableFormatID2[\"JSON\"] = \"json\";\n  VariableFormatID2[\"Lucene\"] = \"lucene\";\n  VariableFormatID2[\"PercentEncode\"] = \"percentencode\";\n  VariableFormatID2[\"Pipe\"] = \"pipe\";\n  VariableFormatID2[\"QueryParam\"] = \"queryparam\";\n  VariableFormatID2[\"Raw\"] = \"raw\";\n  VariableFormatID2[\"Regex\"] = \"regex\";\n  VariableFormatID2[\"SQLString\"] = \"sqlstring\";\n  VariableFormatID2[\"SingleQuote\"] = \"singlequote\";\n  VariableFormatID2[\"Text\"] = \"text\";\n  VariableFormatID2[\"UriEncode\"] = \"uriencode\";\n  return VariableFormatID2;\n})(VariableFormatID || {});\nvar LogsDedupStrategy = /* @__PURE__ */ ((LogsDedupStrategy2) => {\n  LogsDedupStrategy2[\"exact\"] = \"exact\";\n  LogsDedupStrategy2[\"none\"] = \"none\";\n  LogsDedupStrategy2[\"numbers\"] = \"numbers\";\n  LogsDedupStrategy2[\"signature\"] = \"signature\";\n  return LogsDedupStrategy2;\n})(LogsDedupStrategy || {});\nvar ComparisonOperation = /* @__PURE__ */ ((ComparisonOperation2) => {\n  ComparisonOperation2[\"EQ\"] = \"eq\";\n  ComparisonOperation2[\"GT\"] = \"gt\";\n  ComparisonOperation2[\"GTE\"] = \"gte\";\n  ComparisonOperation2[\"LT\"] = \"lt\";\n  ComparisonOperation2[\"LTE\"] = \"lte\";\n  ComparisonOperation2[\"NEQ\"] = \"neq\";\n  return ComparisonOperation2;\n})(ComparisonOperation || {});\nconst defaultTimeZone = \"browser\";\n\nexport { AxisColorMode, AxisPlacement, BarAlignment, BarGaugeDisplayMode, BarGaugeValueMode, BigValueColorMode, BigValueGraphMode, BigValueJustifyMode, BigValueTextMode, ComparisonOperation, FrameGeometrySourceMode, GraphDrawStyle, GraphGradientMode, GraphTransform, GraphTresholdsStyleMode, HeatmapCalculationMode, HeatmapCellLayout, LegendDisplayMode, LineInterpolation, LogsDedupStrategy, LogsSortOrder, ScaleDirection, ScaleDistribution, ScaleOrientation, SortOrder, StackingMode, TableCellBackgroundDisplayMode, TableCellDisplayMode, TableCellHeight, TextDimensionMode, TooltipDisplayMode, VariableFormatID, VisibilityMode, VizOrientation, defaultLineStyle, defaultOptionsWithTimezones, defaultReduceDataOptions, defaultTableFooterOptions, defaultTimeZone, defaultVizLegendOptions };\n//# sourceMappingURL=common.gen.js.map\n","import { PipelineVariable } from '../../../../../types';\n\nexport const defaultPipelineVariable = (name: string): PipelineVariable => ({ name, pipelineAgg: '' });\n\n/**\n * Given an array of pipeline variables generates a new unique pipeline variable name in the form of `var{n}`.\n * The value for `n` is calculated based on the variables names in pipelineVars matching `var{n}`.\n */\nexport const generatePipelineVariableName = (pipelineVars: PipelineVariable[]): string =>\n  `var${Math.max(0, ...pipelineVars.map((v) => parseInt(v.name.match('^var(\\\\d+)$')?.[1] || '0', 10))) + 1}`;\n","import {\n  PipelineMetricAggregationWithMultipleBucketPaths,\n  MetricAggregationWithMeta,\n  MovingAverage,\n  MetricAggregationType,\n  BaseMetricAggregation,\n  MetricAggregationWithField,\n  MetricAggregationWithMissingSupport,\n  PipelineMetricAggregation,\n  MetricAggregationWithSettings,\n} from '../../../types';\n\nimport { metricAggregationConfig } from './utils';\n\nexport const isEWMAMovingAverage = (metric: MovingAverage | MovingAverage<'ewma'>): metric is MovingAverage<'ewma'> =>\n  metric.settings?.model === 'ewma';\n\nexport const isHoltMovingAverage = (metric: MovingAverage | MovingAverage<'holt'>): metric is MovingAverage<'holt'> =>\n  metric.settings?.model === 'holt';\n\nexport const isHoltWintersMovingAverage = (\n  metric: MovingAverage | MovingAverage<'holt_winters'>\n): metric is MovingAverage<'holt_winters'> => metric.settings?.model === 'holt_winters';\n\nexport const isMovingAverageWithModelSettings = (\n  metric: MovingAverage\n): metric is MovingAverage<'ewma'> | MovingAverage<'holt'> | MovingAverage<'holt_winters'> =>\n  ['holt', 'ewma', 'holt_winters'].includes(metric.settings?.model || '');\n\n// Guards\n// Given the structure of the aggregations (ie. `settings` field being always optional) we cannot\n// determine types based solely on objects' properties, therefore we use `metricAggregationConfig` as the\n// source of truth.\n\n/**\n * Checks if `metric` requires a field (either referring to a document or another aggregation)\n * @param metric\n */\nexport const isMetricAggregationWithField = (\n  metric: BaseMetricAggregation | MetricAggregationWithField\n): metric is MetricAggregationWithField => metricAggregationConfig[metric.type].requiresField;\n\nexport const isPipelineAggregation = (\n  metric: BaseMetricAggregation | PipelineMetricAggregation\n): metric is PipelineMetricAggregation => metricAggregationConfig[metric.type].isPipelineAgg;\n\nexport const isPipelineAggregationWithMultipleBucketPaths = (\n  metric: BaseMetricAggregation | PipelineMetricAggregationWithMultipleBucketPaths\n): metric is PipelineMetricAggregationWithMultipleBucketPaths =>\n  metricAggregationConfig[metric.type].supportsMultipleBucketPaths;\n\nexport const isMetricAggregationWithMissingSupport = (\n  metric: BaseMetricAggregation | MetricAggregationWithMissingSupport\n): metric is MetricAggregationWithMissingSupport => metricAggregationConfig[metric.type].supportsMissing;\n\nexport const isMetricAggregationWithSettings = (\n  metric: BaseMetricAggregation | MetricAggregationWithSettings\n): metric is MetricAggregationWithSettings => metricAggregationConfig[metric.type].hasSettings;\n\nexport const isMetricAggregationWithMeta = (\n  metric: BaseMetricAggregation | MetricAggregationWithMeta\n): metric is MetricAggregationWithMeta => metricAggregationConfig[metric.type].hasMeta;\n\nexport const METRIC_AGGREGATION_TYPES: MetricAggregationType[] = [\n  'count',\n  'avg',\n  'sum',\n  'min',\n  'max',\n  'extended_stats',\n  'percentiles',\n  'cardinality',\n  'raw_document',\n  'raw_data',\n  'logs',\n  'moving_avg',\n  'moving_fn',\n  'derivative',\n  'serial_diff',\n  'cumulative_sum',\n  'bucket_script',\n  'rate',\n  'top_metrics',\n];\n\nexport const isMetricAggregationType = (s: MetricAggregationType | string): s is MetricAggregationType =>\n  METRIC_AGGREGATION_TYPES.includes(s as MetricAggregationType);\n","import { MetricsConfiguration, MetricAggregation, PipelineMetricAggregationType } from '../../../types';\n\nimport {\n  defaultPipelineVariable,\n  generatePipelineVariableName,\n} from './SettingsEditor/BucketScriptSettingsEditor/utils';\nimport { isMetricAggregationWithField, isPipelineAggregationWithMultipleBucketPaths } from './aggregations';\n\nexport const metricAggregationConfig: MetricsConfiguration = {\n  count: {\n    label: 'Count',\n    impliedQueryType: 'metrics',\n    requiresField: false,\n    isPipelineAgg: false,\n    supportsMissing: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: false,\n    hasMeta: false,\n    supportsInlineScript: false,\n    defaults: {},\n  },\n  avg: {\n    label: 'Average',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    supportsInlineScript: true,\n    supportsMissing: true,\n    isPipelineAgg: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    hasMeta: false,\n    defaults: {},\n  },\n  sum: {\n    label: 'Sum',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    supportsInlineScript: true,\n    supportsMissing: true,\n    isPipelineAgg: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    hasMeta: false,\n    defaults: {},\n  },\n  max: {\n    label: 'Max',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    supportsInlineScript: true,\n    supportsMissing: true,\n    isPipelineAgg: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    hasMeta: false,\n    defaults: {},\n  },\n  min: {\n    label: 'Min',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    supportsInlineScript: true,\n    supportsMissing: true,\n    isPipelineAgg: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    hasMeta: false,\n    defaults: {},\n  },\n  extended_stats: {\n    label: 'Extended Stats',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    supportsMissing: true,\n    supportsInlineScript: true,\n    isPipelineAgg: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    hasMeta: true,\n    defaults: {\n      meta: {\n        std_deviation_bounds_lower: true,\n        std_deviation_bounds_upper: true,\n      },\n    },\n  },\n  percentiles: {\n    label: 'Percentiles',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    supportsMissing: true,\n    supportsInlineScript: true,\n    isPipelineAgg: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    hasMeta: false,\n    defaults: {\n      settings: {\n        percents: ['25', '50', '75', '95', '99'],\n      },\n    },\n  },\n  cardinality: {\n    label: 'Unique Count',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    supportsMissing: true,\n    isPipelineAgg: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    supportsInlineScript: false,\n    hasMeta: false,\n    defaults: {},\n  },\n  moving_avg: {\n    // deprecated in 6.4.0, removed in 8.0.0,\n    // recommended replacement is moving_fn\n    label: 'Moving Average',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    isPipelineAgg: true,\n    versionRange: '<8.0.0',\n    supportsMissing: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    supportsInlineScript: false,\n    hasMeta: false,\n    defaults: {\n      settings: {\n        model: 'simple',\n        window: '5',\n      },\n    },\n  },\n  moving_fn: {\n    // TODO: Check this\n    label: 'Moving Function',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    isPipelineAgg: true,\n    supportsMultipleBucketPaths: false,\n    supportsInlineScript: false,\n    supportsMissing: false,\n    hasMeta: false,\n    hasSettings: true,\n    defaults: {},\n  },\n  derivative: {\n    label: 'Derivative',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    isPipelineAgg: true,\n    supportsMissing: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    supportsInlineScript: false,\n    hasMeta: false,\n    defaults: {},\n  },\n  serial_diff: {\n    label: 'Serial Difference',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    isPipelineAgg: true,\n    supportsMissing: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    supportsInlineScript: false,\n    hasMeta: false,\n    defaults: {\n      settings: {\n        lag: '1',\n      },\n    },\n  },\n  cumulative_sum: {\n    label: 'Cumulative Sum',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    isPipelineAgg: true,\n    supportsMissing: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    supportsInlineScript: false,\n    hasMeta: false,\n    defaults: {},\n  },\n  bucket_script: {\n    label: 'Bucket Script',\n    impliedQueryType: 'metrics',\n    requiresField: false,\n    isPipelineAgg: true,\n    supportsMissing: false,\n    supportsMultipleBucketPaths: true,\n    hasSettings: true,\n    supportsInlineScript: false,\n    hasMeta: false,\n    defaults: {\n      pipelineVariables: [defaultPipelineVariable(generatePipelineVariableName([]))],\n    },\n  },\n  raw_document: {\n    label: 'Raw Document (deprecated)',\n    requiresField: false,\n    impliedQueryType: 'raw_document',\n    isPipelineAgg: false,\n    supportsMissing: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    supportsInlineScript: false,\n    hasMeta: false,\n    defaults: {\n      settings: {\n        size: '100',\n      },\n    },\n  },\n  raw_data: {\n    label: 'Raw Data',\n    requiresField: false,\n    impliedQueryType: 'raw_data',\n    isPipelineAgg: false,\n    supportsMissing: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    supportsInlineScript: false,\n    hasMeta: false,\n    defaults: {\n      settings: {\n        size: '100',\n      },\n    },\n  },\n  logs: {\n    label: 'Logs',\n    requiresField: false,\n    isPipelineAgg: false,\n    supportsMissing: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    impliedQueryType: 'logs',\n    supportsInlineScript: false,\n    hasMeta: false,\n    defaults: {\n      settings: {\n        limit: '100',\n      },\n    },\n  },\n  top_metrics: {\n    label: 'Top Metrics',\n    impliedQueryType: 'metrics',\n    requiresField: false,\n    isPipelineAgg: false,\n    supportsMissing: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    supportsInlineScript: false,\n    hasMeta: false,\n    defaults: {\n      settings: {\n        order: 'desc',\n      },\n    },\n  },\n  rate: {\n    label: 'Rate',\n    impliedQueryType: 'metrics',\n    requiresField: true,\n    isPipelineAgg: false,\n    supportsMissing: false,\n    supportsMultipleBucketPaths: false,\n    hasSettings: true,\n    supportsInlineScript: true,\n    hasMeta: false,\n    defaults: {},\n  },\n};\n\ninterface PipelineOption {\n  label: string;\n  default?: string | number | boolean;\n}\n\ntype PipelineOptions = {\n  [K in PipelineMetricAggregationType]: PipelineOption[];\n};\n\nexport const pipelineOptions: PipelineOptions = {\n  moving_avg: [\n    { label: 'window', default: 5 },\n    { label: 'model', default: 'simple' },\n    { label: 'predict' },\n    { label: 'minimize', default: false },\n  ],\n  moving_fn: [{ label: 'window', default: 5 }, { label: 'script' }],\n  derivative: [{ label: 'unit' }],\n  serial_diff: [{ label: 'lag' }],\n  cumulative_sum: [{ label: 'format' }],\n  bucket_script: [],\n};\n\n/**\n * Given a metric `MetricA` and an array of metrics, returns all children of `MetricA`.\n * `MetricB` is considered a child of `MetricA` if `MetricA` is referenced by `MetricB` in its `field` attribute\n * (`MetricA.id === MetricB.field`) or in its pipeline aggregation variables (for bucket_scripts).\n * @param metric\n * @param metrics\n */\nexport const getChildren = (metric: MetricAggregation, metrics: MetricAggregation[]): MetricAggregation[] => {\n  const children = metrics.filter((m) => {\n    // TODO: Check this.\n    if (isPipelineAggregationWithMultipleBucketPaths(m)) {\n      return m.pipelineVariables?.some((pv) => pv.pipelineAgg === metric.id);\n    }\n\n    return isMetricAggregationWithField(m) && metric.id === m.field;\n  });\n\n  return [...children, ...children.flatMap((child) => getChildren(child, metrics))];\n};\n","import { InternalTimeZones, SelectableValue } from '@grafana/data';\n\nimport { BucketsConfiguration } from '../../../types';\n\nimport { defaultFilter } from './SettingsEditor/FiltersSettingsEditor/utils';\n\nexport const bucketAggregationConfig: BucketsConfiguration = {\n  terms: {\n    label: 'Terms',\n    requiresField: true,\n    defaultSettings: {\n      min_doc_count: '1',\n      size: '10',\n      order: 'desc',\n      orderBy: '_term',\n    },\n  },\n  filters: {\n    label: 'Filters',\n    requiresField: false,\n    defaultSettings: {\n      filters: [defaultFilter()],\n    },\n  },\n  geohash_grid: {\n    label: 'Geo Hash Grid',\n    requiresField: true,\n    defaultSettings: {\n      precision: '3',\n    },\n  },\n  date_histogram: {\n    label: 'Date Histogram',\n    requiresField: true,\n    defaultSettings: {\n      interval: 'auto',\n      min_doc_count: '0',\n      trimEdges: '0',\n      timeZone: InternalTimeZones.utc,\n    },\n  },\n  histogram: {\n    label: 'Histogram',\n    requiresField: true,\n    defaultSettings: {\n      interval: '1000',\n      min_doc_count: '0',\n    },\n  },\n  nested: {\n    label: 'Nested (experimental)',\n    requiresField: true,\n    defaultSettings: {},\n  },\n};\n\nexport const orderByOptions: Array<SelectableValue<string>> = [\n  { label: 'Term value', value: '_term' },\n  { label: 'Doc Count', value: '_count' },\n];\n\nexport const orderOptions: Array<SelectableValue<string>> = [\n  { label: 'Top', value: 'desc' },\n  { label: 'Bottom', value: 'asc' },\n];\n\nexport const sizeOptions = [\n  { label: 'No limit', value: '0' },\n  { label: '1', value: '1' },\n  { label: '2', value: '2' },\n  { label: '3', value: '3' },\n  { label: '5', value: '5' },\n  { label: '10', value: '10' },\n  { label: '15', value: '15' },\n  { label: '20', value: '20' },\n];\n","import { Filter } from '../../../../../types';\n\nexport const defaultFilter = (): Filter => ({ label: '', query: '*' });\n","import { BucketAggregationType, BucketAggregationWithField, BucketAggregation } from '../../../types';\n\nimport { bucketAggregationConfig } from './utils';\n\nexport const isBucketAggregationWithField = (\n  bucketAgg: BucketAggregation | BucketAggregationWithField\n): bucketAgg is BucketAggregationWithField => bucketAggregationConfig[bucketAgg.type].requiresField;\n\nexport const BUCKET_AGGREGATION_TYPES: BucketAggregationType[] = [\n  'date_histogram',\n  'histogram',\n  'terms',\n  'filters',\n  'geohash_grid',\n  'nested',\n];\n\nexport const isBucketAggregationType = (s: BucketAggregationType | string): s is BucketAggregationType =>\n  BUCKET_AGGREGATION_TYPES.includes(s as BucketAggregationType);\n","import { AbstractLabelOperator, AbstractLabelMatcher, LanguageProvider, AbstractQuery } from '@grafana/data';\n\nimport { ElasticDatasource } from './datasource';\nimport { ElasticsearchQuery } from './types';\n\nexport default class ElasticsearchLanguageProvider extends LanguageProvider {\n  declare request: (url: string, params?: any) => Promise<any>;\n  declare start: () => Promise<any[]>;\n  datasource: ElasticDatasource;\n\n  constructor(datasource: ElasticDatasource, initialValues?: any) {\n    super();\n    this.datasource = datasource;\n\n    Object.assign(this, initialValues);\n  }\n\n  /**\n   * Queries are transformed to an ES Logs query since it's the behaviour most users expect.\n   **/\n  importFromAbstractQuery(abstractQuery: AbstractQuery): ElasticsearchQuery {\n    return {\n      metrics: [\n        {\n          id: '1',\n          type: 'logs',\n        },\n      ],\n      query: this.getElasticsearchQuery(abstractQuery.labelMatchers),\n      refId: abstractQuery.refId,\n    };\n  }\n\n  getElasticsearchQuery(labels: AbstractLabelMatcher[]): string {\n    return labels\n      .map((label) => {\n        switch (label.operator) {\n          case AbstractLabelOperator.Equal: {\n            return label.name + ':\"' + label.value + '\"';\n          }\n          case AbstractLabelOperator.NotEqual: {\n            return '-' + label.name + ':\"' + label.value + '\"';\n          }\n          case AbstractLabelOperator.EqualRegEx: {\n            return label.name + ':/' + label.value + '/';\n          }\n          case AbstractLabelOperator.NotEqualRegEx: {\n            return '-' + label.name + ':/' + label.value + '/';\n          }\n        }\n      })\n      .join(' AND ');\n  }\n}\n","// import { gte, SemVer } from 'semver';\n\nimport { isMetricAggregationWithField } from './components/QueryEditor/MetricAggregationsEditor/aggregations';\nimport { metricAggregationConfig } from './components/QueryEditor/MetricAggregationsEditor/utils';\nimport { MetricAggregation, MetricAggregationWithInlineScript } from './types';\n\nexport const describeMetric = (metric: MetricAggregation) => {\n  if (!isMetricAggregationWithField(metric)) {\n    return metricAggregationConfig[metric.type].label;\n  }\n\n  // TODO: field might be undefined\n  return `${metricAggregationConfig[metric.type].label} ${metric.field}`;\n};\n\nexport const extractJsonPayload = (msg: string) => {\n  const match = msg.match(/{.*}/);\n\n  if (!match) {\n    return null;\n  }\n\n  try {\n      return JSON.parse(match[0]);\n  } catch (error) {\n      return null;\n  }\n}\n\n/**\n * Utility function to clean up aggregations settings objects.\n * It removes nullish values and empty strings, array and objects\n * recursing over nested objects (not arrays).\n * @param obj\n */\nexport const removeEmpty = <T extends {}>(obj: T): Partial<T> =>\n  Object.entries(obj).reduce((acc, [key, value]) => {\n    // Removing nullish values (null & undefined)\n    if (value == null) {\n      return { ...acc };\n    }\n\n    // Removing empty arrays (This won't recurse the array)\n    if (Array.isArray(value) && value.length === 0) {\n      return { ...acc };\n    }\n\n    // Removing empty strings\n    if (typeof value === 'string' && value.length === 0) {\n      return { ...acc };\n    }\n\n    // Recursing over nested objects\n    if (!Array.isArray(value) && typeof value === 'object') {\n      const cleanObj = removeEmpty(value);\n\n      if (Object.keys(cleanObj).length === 0) {\n        return { ...acc };\n      }\n\n      return { ...acc, [key]: cleanObj };\n    }\n\n    return {\n      ...acc,\n      [key]: value,\n    };\n  }, {});\n\n/**\n *  This function converts an order by string to the correct metric id For example,\n *  if the user uses the standard deviation extended stat for the order by,\n *  the value would be \"1[std_deviation]\" and this would return \"1\"\n */\nexport const convertOrderByToMetricId = (orderBy: string): string | undefined => {\n  const metricIdMatches = orderBy.match(/^(\\d+)/);\n  return metricIdMatches ? metricIdMatches[1] : void 0;\n};\n\n/** Gets the actual script value for metrics that support inline scripts.\n *\n *  This is needed because the `script` is a bit polymorphic.\n *  when creating a query with Grafana < 7.4 it was stored as:\n * ```json\n * {\n *    \"settings\": {\n *      \"script\": {\n *        \"inline\": \"value\"\n *      }\n *    }\n * }\n * ```\n *\n * while from 7.4 it's stored as\n * ```json\n * {\n *    \"settings\": {\n *      \"script\": \"value\"\n *    }\n * }\n * ```\n *\n * This allows us to access both formats and support both queries created before 7.4 and after.\n */\nexport const getScriptValue = (metric: MetricAggregationWithInlineScript) =>\n  (typeof metric.settings?.script === 'object' ? metric.settings?.script?.inline : metric.settings?.script) || '';\n\n// export const isSupportedVersion = (version: SemVer): boolean => {\n//   if (gte(version, '7.16.0')) {\n//     return true;\n//   }\n\n//   return false;\n// };\n\nexport const unsupportedVersionMessage =\n  'Support for Elasticsearch versions after their end-of-life (currently versions < 7.16) was removed. Using unsupported version of Elasticsearch may lead to unexpected and incorrect results.';\n\nexport const fieldTypeMap: Record<string, string> = {\n  date: 'date',\n  date_nanos: 'date',\n  keyword: 'string',\n  text: 'string',\n  binary: 'string',\n  byte: 'number',\n  long: 'number',\n  unsigned_long: 'number',\n  double: 'number',\n  integer: 'number',\n  short: 'number',\n  float: 'number',\n  scaled_float: 'number'\n};\n","import { cloneDeep, first as _first, map as _map, groupBy } from 'lodash';\nimport { Observable, lastValueFrom, from, isObservable, of } from 'rxjs';\nimport { catchError, mergeMap, map } from 'rxjs/operators';\n\nimport {\n  AbstractQuery,\n  CoreApp,\n  DataFrame,\n  DataLink,\n  DataQueryError,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceApi,\n  DataSourceInstanceSettings,\n  DataSourceJsonData,\n  DataSourceWithLogsContextSupport,\n  DataSourceWithQueryImportSupport,\n  DataSourceWithSupplementaryQueriesSupport,\n  dateTime,\n  FieldColorModeId,\n  FieldType,\n  getDefaultTimeRange,\n  LoadingState,\n  LogLevel,\n  LogRowModel,\n  LogsVolumeCustomMetaData,\n  LogsVolumeType,\n  MetricFindValue,\n  QueryFixAction,\n  rangeUtil,\n  ScopedVars,\n  SupplementaryQueryType,\n  TimeRange,\n} from '@grafana/data';\nimport { BucketAggregation, DataLinkConfig, ElasticsearchQuery, Field as QuickwitField, FieldMapping, IndexMetadata, Logs, TermsQuery, FieldCapabilitiesResponse } from './types';\nimport { \n  DataSourceWithBackend, \n  getTemplateSrv, \n  TemplateSrv,\n  getDataSourceSrv } from '@grafana/runtime';\nimport { LogRowContextOptions, LogRowContextQueryDirection, QuickwitOptions } from 'quickwit';\nimport { ElasticQueryBuilder } from 'QueryBuilder';\nimport { colors } from '@grafana/ui';\n\nimport { BarAlignment, DataQuery, GraphDrawStyle, StackingMode } from '@grafana/schema';\nimport { metricAggregationConfig } from 'components/QueryEditor/MetricAggregationsEditor/utils';\nimport { isMetricAggregationWithField } from 'components/QueryEditor/MetricAggregationsEditor/aggregations';\nimport { bucketAggregationConfig } from 'components/QueryEditor/BucketAggregationsEditor/utils';\nimport { isBucketAggregationWithField } from 'components/QueryEditor/BucketAggregationsEditor/aggregations';\nimport ElasticsearchLanguageProvider from 'LanguageProvider';\nimport { ReactNode } from 'react';\nimport { extractJsonPayload, fieldTypeMap } from 'utils';\n\nexport const REF_ID_STARTER_LOG_VOLUME = 'log-volume-';\n\nexport type ElasticDatasource = QuickwitDataSource;\n\nexport class QuickwitDataSource\n  extends DataSourceWithBackend<ElasticsearchQuery, QuickwitOptions>\n  implements\n    DataSourceWithLogsContextSupport,\n    DataSourceWithSupplementaryQueriesSupport<ElasticsearchQuery>,\n    DataSourceWithQueryImportSupport<ElasticsearchQuery>\n{\n  index: string;\n  timeField: string;\n  timeOutputFormat: string;\n  logMessageField?: string;\n  logLevelField?: string;\n  queryBuilder: ElasticQueryBuilder;\n  dataLinks: DataLinkConfig[];\n  languageProvider: ElasticsearchLanguageProvider;\n\n  constructor(\n    instanceSettings: DataSourceInstanceSettings<QuickwitOptions>,\n    private readonly templateSrv: TemplateSrv = getTemplateSrv()\n    ) {\n    super(instanceSettings);\n    const settingsData = instanceSettings.jsonData || ({} as QuickwitOptions);\n    this.index = settingsData.index || '';\n    this.timeField = ''\n    this.timeOutputFormat = ''\n    this.queryBuilder = new ElasticQueryBuilder({\n      timeField: this.timeField,\n    });\n    from(this.getResource('indexes/' + this.index)).pipe(\n      map((indexMetadata) => {\n        let fields = getAllFields(indexMetadata.index_config.doc_mapping.field_mappings);\n        let timestampFieldName = indexMetadata.index_config.doc_mapping.timestamp_field\n        let timestampField = fields.find((field) => field.json_path === timestampFieldName);\n        let timestampFormat = timestampField ? timestampField.field_mapping.output_format || '' : ''\n        let timestampFieldInfos = { 'field': timestampFieldName, 'format': timestampFormat }\n        return timestampFieldInfos\n      }),\n      catchError((err) => {\n        if (!err.data || !err.data.error) {\n          let err_source = extractJsonPayload(err.data.error)\n          if(!err_source) {\n            throw err\n          }\n        }\n\n        // the error will be handle in the testDatasource function\n        return of({'field': '', 'format': ''})\n      })\n    ).subscribe(result => {\n      this.timeField = result.field;\n      this.timeOutputFormat = result.format;\n      this.queryBuilder = new ElasticQueryBuilder({\n        timeField: this.timeField,\n      });\n    });\n    \n    this.logMessageField = settingsData.logMessageField || '';\n    this.logLevelField = settingsData.logLevelField || '';\n    this.dataLinks = settingsData.dataLinks || [];\n    this.languageProvider = new ElasticsearchLanguageProvider(this);\n  }\n\n  query(request: DataQueryRequest<ElasticsearchQuery>): Observable<DataQueryResponse> {\n     return super.query(request)\n       .pipe(map((response) => {\n          response.data.forEach((dataFrame) => {\n            enhanceDataFrameWithDataLinks(dataFrame, this.dataLinks);\n          });\n         return response;\n       }));\n  }\n\n    /**\n     * Checks the plugin health\n     * see public/app/features/datasources/state/actions.ts for what needs to be returned here\n     */\n  async testDatasource() {\n    if (this.index === '' ) {\n      return {\n        status: 'error',\n        message: 'Cannot save datasource, `index` is required',\n      };\n    }\n\n    return lastValueFrom(\n      from(this.getResource('indexes/' + this.index)).pipe(\n        mergeMap((indexMetadata) => {\n          let error = this.validateIndexConfig(indexMetadata);\n          if (error) {\n            return of({\n              status: 'error',\n              message: error,\n            });\n          }\n          return of({ status: 'success', message: `Index OK. Time field name OK` });\n        }),\n        catchError((err) => {\n          if (err.data && err.data.error) {\n            let err_source = extractJsonPayload(err.data.error)\n            if (err_source) {\n              err = err_source\n            }\n          }\n\n          if (err.status && err.status === 404) {\n            return of({ status: 'error', message: 'Index does not exists.' });\n          } else if (err.message) {\n            return of({ status: 'error', message: err.message });\n          } else {\n            return of({ status: 'error', message: err.status });\n          }\n        })\n      )\n    );\n  }\n\n  validateIndexConfig(indexMetadata: IndexMetadata): string | undefined {\n    // Check timestamp field.\n    if (this.timeField === '') {\n      return `Time field must not be empty`;\n    }\n\n    let fields = getAllFields(indexMetadata.index_config.doc_mapping.field_mappings);\n    let timestampField = fields.find((field) => field.json_path === this.timeField);\n\n    // Should never happen.\n    if (timestampField === undefined) {\n      return `No field named '${this.timeField}' found in the doc mapping. This should never happen.`;\n    }\n\n    let timeOutputFormat = timestampField.field_mapping.output_format || 'unknown';\n    const supportedTimestampOutputFormats = ['unix_timestamp_secs', 'unix_timestamp_millis', 'unix_timestamp_micros', 'unix_timestamp_nanos', 'iso8601', 'rfc3339'];\n    if (!supportedTimestampOutputFormats.includes(timeOutputFormat)) {\n      return `Timestamp output format '${timeOutputFormat} is not yet supported.`;\n    }\n    return;\n  }\n\n  async importFromAbstractQueries(abstractQueries: AbstractQuery[]): Promise<ElasticsearchQuery[]> {\n    // FIXME: this function does not seem to be used.\n    return abstractQueries.map((abstractQuery) => this.languageProvider.importFromAbstractQuery(abstractQuery));\n  }\n\n  /**\n   * Returns an observable that will be used to fetch supplementary data based on the provided\n   * supplementary query type and original request.\n   */\n  getDataProvider(\n    type: SupplementaryQueryType,\n    request: DataQueryRequest<ElasticsearchQuery>\n  ): Observable<DataQueryResponse> | undefined {\n    if (!this.getSupportedSupplementaryQueryTypes().includes(type)) {\n      return undefined;\n    }\n    switch (type) {\n      case SupplementaryQueryType.LogsVolume:\n        return this.getLogsVolumeDataProvider(request);\n      default:\n        return undefined;\n    }\n  }\n\n  /**\n   * Returns supplementary query types that data source supports.\n   */\n  getSupportedSupplementaryQueryTypes(): SupplementaryQueryType[] {\n    return [SupplementaryQueryType.LogsVolume];\n  }\n\n  /**\n   * Returns a supplementary query to be used to fetch supplementary data based on the provided type and original query.\n   * If provided query is not suitable for provided supplementary query type, undefined should be returned.\n   */\n  // FIXME: options should be of type SupplementaryQueryOptions but this type is not public.\n  getSupplementaryQuery(options: any, query: ElasticsearchQuery): ElasticsearchQuery | undefined {\n    if (!this.getSupportedSupplementaryQueryTypes().includes(options.type)) {\n      return undefined;\n    }\n\n    let isQuerySuitable = false;\n\n    switch (options.type) {\n      case SupplementaryQueryType.LogsVolume:\n        // it has to be a logs-producing range-query\n        isQuerySuitable = !!(query.metrics?.length === 1 && query.metrics[0].type === 'logs');\n        if (!isQuerySuitable) {\n          return undefined;\n        }\n        const bucketAggs: BucketAggregation[] = [];\n        const timeField = this.timeField ?? 'timestamp';\n\n        if (this.logLevelField) {\n          bucketAggs.push({\n            id: '2',\n            type: 'terms',\n            settings: {\n              min_doc_count: '0',\n              size: '0',\n              order: 'desc',\n              orderBy: '_count',\n            },\n            field: this.logLevelField,\n          });\n        }\n        bucketAggs.push({\n          id: '3',\n          type: 'date_histogram',\n          settings: {\n            interval: 'auto',\n            min_doc_count: '0',\n            trimEdges: '0',\n          },\n          field: timeField,\n        });\n\n        return {\n          refId: `${REF_ID_STARTER_LOG_VOLUME}${query.refId}`,\n          query: query.query,\n          metrics: [{ type: 'count', id: '1' }],\n          timeField,\n          bucketAggs,\n        };\n\n      default:\n        return undefined;\n    }\n  }\n\n  getLogsVolumeDataProvider(request: DataQueryRequest<ElasticsearchQuery>): Observable<DataQueryResponse> | undefined {\n    const logsVolumeRequest = cloneDeep(request);\n    const targets = logsVolumeRequest.targets\n      .map((target) => this.getSupplementaryQuery({ type: SupplementaryQueryType.LogsVolume }, target))\n      .filter((query): query is ElasticsearchQuery => !!query);\n\n    if (!targets.length) {\n      return undefined;\n    }\n\n    return queryLogsVolume(\n      this,\n      { ...logsVolumeRequest, targets },\n      {\n        range: request.range,\n        targets: request.targets,\n        extractLevel: (dataFrame: any) => getLogLevelFromKey(dataFrame || ''),\n      }\n    );\n  }\n\n  /**\n   * Used in explore when user filters on a given log attribute.\n   */\n  modifyQuery(query: ElasticsearchQuery, action: QueryFixAction): ElasticsearchQuery {\n    if (!action.options) {\n      return query;\n    }\n\n    let expression = query.query ?? '';\n    switch (action.type) {\n      case 'ADD_FILTER': {\n        if (expression.length > 0) {\n          expression += ' AND ';\n        }\n        expression += `${action.options.key}:\"${action.options.value}\"`;\n        break;\n      }\n      case 'ADD_FILTER_OUT': {\n        if (expression.length > 0) {\n          expression += ' AND ';\n        }\n        expression += `-${action.options.key}:\"${action.options.value}\"`;\n        break;\n      }\n    }\n    return { ...query, query: expression };\n  }\n\n  getTerms(queryDef: TermsQuery, range = getDefaultTimeRange()): Observable<MetricFindValue[]> {\n    const header = JSON.stringify({\n      ignore_unavailable: true,\n      index: this.index,\n    });\n\n    let esQuery = JSON.stringify(this.queryBuilder.getTermsQuery(queryDef));\n    esQuery = esQuery.replace(/\\$timeFrom/g, range.from.valueOf().toString());\n    esQuery = esQuery.replace(/\\$timeTo/g, range.to.valueOf().toString());\n    esQuery = header + '\\n' + esQuery + '\\n';\n    const resourceOptions = {\n      headers: {\n        'content-type': 'application/x-ndjson'\n      }\n    };\n    const termsObservable = from(this.postResource(\"_elastic/_msearch\", esQuery, resourceOptions));\n\n    return termsObservable.pipe(\n      map((res) => {\n        if (!res.responses[0].aggregations) {\n          return [];\n        }\n\n        const buckets = res.responses[0].aggregations['1'].buckets;\n        return _map(buckets, (bucket) => {\n          return {\n            text: bucket.key_as_string || bucket.key,\n            value: bucket.key,\n          };\n        });\n      })\n    );\n  }\n\n  getFields(aggregatable?: boolean, type?: string[], _range?: TimeRange): Observable<MetricFindValue[]> {\n    // TODO: use the time range.\n    return from(this.getResource('_elastic/' + this.index + '/_field_caps')).pipe(\n      map((field_capabilities_response: FieldCapabilitiesResponse) => {\n        const shouldAddField = (field: any) => {\n          if (aggregatable !== undefined && field.aggregatable !== aggregatable) {\n            return false\n          }\n          if (type?.length === 0) {\n            return true;\n          }\n          return type?.includes(field.type) || type?.includes(fieldTypeMap[field.type]);\n        };\n        const fieldCapabilities = Object.entries(field_capabilities_response.fields)\n          .flatMap(([field_name, field_capabilities]) => {\n            return Object.values(field_capabilities)\n              .map(field_capability => {\n                field_capability.field_name = field_name;\n                return field_capability;\n              });\n          })\n          .filter(shouldAddField)\n          .map(field_capability => {\n            return {\n              text: field_capability.field_name,\n              value: fieldTypeMap[field_capability.type],  \n            }\n          });\n        return fieldCapabilities;\n      })\n    );\n  }\n\n  /**\n   * Get tag keys for adhoc filters\n   */\n  getTagKeys() {\n    return lastValueFrom(this.getFields(true));\n  }\n\n  /**\n   * Get tag values for adhoc filters\n   */\n  getTagValues(options: any) {\n    const range = getDefaultTimeRange();\n    return lastValueFrom(this.getTerms({ field: options.key }, range));\n  }\n\n  /**\n   * Convert a query to a simple text string\n   */\n  getQueryDisplayText(query: ElasticsearchQuery) {\n    // TODO: This might be refactored a bit.\n    const metricAggs = query.metrics;\n    const bucketAggs = query.bucketAggs;\n    let text = '';\n\n    if (query.query) {\n      text += 'Query: ' + query.query + ', ';\n    }\n\n    text += 'Metrics: ';\n\n    text += metricAggs?.reduce((acc, metric) => {\n      const metricConfig = metricAggregationConfig[metric.type];\n\n      let text = metricConfig.label + '(';\n\n      if (isMetricAggregationWithField(metric)) {\n        text += metric.field;\n      }\n      text += '), ';\n\n      return `${acc} ${text}`;\n    }, '');\n\n    text += bucketAggs?.reduce((acc, bucketAgg, index) => {\n      const bucketConfig = bucketAggregationConfig[bucketAgg.type];\n\n      let text = '';\n      if (index === 0) {\n        text += ' Group by: ';\n      }\n\n      text += bucketConfig.label + '(';\n      if (isBucketAggregationWithField(bucketAgg)) {\n        text += bucketAgg.field;\n      }\n\n      return `${acc} ${text}), `;\n    }, '');\n\n    if (query.alias) {\n      text += 'Alias: ' + query.alias;\n    }\n\n    return text;\n  }\n\n  private makeLogContextDataRequest = (row: LogRowModel, options?: LogRowContextOptions) => {\n    const direction = options?.direction || LogRowContextQueryDirection.Backward;\n    const searchAfter = row.dataFrame.fields.find((f) => f.name === 'sort')?.values.get(row.rowIndex) ?? [row.timeEpochNs]\n\n    const logQuery: Logs = {\n      type: 'logs',\n      id: '1',\n      settings: {\n        limit: options?.limit ? options?.limit.toString() : '10',\n        // Sorting of results in the context query\n        sortDirection: direction === LogRowContextQueryDirection.Backward ? 'desc' : 'asc',\n        // Used to get the next log lines before/after the current log line using sort field of selected log line\n        searchAfter: searchAfter,\n      },\n    };\n\n    const query: ElasticsearchQuery = {\n      refId: `log-context-${row.dataFrame.refId}-${direction}`,\n      metrics: [logQuery],\n      query: '',\n    };\n\n    const timeRange = createContextTimeRange(row.timeEpochMs, direction);\n    const range = {\n      from: timeRange.from,\n      to: timeRange.to,\n      raw: timeRange,\n    };\n\n    const interval = rangeUtil.calculateInterval(range, 1);\n\n    const contextRequest: DataQueryRequest<ElasticsearchQuery> = {\n      requestId: `log-context-request-${row.dataFrame.refId}-${options?.direction}`,\n      targets: [query],\n      interval: interval.interval,\n      intervalMs: interval.intervalMs,\n      range,\n      scopedVars: {},\n      timezone: 'UTC',\n      app: CoreApp.Explore,\n      startTime: Date.now(),\n      hideFromInspector: true,\n    };\n    return contextRequest;\n  };\n\n  getLogRowContext = async (row: LogRowModel, options?: LogRowContextOptions): Promise<{ data: DataFrame[] }> => {\n    const contextRequest = this.makeLogContextDataRequest(row, options);\n\n    return lastValueFrom(\n      this.query(contextRequest).pipe(\n        catchError((err) => {\n          const error: DataQueryError = {\n            message: 'Error during context query. Please check JS console logs.',\n            status: err.status,\n            statusText: err.message,\n          };\n          throw error;\n        })\n      )\n    );\n  };\n\n  showContextToggle(row?: LogRowModel | undefined): boolean {\n    return true;\n  }\n\n  getLogRowContextUi?(row: LogRowModel, runContextQuery?: (() => void) | undefined): ReactNode {\n    return true;\n  }\n\n  /**\n   * Returns false if the query should be skipped\n   */\n  filterQuery(query: ElasticsearchQuery): boolean {\n    if (query.hide) {\n      return false;\n    }\n    return true;\n  }\n\n  metricFindQuery(query: string, options?: { range: TimeRange }): Promise<MetricFindValue[]> {\n    const range = options?.range;\n    const parsedQuery = JSON.parse(query);\n    if (query) {\n      if (parsedQuery.find === 'fields') {\n        parsedQuery.type = this.interpolateLuceneQuery(parsedQuery.type);\n        return lastValueFrom(this.getFields(true, parsedQuery.type, range));\n      }\n      if (parsedQuery.find === 'terms') {\n        parsedQuery.field = this.interpolateLuceneQuery(parsedQuery.field);\n        parsedQuery.query = this.interpolateLuceneQuery(parsedQuery.query);\n        return lastValueFrom(this.getTerms(parsedQuery, range));\n      }\n    }\n    return Promise.resolve([]);\n  }\n\n  interpolateLuceneQuery(queryString: string, scopedVars?: ScopedVars) {\n    return this.templateSrv.replace(queryString, scopedVars, formatQuery);\n  }\n\n  interpolateVariablesInQueries(queries: ElasticsearchQuery[], scopedVars: ScopedVars | {}): ElasticsearchQuery[] {\n    return queries.map((q) => this.applyTemplateVariables(q, scopedVars));\n  }\n\n  // Used when running queries through backend\n  applyTemplateVariables(query: ElasticsearchQuery, scopedVars: ScopedVars): ElasticsearchQuery {\n    // We need a separate interpolation format for lucene queries, therefore we first interpolate any\n    // lucene query string and then everything else\n    const interpolateBucketAgg = (bucketAgg: BucketAggregation): BucketAggregation => {\n      if (bucketAgg.type === 'filters') {\n        return {\n          ...bucketAgg,\n          settings: {\n            ...bucketAgg.settings,\n            filters: bucketAgg.settings?.filters?.map((filter) => ({\n              ...filter,\n              query: this.interpolateLuceneQuery(filter.query, scopedVars) || '*',\n            })),\n          },\n        };\n      }\n\n      return bucketAgg;\n    };\n\n    const expandedQuery = {\n      ...query,\n      datasource: this.getRef(),\n      query: this.interpolateLuceneQuery(query.query || '', scopedVars),\n      bucketAggs: query.bucketAggs?.map(interpolateBucketAgg),\n    };\n\n    const finalQuery = JSON.parse(this.templateSrv.replace(JSON.stringify(expandedQuery), scopedVars));\n    return finalQuery;\n  }\n}\n\n// Returns a flatten array of fields and nested fields found in the given `FieldMapping` array. \nfunction getAllFields(field_mappings: FieldMapping[]): QuickwitField[] {\n  const fields: QuickwitField[] = [];\n  for (const field_mapping of field_mappings) {\n    if (field_mapping.type === 'object' && field_mapping.field_mappings !== undefined) {\n      for (const child_field_mapping of getAllFields(field_mapping.field_mappings)) {\n        fields.push({json_path: field_mapping.name + '.' + child_field_mapping.json_path, path_segments: [field_mapping.name].concat(child_field_mapping.path_segments), field_mapping: child_field_mapping.field_mapping})\n      }\n    } else {\n      fields.push({json_path: field_mapping.name, path_segments: [field_mapping.name], field_mapping: field_mapping});\n    }\n  }\n\n  return fields;\n}\n\n/**\n * Creates an observable, which makes requests to get logs volume and aggregates results.\n */\nexport function queryLogsVolume<TQuery extends DataQuery, TOptions extends DataSourceJsonData>(\n  datasource: DataSourceApi<TQuery, TOptions>,\n  logsVolumeRequest: DataQueryRequest<TQuery>,\n  options: any\n): Observable<DataQueryResponse> {\n  const timespan = options.range.to.valueOf() - options.range.from.valueOf();\n  const intervalInfo = getIntervalInfo(logsVolumeRequest.scopedVars, timespan);\n\n  logsVolumeRequest.interval = intervalInfo.interval;\n  logsVolumeRequest.scopedVars.__interval = { value: intervalInfo.interval, text: intervalInfo.interval };\n\n  if (intervalInfo.intervalMs !== undefined) {\n    logsVolumeRequest.intervalMs = intervalInfo.intervalMs;\n    logsVolumeRequest.scopedVars.__interval_ms = { value: intervalInfo.intervalMs, text: intervalInfo.intervalMs };\n  }\n\n  logsVolumeRequest.hideFromInspector = true;\n\n  return new Observable((observer) => {\n    let logsVolumeData: DataFrame[] = [];\n    observer.next({\n      state: LoadingState.Loading,\n      error: undefined,\n      data: [],\n    });\n\n    const queryResponse = datasource.query(logsVolumeRequest);\n    const queryObservable = isObservable(queryResponse) ? queryResponse : from(queryResponse);\n\n    const subscription = queryObservable.subscribe({\n      complete: () => {\n        observer.complete();\n      },\n      next: (dataQueryResponse: DataQueryResponse) => {\n        const { error } = dataQueryResponse;\n        if (error !== undefined) {\n          observer.next({\n            state: LoadingState.Error,\n            error,\n            data: [],\n          });\n          observer.error(error);\n        } else {\n          const framesByRefId = groupBy(dataQueryResponse.data, 'refId');\n          logsVolumeData = dataQueryResponse.data.map((dataFrame) => {\n            let sourceRefId = dataFrame.refId || '';\n            if (sourceRefId.startsWith('log-volume-')) {\n              sourceRefId = sourceRefId.substr('log-volume-'.length);\n            }\n\n            const logsVolumeCustomMetaData: LogsVolumeCustomMetaData = {\n              logsVolumeType: LogsVolumeType.FullRange,\n              absoluteRange: { from: options.range.from.valueOf(), to: options.range.to.valueOf() },\n              datasourceName: datasource.name,\n              sourceQuery: options.targets.find((dataQuery: any) => dataQuery.refId === sourceRefId)!,\n            };\n\n            dataFrame.meta = {\n              ...dataFrame.meta,\n              custom: {\n                ...dataFrame.meta?.custom,\n                ...logsVolumeCustomMetaData,\n              },\n            };\n            return updateLogsVolumeConfig(dataFrame, options.extractLevel, framesByRefId[dataFrame.refId].length === 1);\n          });\n\n          observer.next({\n            state: dataQueryResponse.state,\n            error: undefined,\n            data: logsVolumeData,\n          });\n        }\n      },\n      error: (error: any) => {\n        observer.next({\n          state: LoadingState.Error,\n          error: error,\n          data: [],\n        });\n        observer.error(error);\n      },\n    });\n    return () => {\n      subscription?.unsubscribe();\n    };\n  });\n}\n\nconst updateLogsVolumeConfig = (\n  dataFrame: DataFrame,\n  extractLevel: (dataFrame: DataFrame) => LogLevel,\n  oneLevelDetected: boolean\n): DataFrame => {\n  dataFrame.fields = dataFrame.fields.map((field) => {\n    if (field.type === FieldType.number) {\n      field.config = {\n        ...field.config,\n        ...getLogVolumeFieldConfig(extractLevel(dataFrame), oneLevelDetected),\n      };\n    }\n    return field;\n  });\n  return dataFrame;\n};\n\nconst LogLevelColor = {\n  [LogLevel.critical]: colors[7],\n  [LogLevel.warning]: colors[1],\n  [LogLevel.error]: colors[4],\n  [LogLevel.info]: colors[0],\n  [LogLevel.debug]: colors[5],\n  [LogLevel.trace]: colors[2],\n  [LogLevel.unknown]: '#8e8e8e'// or '#bdc4cd',\n};\n\n/**\n * Returns field configuration used to render logs volume bars\n */\nfunction getLogVolumeFieldConfig(level: LogLevel, oneLevelDetected: boolean) {\n  const name = oneLevelDetected && level === LogLevel.unknown ? 'logs' : level;\n  const color = LogLevelColor[level];\n  return {\n    displayNameFromDS: name,\n    color: {\n      mode: FieldColorModeId.Fixed,\n      fixedColor: color,\n    },\n    custom: {\n      drawStyle: GraphDrawStyle.Bars,\n      barAlignment: BarAlignment.Center,\n      lineColor: color,\n      pointColor: color,\n      fillColor: color,\n      lineWidth: 1,\n      fillOpacity: 100,\n      stacking: {\n        mode: StackingMode.Normal,\n        group: 'A',\n      },\n    },\n  };\n}\n\nconst MILLISECOND = 1;\nconst SECOND = 1000 * MILLISECOND;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\n\nfunction getIntervalInfo(scopedVars: ScopedVars, timespanMs: number): { interval: string; intervalMs?: number } {\n  if (scopedVars.__interval_ms) {\n    let intervalMs: number = scopedVars.__interval_ms.value;\n    let interval = '';\n    // below 5 seconds we force the resolution to be per 1ms as interval in scopedVars is not less than 10ms\n    if (timespanMs < SECOND * 5) {\n      intervalMs = MILLISECOND;\n      interval = '1ms';\n    } else if (intervalMs > HOUR) {\n      intervalMs = DAY;\n      interval = '1d';\n    } else if (intervalMs > MINUTE) {\n      intervalMs = HOUR;\n      interval = '1h';\n    } else if (intervalMs > SECOND) {\n      intervalMs = MINUTE;\n      interval = '1m';\n    } else {\n      intervalMs = SECOND;\n      interval = '1s';\n    }\n\n    return { interval, intervalMs };\n  } else {\n    return { interval: '$__interval' };\n  }\n}\n\n// Copy/pasted from grafana/data as it is deprecated there.\nfunction getLogLevelFromKey(dataframe: DataFrame): LogLevel {\n  const name = dataframe.fields[1].config.displayNameFromDS || ``;\n  const level = (LogLevel as any)[name.toString().toLowerCase()];\n  if (level) {\n    return level;\n  }\n  return LogLevel.unknown;\n}\n\nfunction formatQuery(value: string | string[], variable: any): string {\n  if (typeof value === 'string') {\n    return luceneEscape(value);\n  }\n  if (Array.isArray(value)) {\n    if (value.length === 0) {\n      return '__empty__';\n    }\n    const fieldName = JSON.parse(variable.query).field;\n    const quotedValues =  value.map((val) => '\"' + luceneEscape(val) + '\"');\n    // Quickwit query language does not support fieldName:(value1 OR value2 OR....)\n    // like lucene does.\n    // When we know the fieldName, we can directly generate a query\n    // fieldName:value1 OR fieldName:value2 OR ...\n    // But when we don't know the fieldName, the simplest is to generate a query\n    // with the IN operator. Unfortunately, IN operator does not work on JSON field.\n    // TODO: fix that by using doing a regex on queryString to find the fieldName.\n    // Note that variable.id gives the name of the template variable to interpolate,\n    // so if we have `fieldName:${variable.id}` in the queryString, we can isolate\n    // the fieldName.\n    if (typeof fieldName !== 'string') {\n      return 'IN [' + quotedValues.join(' ') + ']';\n    }\n    return quotedValues.join(' OR ' + fieldName + ':');\n  } else {\n    return luceneEscape(`${value}`);\n  }\n}\n\nfunction luceneEscape(value: string) {\n  if (isNaN(+value) === false) {\n    return value;\n  }\n\n  return value.replace(/([\\!\\*\\+\\-\\=<>\\s\\&\\|\\(\\)\\[\\]\\{\\}\\^\\~\\?\\:\\\\/\"])/g, '\\\\$1');\n}\n\nexport function enhanceDataFrameWithDataLinks(dataFrame: DataFrame, dataLinks: DataLinkConfig[]) {\n  if (!dataLinks.length) {\n    return;\n  }\n\n  for (const field of dataFrame.fields) {\n    const linksToApply = dataLinks.filter((dataLink) => dataLink.field === field.name);\n\n    if (linksToApply.length === 0) {\n      continue;\n    }\n\n    field.config = field.config || {};\n    field.config.links = [...(field.config.links || [], linksToApply.map(generateDataLink))];\n  }\n}\n\nfunction generateDataLink(linkConfig: DataLinkConfig): DataLink {\n  const dataSourceSrv = getDataSourceSrv();\n\n  if (linkConfig.datasourceUid) {\n    const dsSettings = dataSourceSrv.getInstanceSettings(linkConfig.datasourceUid);\n\n    return {\n      title: linkConfig.urlDisplayLabel || '',\n      url: '',\n      internal: {\n        query: { query: linkConfig.url },\n        datasourceUid: linkConfig.datasourceUid,\n        datasourceName: dsSettings?.name ?? 'Data source not found',\n      },\n    };\n  } else {\n    return {\n      title: linkConfig.urlDisplayLabel || '',\n      url: linkConfig.url,\n    };\n  }\n}\n\nfunction createContextTimeRange(rowTimeEpochMs: number, direction: string) {\n  const offset = 7;\n  // For log context, we want to request data from 7 subsequent/previous indices\n  if (direction === LogRowContextQueryDirection.Forward) {\n    return {\n      from: dateTime(rowTimeEpochMs).utc(),\n      to: dateTime(rowTimeEpochMs).add(offset, 'hours').utc(),\n    };\n  } else {\n    return {\n      from: dateTime(rowTimeEpochMs).subtract(offset, 'hours').utc(),\n      to: dateTime(rowTimeEpochMs).utc(),\n    };\n  }\n}\n","import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\n\nexport const Divider = ({ hideLine = false }) => {\n  const styles = useStyles2(getStyles);\n\n  if (hideLine) {\n    return <hr className={styles.dividerHideLine} />;\n  }\n\n  return <hr className={styles.divider} />;\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  divider: css({\n    margin: theme.spacing(4, 0),\n  }),\n  dividerHideLine: css({\n    border: 'none',\n    margin: theme.spacing(3, 0),\n  }),\n});\n","import { css } from '@emotion/css';\nimport React, { Dispatch, SetStateAction, useEffect, useState } from 'react';\nimport { usePrevious } from 'react-use';\n\nimport { DataSourceInstanceSettings, VariableSuggestion } from '@grafana/data';\nimport {\n  Button,\n  DataLinkInput,\n  InlineField,\n  InlineSwitch,\n  InlineFieldRow,\n  InlineLabel,\n  Input,\n  useStyles2,\n} from '@grafana/ui';\n\nimport { DataSourcePicker } from '@grafana/runtime'\n\nimport { DataLinkConfig } from '../types';\n\ninterface Props {\n  value: DataLinkConfig;\n  onChange: (value: DataLinkConfig) => void;\n  onDelete: () => void;\n  suggestions: VariableSuggestion[];\n  className?: string;\n}\n\nexport const DataLink = (props: Props) => {\n  const { value, onChange, onDelete, suggestions, className } = props;\n  const styles = useStyles2(getStyles);\n  const [showInternalLink, setShowInternalLink] = useInternalLink(value.datasourceUid);\n  const labelWidth = 24\n\n  const handleChange = (field: keyof typeof value) => (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange({\n      ...value,\n      [field]: event.currentTarget.value,\n    });\n  };\n\n  return (\n    <div className={className}>\n      <div className={styles.firstRow}>\n        <InlineField\n          label=\"Field\"\n          htmlFor=\"elasticsearch-datasource-config-field\"\n          labelWidth={labelWidth}\n          tooltip={'Can be exact field name or a regex pattern that will match on the field name.'}\n        >\n          <Input\n            type=\"text\"\n            id=\"elasticsearch-datasource-config-field\"\n            value={value.field}\n            onChange={handleChange('field')}\n            width={100}\n          />\n        </InlineField>\n        <Button\n          variant={'destructive'}\n          title=\"Remove field\"\n          icon=\"times\"\n          onClick={(event) => {\n            event.preventDefault();\n            onDelete();\n          }}\n        />\n      </div>\n\n      <InlineFieldRow>\n        <div className={styles.urlField}>\n          <InlineLabel htmlFor=\"elasticsearch-datasource-internal-link\" width={labelWidth}>\n            {showInternalLink ? 'Query' : 'URL'}\n          </InlineLabel>\n          <DataLinkInput\n            placeholder={showInternalLink ? '${__value.raw}' : 'http://example.com/${__value.raw}'}\n            value={value.url || ''}\n            onChange={(newValue) =>\n              onChange({\n                ...value,\n                url: newValue,\n              })\n            }\n            suggestions={suggestions}\n          />\n        </div>\n\n        <div className={styles.urlDisplayLabelField}>\n          <InlineField\n            label=\"URL Label\"\n            htmlFor=\"elasticsearch-datasource-url-label\"\n            labelWidth={14}\n            tooltip={'Use to override the button label.'}\n          >\n            <Input\n              type=\"text\"\n              id=\"elasticsearch-datasource-url-label\"\n              value={value.urlDisplayLabel}\n              onChange={handleChange('urlDisplayLabel')}\n            />\n          </InlineField>\n        </div>\n      </InlineFieldRow>\n\n      <div className={styles.row}>\n        <InlineField label=\"Internal link\" labelWidth={labelWidth}>\n          <InlineSwitch\n            label=\"Internal link\"\n            value={showInternalLink || false}\n            onChange={() => {\n              if (showInternalLink) {\n                onChange({\n                  ...value,\n                  datasourceUid: undefined,\n                });\n              }\n              setShowInternalLink(!showInternalLink);\n            }}\n          />\n        </InlineField>\n\n        {showInternalLink && (\n          <DataSourcePicker\n            tracing={true}\n            onChange={(ds: DataSourceInstanceSettings) => {\n              onChange({\n                ...value,\n                datasourceUid: ds.uid,\n              });\n            }}\n            current={value.datasourceUid}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nfunction useInternalLink(datasourceUid?: string): [boolean, Dispatch<SetStateAction<boolean>>] {\n  const [showInternalLink, setShowInternalLink] = useState<boolean>(!!datasourceUid);\n  const previousUid = usePrevious(datasourceUid);\n\n  // Force internal link visibility change if uid changed outside of this component.\n  useEffect(() => {\n    if (!previousUid && datasourceUid && !showInternalLink) {\n      setShowInternalLink(true);\n    }\n    if (previousUid && !datasourceUid && showInternalLink) {\n      setShowInternalLink(false);\n    }\n  }, [previousUid, datasourceUid, showInternalLink]);\n\n  return [showInternalLink, setShowInternalLink];\n}\n\nconst getStyles = () => ({\n  firstRow: css`\n    display: flex;\n  `,\n  nameField: css`\n    flex: 2;\n  `,\n  regexField: css`\n    flex: 3;\n  `,\n  row: css`\n    display: flex;\n    align-items: baseline;\n  `,\n  urlField: css`\n    display: flex;\n    flex: 1;\n  `,\n  urlDisplayLabelField: css`\n    flex: 1;\n  `,\n});\n","import { useEffect, useRef } from 'react';\nexport default function usePrevious(state) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = state;\n    });\n    return ref.current;\n}\n","import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2, VariableOrigin, DataLinkBuiltInVars } from '@grafana/data';\nimport { ConfigSubSection } from '@grafana/experimental';\nimport { Button, useStyles2 } from '@grafana/ui';\n\nimport { DataLinkConfig } from '../types';\n\nimport { DataLink } from './DataLink';\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    addButton: css`\n      margin-right: 10px;\n    `,\n    container: css`\n      margin-bottom: ${theme.spacing(2)};\n    `,\n    dataLink: css`\n      margin-bottom: ${theme.spacing(1)};\n    `,\n  };\n};\n\nexport type Props = {\n  value?: DataLinkConfig[];\n  onChange: (value: DataLinkConfig[]) => void;\n};\nexport const DataLinks = (props: Props) => {\n  const { value, onChange } = props;\n  const styles = useStyles2(getStyles);\n\n  return (\n    <ConfigSubSection\n      title=\"Data links\"\n      description=\"Add links to existing fields. Links will be shown in log row details next to the field value.\"\n    >\n      <div className={styles.container}>\n        {value && value.length > 0 && (\n          <div className=\"gf-form-group\">\n            {value.map((field, index) => {\n              return (\n                <DataLink\n                  className={styles.dataLink}\n                  key={index}\n                  value={field}\n                  onChange={(newField) => {\n                    const newDataLinks = [...value];\n                    newDataLinks.splice(index, 1, newField);\n                    onChange(newDataLinks);\n                  }}\n                  onDelete={() => {\n                    const newDataLinks = [...value];\n                    newDataLinks.splice(index, 1);\n                    onChange(newDataLinks);\n                  }}\n                  suggestions={[\n                    {\n                      value: DataLinkBuiltInVars.valueRaw,\n                      label: 'Raw value',\n                      documentation: 'Raw value of the field',\n                      origin: VariableOrigin.Value,\n                    },\n                  ]}\n                />\n              );\n            })}\n          </div>\n        )}\n\n        <Button\n          type=\"button\"\n          variant={'secondary'}\n          className={styles.addButton}\n          icon=\"plus\"\n          onClick={(event) => {\n            event.preventDefault();\n            const newDataLinks = [...(value || []), { field: '', url: '', base64TraceId: true }];\n            onChange(newDataLinks);\n          }}\n        >\n          Add\n        </Button>\n      </div>\n    </ConfigSubSection>\n  );\n};\n","import React, { useCallback } from 'react';\nimport { DataSourceHttpSettings, Input, InlineField, FieldSet } from '@grafana/ui';\nimport { DataSourcePluginOptionsEditorProps, DataSourceSettings } from '@grafana/data';\nimport { QuickwitOptions } from 'quickwit';\nimport { coerceOptions } from './utils';\nimport { Divider } from 'components/Divider';\nimport { DataLinks } from './DataLinks';\n\ninterface Props extends DataSourcePluginOptionsEditorProps<QuickwitOptions> {}\n\nexport const ConfigEditor = (props: Props) => {\n  const { options: originalOptions, onOptionsChange } = props;\n  const options = coerceOptions(originalOptions);\n  const onSettingsChange = useCallback(\n    (change: Partial<DataSourceSettings<any, any>>) => {\n      onOptionsChange({\n        ...options,\n        ...change,\n      });\n    },\n    [options, onOptionsChange]\n  );\n\n  return (\n    <>\n      <DataSourceHttpSettings\n        defaultUrl=\"http://localhost:7280/api/v1\"\n        dataSourceConfig={options}\n        onChange={onOptionsChange}\n      />\n      <QuickwitDetails value={options} onChange={onSettingsChange} />\n      <QuickwitDataLinks value={options} onChange={onOptionsChange} />\n    </>\n  );\n};\n\ntype DetailsProps = {\n  value: DataSourceSettings<QuickwitOptions>;\n  onChange: (value: DataSourceSettings<QuickwitOptions>) => void;\n};\n\nexport const QuickwitDataLinks = ({ value, onChange }: DetailsProps) => {\n  return (\n    <div className=\"gf-form-group\">\n      <Divider hideLine />\n      <DataLinks\n        value={value.jsonData.dataLinks}\n        onChange={(newValue) => {\n          onChange({\n            ...value,\n            jsonData: {\n              ...value.jsonData,\n              dataLinks: newValue,\n            },\n          });\n        }}\n      />\n    </div>\n  )\n};\n\nexport const QuickwitDetails = ({ value, onChange }: DetailsProps) => {\n  return (\n    <>\n      <div className=\"gf-form-group\">\n        <FieldSet label=\"Index settings\">\n          <InlineField label=\"Index ID\" labelWidth={26} tooltip=\"Index ID. Required.\">\n            <Input\n              id=\"quickwit_index_id\"\n              value={value.jsonData.index}\n              onChange={(event) => onChange({ ...value, jsonData: {...value.jsonData, index: event.currentTarget.value}})}\n              placeholder=\"otel-logs-v0\"\n              width={40}\n            />\n          </InlineField>\n          <InlineField label=\"Message field name\" labelWidth={26} tooltip=\"Field used to display a log line in the Explore view\">\n            <Input\n              id=\"quickwit_log_message_field\"\n              value={value.jsonData.logMessageField}\n              onChange={(event) => onChange({ ...value, jsonData: {...value.jsonData, logMessageField: event.currentTarget.value}})}\n              placeholder=\"body.message\"\n              width={40}\n            />\n          </InlineField>\n          <InlineField label=\"Log level field\" labelWidth={26} tooltip=\"The log level field must be a fast field\">\n            <Input\n              id=\"quickwit_log_level_field\"\n              value={value.jsonData.logLevelField}\n              onChange={(event) => onChange({ ...value, jsonData: {...value.jsonData, logLevelField: event.currentTarget.value}})}\n              placeholder=\"level\"\n              width={40}\n            />\n          </InlineField>\n        </FieldSet>\n      </div>\n    </>\n  );\n};\n","import { Action } from '@reduxjs/toolkit';\nimport { createContext, useCallback, useContext } from 'react';\n\nexport type Reducer<S, A extends Action> = (state: S, action: A) => S;\n\nexport const combineReducers =\n  <S, A extends Action = Action>(reducers: { [P in keyof S]: Reducer<S[P], A> }) =>\n  (state: S, action: A): Partial<S> => {\n    const newState = {} as S;\n    for (const key in reducers) {\n      newState[key] = reducers[key](state[key], action);\n    }\n    return newState;\n  };\n\nexport const useStatelessReducer = <State, A = Action>(\n  onChange: (value: State) => void,\n  state: State,\n  reducer: (state: State, action: A) => State\n) => {\n  const dispatch = useCallback(\n    (action: A) => {\n      onChange(reducer(state, action));\n    },\n    [onChange, state, reducer]\n  );\n\n  return dispatch;\n};\n\nexport const DispatchContext = createContext<((action: Action) => void) | undefined>(undefined);\n\nexport const useDispatch = <T extends Action = Action>(): ((action: T) => void) => {\n  const dispatch = useContext(DispatchContext);\n\n  if (!dispatch) {\n    throw new Error('Use DispatchContext first.');\n  }\n\n  return dispatch;\n};\n","import { metricAggregationConfig, pipelineOptions } from './components/QueryEditor/MetricAggregationsEditor/utils';\nimport {\n  ElasticsearchQuery,\n  ExtendedStat,\n  MetricAggregation,\n  MovingAverageModelOption,\n  MetricAggregationType,\n  DateHistogram,\n} from './types';\n\nexport const extendedStats: ExtendedStat[] = [\n  { label: 'Avg', value: 'avg' },\n  { label: 'Min', value: 'min' },\n  { label: 'Max', value: 'max' },\n  { label: 'Sum', value: 'sum' },\n  { label: 'Count', value: 'count' },\n  { label: 'Std Dev', value: 'std_deviation' },\n  { label: 'Std Dev Upper', value: 'std_deviation_bounds_upper' },\n  { label: 'Std Dev Lower', value: 'std_deviation_bounds_lower' },\n];\n\nexport const movingAvgModelOptions: MovingAverageModelOption[] = [\n  { label: 'Simple', value: 'simple' },\n  { label: 'Linear', value: 'linear' },\n  { label: 'Exponentially Weighted', value: 'ewma' },\n  { label: 'Holt Linear', value: 'holt' },\n  { label: 'Holt Winters', value: 'holt_winters' },\n];\n\nexport function defaultMetricAgg(id = '1'): MetricAggregation {\n  return { type: 'count', id };\n}\n\nexport function defaultLogsAgg(id = '1'): MetricAggregation {\n  return { type: 'logs', id };\n}\n\nexport function defaultBucketAgg(id = '1'): DateHistogram {\n  return { type: 'date_histogram', id, settings: { interval: 'auto' } };\n}\n\nexport const findMetricById = (metrics: MetricAggregation[], id: MetricAggregation['id']) =>\n  metrics.find((metric) => metric.id === id);\n\nexport function hasMetricOfType(target: ElasticsearchQuery, type: MetricAggregationType): boolean {\n  return !!target?.metrics?.some((m) => m.type === type);\n}\n\n// Even if we have type guards when building a query, we currently have no way of getting this information from the response.\n// We should try to find a better (type safe) way of doing the following 2.\nexport function isPipelineAgg(metricType: MetricAggregationType) {\n  return metricType in pipelineOptions;\n}\n\nexport function isPipelineAggWithMultipleBucketPaths(metricType: MetricAggregationType) {\n  return !!metricAggregationConfig[metricType].supportsMultipleBucketPaths;\n}\n","function n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){var r;return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!(null===(r=n.constructor)||void 0===r?void 0:r[L])||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?n.add(t):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)||(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0)),n}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return\"production\"===process.env.NODE_ENV||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function g(n){O(n),n.p.forEach(S),n.p=null}function O(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.g=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.O||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(g(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),g(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o,u=o,a=!1;3===e.i&&(u=new Set(o),o.clear(),a=!0),i(u,(function(r,i){return A(n,e,o,r,i,t,a)})),x(n,o,!1),t&&n.u&&b(\"Patches\").N(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s,v){if(\"production\"!==process.env.NODE_ENV&&c===o&&n(5),r(c)){var p=M(e,c,s&&i&&3!==i.i&&!u(i.R,a)?s.concat(a):void 0);if(f(o,a,p),!r(p))return;e.m=!1}else v&&o.add(c);if(t(c)&&!y(c)){if(!e.h.D&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),!n.l&&n.h.D&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function N(n,r,t){var e=s(r)?b(\"MapSet\").F(r,t):v(r)?b(\"MapSet\").T(r,t):n.O?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function R(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=D(r,c),u.I=!1}else e=D(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function D(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function F(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return\"production\"!==process.env.NODE_ENV&&f(r),en.get(r,n)},set:function(r){var t=this[Q];\"production\"!==process.env.NODE_ENV&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.g&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.R,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=i[s];\"string\"!=typeof p&&\"number\"!=typeof p&&(p=\"\"+p),0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},N:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.R,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.R,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.R=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=N(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.g&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,R:void 0,t:n,k:this,C:!1,g:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.R.set(n,!0),t.o.set(n,r),t.R.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.R.set(n,!1):r.R.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.R=new Map,i(n.t,(function(r){n.R.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=N(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,g:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{F:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){F(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=N(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.R[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&(void 0!==t||r in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[r])||(n.o[r]=t,n.R[r]=!0),!0},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.R[r]=!1,E(n),k(n)):delete n.R[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.O=B,this.D=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=N(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?g(c):O(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw g(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.D&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=R(e));var i=w(this),o=N(this,e,void 0);return o[Q].C=!0,O(i),o},i.finishDraft=function(r,t){var e=r&&r[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.D=n},i.setUseProxies=function(r){r&&!B&&n(20),this.O=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);export default fn;export{un as Immer,pn as applyPatches,K as castDraft,$ as castImmutable,ln as createDraft,R as current,J as enableAllPlugins,F as enableES5,C as enableMapSet,T as enablePatches,dn as finishDraft,d as freeze,L as immerable,r as isDraft,t as isDraftable,H as nothing,e as original,fn as produce,cn as produceWithPatches,sn as setAutoFreeze,vn as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = function (obj, key, value) { return key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value: value }) : obj[key] = value; };\r\nvar __spreadValues = function (a, b) {\r\n    for (var prop in b || (b = {}))\r\n        if (__hasOwnProp.call(b, prop))\r\n            __defNormalProp(a, prop, b[prop]);\r\n    if (__getOwnPropSymbols)\r\n        for (var _i = 0, _c = __getOwnPropSymbols(b); _i < _c.length; _i++) {\r\n            var prop = _c[_i];\r\n            if (__propIsEnum.call(b, prop))\r\n                __defNormalProp(a, prop, b[prop]);\r\n        }\r\n    return a;\r\n};\r\nvar __spreadProps = function (a, b) { return __defProps(a, __getOwnPropDescs(b)); };\r\nvar __async = function (__this, __arguments, generator) {\r\n    return new Promise(function (resolve, reject) {\r\n        var fulfilled = function (value) {\r\n            try {\r\n                step(generator.next(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var rejected = function (value) {\r\n            try {\r\n                step(generator.throw(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var step = function (x) { return x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected); };\r\n        step((generator = generator.apply(__this, __arguments)).next());\r\n    });\r\n};\r\n// src/index.ts\r\nimport { enableES5 } from \"immer\";\r\nexport * from \"redux\";\r\nimport { default as default2, current as current2, freeze, original, isDraft as isDraft4 } from \"immer\";\r\nimport { createSelector as createSelector2 } from \"reselect\";\r\n// src/createDraftSafeSelector.ts\r\nimport { current, isDraft } from \"immer\";\r\nimport { createSelector } from \"reselect\";\r\nvar createDraftSafeSelector = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var selector = createSelector.apply(void 0, args);\r\n    var wrappedSelector = function (value) {\r\n        var rest = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            rest[_i - 1] = arguments[_i];\r\n        }\r\n        return selector.apply(void 0, __spreadArray([isDraft(value) ? current(value) : value], rest));\r\n    };\r\n    return wrappedSelector;\r\n};\r\n// src/configureStore.ts\r\nimport { createStore, compose as compose2, applyMiddleware, combineReducers } from \"redux\";\r\n// src/devtoolsExtension.ts\r\nimport { compose } from \"redux\";\r\nvar composeWithDevTools = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () {\r\n    if (arguments.length === 0)\r\n        return void 0;\r\n    if (typeof arguments[0] === \"object\")\r\n        return compose;\r\n    return compose.apply(null, arguments);\r\n};\r\nvar devToolsEnhancer = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__ : function () {\r\n    return function (noop2) {\r\n        return noop2;\r\n    };\r\n};\r\n// src/isPlainObject.ts\r\nfunction isPlainObject(value) {\r\n    if (typeof value !== \"object\" || value === null)\r\n        return false;\r\n    var proto = Object.getPrototypeOf(value);\r\n    if (proto === null)\r\n        return true;\r\n    var baseProto = proto;\r\n    while (Object.getPrototypeOf(baseProto) !== null) {\r\n        baseProto = Object.getPrototypeOf(baseProto);\r\n    }\r\n    return proto === baseProto;\r\n}\r\n// src/getDefaultMiddleware.ts\r\nimport thunkMiddleware from \"redux-thunk\";\r\n// src/utils.ts\r\nimport createNextState, { isDraftable } from \"immer\";\r\nfunction getTimeMeasureUtils(maxDelay, fnName) {\r\n    var elapsed = 0;\r\n    return {\r\n        measureTime: function (fn) {\r\n            var started = Date.now();\r\n            try {\r\n                return fn();\r\n            }\r\n            finally {\r\n                var finished = Date.now();\r\n                elapsed += finished - started;\r\n            }\r\n        },\r\n        warnIfExceeded: function () {\r\n            if (elapsed > maxDelay) {\r\n                console.warn(fnName + \" took \" + elapsed + \"ms, which is more than the warning threshold of \" + maxDelay + \"ms. \\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\\nIt is disabled in production builds, so you don't need to worry about that.\");\r\n            }\r\n        }\r\n    };\r\n}\r\nvar MiddlewareArray = /** @class */ (function (_super) {\r\n    __extends(MiddlewareArray, _super);\r\n    function MiddlewareArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, MiddlewareArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MiddlewareArray, Symbol.species, {\r\n        get: function () {\r\n            return MiddlewareArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    MiddlewareArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    MiddlewareArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return MiddlewareArray;\r\n}(Array));\r\nvar EnhancerArray = /** @class */ (function (_super) {\r\n    __extends(EnhancerArray, _super);\r\n    function EnhancerArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, EnhancerArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EnhancerArray, Symbol.species, {\r\n        get: function () {\r\n            return EnhancerArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    EnhancerArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    EnhancerArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (EnhancerArray.bind.apply(EnhancerArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (EnhancerArray.bind.apply(EnhancerArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return EnhancerArray;\r\n}(Array));\r\nfunction freezeDraftable(val) {\r\n    return isDraftable(val) ? createNextState(val, function () {\r\n    }) : val;\r\n}\r\n// src/immutableStateInvariantMiddleware.ts\r\nvar isProduction = process.env.NODE_ENV === \"production\";\r\nvar prefix = \"Invariant failed\";\r\nfunction invariant(condition, message) {\r\n    if (condition) {\r\n        return;\r\n    }\r\n    if (isProduction) {\r\n        throw new Error(prefix);\r\n    }\r\n    throw new Error(prefix + \": \" + (message || \"\"));\r\n}\r\nfunction stringify(obj, serializer, indent, decycler) {\r\n    return JSON.stringify(obj, getSerialize(serializer, decycler), indent);\r\n}\r\nfunction getSerialize(serializer, decycler) {\r\n    var stack = [], keys = [];\r\n    if (!decycler)\r\n        decycler = function (_, value) {\r\n            if (stack[0] === value)\r\n                return \"[Circular ~]\";\r\n            return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\r\n        };\r\n    return function (key, value) {\r\n        if (stack.length > 0) {\r\n            var thisPos = stack.indexOf(this);\r\n            ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\r\n            ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\r\n            if (~stack.indexOf(value))\r\n                value = decycler.call(this, key, value);\r\n        }\r\n        else\r\n            stack.push(value);\r\n        return serializer == null ? value : serializer.call(this, key, value);\r\n    };\r\n}\r\nfunction isImmutableDefault(value) {\r\n    return typeof value !== \"object\" || value == null || Object.isFrozen(value);\r\n}\r\nfunction trackForMutations(isImmutable, ignorePaths, obj) {\r\n    var trackedProperties = trackProperties(isImmutable, ignorePaths, obj);\r\n    return {\r\n        detectMutations: function () {\r\n            return detectMutations(isImmutable, ignorePaths, trackedProperties, obj);\r\n        }\r\n    };\r\n}\r\nfunction trackProperties(isImmutable, ignorePaths, obj, path) {\r\n    if (ignorePaths === void 0) { ignorePaths = []; }\r\n    if (path === void 0) { path = \"\"; }\r\n    var tracked = { value: obj };\r\n    if (!isImmutable(obj)) {\r\n        tracked.children = {};\r\n        for (var key in obj) {\r\n            var childPath = path ? path + \".\" + key : key;\r\n            if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\r\n                continue;\r\n            }\r\n            tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);\r\n        }\r\n    }\r\n    return tracked;\r\n}\r\nfunction detectMutations(isImmutable, ignoredPaths, trackedProperty, obj, sameParentRef, path) {\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    if (sameParentRef === void 0) { sameParentRef = false; }\r\n    if (path === void 0) { path = \"\"; }\r\n    var prevObj = trackedProperty ? trackedProperty.value : void 0;\r\n    var sameRef = prevObj === obj;\r\n    if (sameParentRef && !sameRef && !Number.isNaN(obj)) {\r\n        return { wasMutated: true, path: path };\r\n    }\r\n    if (isImmutable(prevObj) || isImmutable(obj)) {\r\n        return { wasMutated: false };\r\n    }\r\n    var keysToDetect = {};\r\n    for (var key in trackedProperty.children) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    for (var key in obj) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    var _loop_1 = function (key) {\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths) {\r\n            var hasMatches = ignoredPaths.some(function (ignored) {\r\n                if (ignored instanceof RegExp) {\r\n                    return ignored.test(nestedPath);\r\n                }\r\n                return nestedPath === ignored;\r\n            });\r\n            if (hasMatches) {\r\n                return \"continue\";\r\n            }\r\n        }\r\n        var result = detectMutations(isImmutable, ignoredPaths, trackedProperty.children[key], obj[key], sameRef, nestedPath);\r\n        if (result.wasMutated) {\r\n            return { value: result };\r\n        }\r\n    };\r\n    for (var key in keysToDetect) {\r\n        var state_1 = _loop_1(key);\r\n        if (typeof state_1 === \"object\")\r\n            return state_1.value;\r\n    }\r\n    return { wasMutated: false };\r\n}\r\nfunction createImmutableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isImmutable, isImmutable = _c === void 0 ? isImmutableDefault : _c, ignoredPaths = options.ignoredPaths, _d = options.warnAfter, warnAfter = _d === void 0 ? 32 : _d, ignore = options.ignore;\r\n    ignoredPaths = ignoredPaths || ignore;\r\n    var track = trackForMutations.bind(null, isImmutable, ignoredPaths);\r\n    return function (_c) {\r\n        var getState = _c.getState;\r\n        var state = getState();\r\n        var tracker = track(state);\r\n        var result;\r\n        return function (next) { return function (action) {\r\n            var measureUtils = getTimeMeasureUtils(warnAfter, \"ImmutableStateInvariantMiddleware\");\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                invariant(!result.wasMutated, \"A state mutation was detected between dispatches, in the path '\" + (result.path || \"\") + \"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            var dispatchedAction = next(action);\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                result.wasMutated && invariant(!result.wasMutated, \"A state mutation was detected inside a dispatch, in the path: \" + (result.path || \"\") + \". Take a look at the reducer(s) handling the action \" + stringify(action) + \". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n            return dispatchedAction;\r\n        }; };\r\n    };\r\n}\r\n// src/serializableStateInvariantMiddleware.ts\r\nfunction isPlain(val) {\r\n    var type = typeof val;\r\n    return val == null || type === \"string\" || type === \"boolean\" || type === \"number\" || Array.isArray(val) || isPlainObject(val);\r\n}\r\nfunction findNonSerializableValue(value, path, isSerializable, getEntries, ignoredPaths, cache) {\r\n    if (path === void 0) { path = \"\"; }\r\n    if (isSerializable === void 0) { isSerializable = isPlain; }\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    var foundNestedSerializable;\r\n    if (!isSerializable(value)) {\r\n        return {\r\n            keyPath: path || \"<root>\",\r\n            value: value\r\n        };\r\n    }\r\n    if (typeof value !== \"object\" || value === null) {\r\n        return false;\r\n    }\r\n    if (cache == null ? void 0 : cache.has(value))\r\n        return false;\r\n    var entries = getEntries != null ? getEntries(value) : Object.entries(value);\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    var _loop_2 = function (key, nestedValue) {\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths) {\r\n            var hasMatches = ignoredPaths.some(function (ignored) {\r\n                if (ignored instanceof RegExp) {\r\n                    return ignored.test(nestedPath);\r\n                }\r\n                return nestedPath === ignored;\r\n            });\r\n            if (hasMatches) {\r\n                return \"continue\";\r\n            }\r\n        }\r\n        if (!isSerializable(nestedValue)) {\r\n            return { value: {\r\n                    keyPath: nestedPath,\r\n                    value: nestedValue\r\n                } };\r\n        }\r\n        if (typeof nestedValue === \"object\") {\r\n            foundNestedSerializable = findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths, cache);\r\n            if (foundNestedSerializable) {\r\n                return { value: foundNestedSerializable };\r\n            }\r\n        }\r\n    };\r\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n        var _c = entries_1[_i], key = _c[0], nestedValue = _c[1];\r\n        var state_2 = _loop_2(key, nestedValue);\r\n        if (typeof state_2 === \"object\")\r\n            return state_2.value;\r\n    }\r\n    if (cache && isNestedFrozen(value))\r\n        cache.add(value);\r\n    return false;\r\n}\r\nfunction isNestedFrozen(value) {\r\n    if (!Object.isFrozen(value))\r\n        return false;\r\n    for (var _i = 0, _c = Object.values(value); _i < _c.length; _i++) {\r\n        var nestedValue = _c[_i];\r\n        if (typeof nestedValue !== \"object\" || nestedValue === null)\r\n            continue;\r\n        if (!isNestedFrozen(nestedValue))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nfunction createSerializableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isSerializable, isSerializable = _c === void 0 ? isPlain : _c, getEntries = options.getEntries, _d = options.ignoredActions, ignoredActions = _d === void 0 ? [] : _d, _e = options.ignoredActionPaths, ignoredActionPaths = _e === void 0 ? [\"meta.arg\", \"meta.baseQueryMeta\"] : _e, _f = options.ignoredPaths, ignoredPaths = _f === void 0 ? [] : _f, _g = options.warnAfter, warnAfter = _g === void 0 ? 32 : _g, _h = options.ignoreState, ignoreState = _h === void 0 ? false : _h, _j = options.ignoreActions, ignoreActions = _j === void 0 ? false : _j, _k = options.disableCache, disableCache = _k === void 0 ? false : _k;\r\n    var cache = !disableCache && WeakSet ? new WeakSet() : void 0;\r\n    return function (storeAPI) { return function (next) { return function (action) {\r\n        var result = next(action);\r\n        var measureUtils = getTimeMeasureUtils(warnAfter, \"SerializableStateInvariantMiddleware\");\r\n        if (!ignoreActions && !(ignoredActions.length && ignoredActions.indexOf(action.type) !== -1)) {\r\n            measureUtils.measureTime(function () {\r\n                var foundActionNonSerializableValue = findNonSerializableValue(action, \"\", isSerializable, getEntries, ignoredActionPaths, cache);\r\n                if (foundActionNonSerializableValue) {\r\n                    var keyPath = foundActionNonSerializableValue.keyPath, value = foundActionNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in an action, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the logic that dispatched this action: \", action, \"\\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)\", \"\\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)\");\r\n                }\r\n            });\r\n        }\r\n        if (!ignoreState) {\r\n            measureUtils.measureTime(function () {\r\n                var state = storeAPI.getState();\r\n                var foundStateNonSerializableValue = findNonSerializableValue(state, \"\", isSerializable, getEntries, ignoredPaths, cache);\r\n                if (foundStateNonSerializableValue) {\r\n                    var keyPath = foundStateNonSerializableValue.keyPath, value = foundStateNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in the state, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the reducer(s) handling this action type: \" + action.type + \".\\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)\");\r\n                }\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n        }\r\n        return result;\r\n    }; }; };\r\n}\r\n// src/getDefaultMiddleware.ts\r\nfunction isBoolean(x) {\r\n    return typeof x === \"boolean\";\r\n}\r\nfunction curryGetDefaultMiddleware() {\r\n    return function curriedGetDefaultMiddleware(options) {\r\n        return getDefaultMiddleware(options);\r\n    };\r\n}\r\nfunction getDefaultMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _c = options.thunk, thunk = _c === void 0 ? true : _c, _d = options.immutableCheck, immutableCheck = _d === void 0 ? true : _d, _e = options.serializableCheck, serializableCheck = _e === void 0 ? true : _e;\r\n    var middlewareArray = new MiddlewareArray();\r\n    if (thunk) {\r\n        if (isBoolean(thunk)) {\r\n            middlewareArray.push(thunkMiddleware);\r\n        }\r\n        else {\r\n            middlewareArray.push(thunkMiddleware.withExtraArgument(thunk.extraArgument));\r\n        }\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (immutableCheck) {\r\n            var immutableOptions = {};\r\n            if (!isBoolean(immutableCheck)) {\r\n                immutableOptions = immutableCheck;\r\n            }\r\n            middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions));\r\n        }\r\n        if (serializableCheck) {\r\n            var serializableOptions = {};\r\n            if (!isBoolean(serializableCheck)) {\r\n                serializableOptions = serializableCheck;\r\n            }\r\n            middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions));\r\n        }\r\n    }\r\n    return middlewareArray;\r\n}\r\n// src/configureStore.ts\r\nvar IS_PRODUCTION = process.env.NODE_ENV === \"production\";\r\nfunction configureStore(options) {\r\n    var curriedGetDefaultMiddleware = curryGetDefaultMiddleware();\r\n    var _c = options || {}, _d = _c.reducer, reducer = _d === void 0 ? void 0 : _d, _e = _c.middleware, middleware = _e === void 0 ? curriedGetDefaultMiddleware() : _e, _f = _c.devTools, devTools = _f === void 0 ? true : _f, _g = _c.preloadedState, preloadedState = _g === void 0 ? void 0 : _g, _h = _c.enhancers, enhancers = _h === void 0 ? void 0 : _h;\r\n    var rootReducer;\r\n    if (typeof reducer === \"function\") {\r\n        rootReducer = reducer;\r\n    }\r\n    else if (isPlainObject(reducer)) {\r\n        rootReducer = combineReducers(reducer);\r\n    }\r\n    else {\r\n        throw new Error('\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');\r\n    }\r\n    var finalMiddleware = middleware;\r\n    if (typeof finalMiddleware === \"function\") {\r\n        finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware);\r\n        if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {\r\n            throw new Error(\"when using a middleware builder function, an array of middleware must be returned\");\r\n        }\r\n    }\r\n    if (!IS_PRODUCTION && finalMiddleware.some(function (item) { return typeof item !== \"function\"; })) {\r\n        throw new Error(\"each middleware provided to configureStore must be a function\");\r\n    }\r\n    var middlewareEnhancer = applyMiddleware.apply(void 0, finalMiddleware);\r\n    var finalCompose = compose2;\r\n    if (devTools) {\r\n        finalCompose = composeWithDevTools(__spreadValues({\r\n            trace: !IS_PRODUCTION\r\n        }, typeof devTools === \"object\" && devTools));\r\n    }\r\n    var defaultEnhancers = new EnhancerArray(middlewareEnhancer);\r\n    var storeEnhancers = defaultEnhancers;\r\n    if (Array.isArray(enhancers)) {\r\n        storeEnhancers = __spreadArray([middlewareEnhancer], enhancers);\r\n    }\r\n    else if (typeof enhancers === \"function\") {\r\n        storeEnhancers = enhancers(defaultEnhancers);\r\n    }\r\n    var composedEnhancer = finalCompose.apply(void 0, storeEnhancers);\r\n    return createStore(rootReducer, preloadedState, composedEnhancer);\r\n}\r\n// src/createAction.ts\r\nfunction createAction(type, prepareAction) {\r\n    function actionCreator() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (prepareAction) {\r\n            var prepared = prepareAction.apply(void 0, args);\r\n            if (!prepared) {\r\n                throw new Error(\"prepareAction did not return an object\");\r\n            }\r\n            return __spreadValues(__spreadValues({\r\n                type: type,\r\n                payload: prepared.payload\r\n            }, \"meta\" in prepared && { meta: prepared.meta }), \"error\" in prepared && { error: prepared.error });\r\n        }\r\n        return { type: type, payload: args[0] };\r\n    }\r\n    actionCreator.toString = function () { return \"\" + type; };\r\n    actionCreator.type = type;\r\n    actionCreator.match = function (action) { return action.type === type; };\r\n    return actionCreator;\r\n}\r\nfunction isAction(action) {\r\n    return isPlainObject(action) && \"type\" in action;\r\n}\r\nfunction isFSA(action) {\r\n    return isAction(action) && typeof action.type === \"string\" && Object.keys(action).every(isValidKey);\r\n}\r\nfunction isValidKey(key) {\r\n    return [\"type\", \"payload\", \"error\", \"meta\"].indexOf(key) > -1;\r\n}\r\nfunction getType(actionCreator) {\r\n    return \"\" + actionCreator;\r\n}\r\n// src/createReducer.ts\r\nimport createNextState2, { isDraft as isDraft2, isDraftable as isDraftable2 } from \"immer\";\r\n// src/mapBuilders.ts\r\nfunction executeReducerBuilderCallback(builderCallback) {\r\n    var actionsMap = {};\r\n    var actionMatchers = [];\r\n    var defaultCaseReducer;\r\n    var builder = {\r\n        addCase: function (typeOrActionCreator, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (actionMatchers.length > 0) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addMatcher`\");\r\n                }\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            var type = typeof typeOrActionCreator === \"string\" ? typeOrActionCreator : typeOrActionCreator.type;\r\n            if (type in actionsMap) {\r\n                throw new Error(\"addCase cannot be called with two reducers for the same action type\");\r\n            }\r\n            actionsMap[type] = reducer;\r\n            return builder;\r\n        },\r\n        addMatcher: function (matcher, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addMatcher` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            actionMatchers.push({ matcher: matcher, reducer: reducer });\r\n            return builder;\r\n        },\r\n        addDefaultCase: function (reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addDefaultCase` can only be called once\");\r\n                }\r\n            }\r\n            defaultCaseReducer = reducer;\r\n            return builder;\r\n        }\r\n    };\r\n    builderCallback(builder);\r\n    return [actionsMap, actionMatchers, defaultCaseReducer];\r\n}\r\n// src/createReducer.ts\r\nfunction isStateFunction(x) {\r\n    return typeof x === \"function\";\r\n}\r\nvar hasWarnedAboutObjectNotation = false;\r\nfunction createReducer(initialState, mapOrBuilderCallback, actionMatchers, defaultCaseReducer) {\r\n    if (actionMatchers === void 0) { actionMatchers = []; }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (typeof mapOrBuilderCallback === \"object\") {\r\n            if (!hasWarnedAboutObjectNotation) {\r\n                hasWarnedAboutObjectNotation = true;\r\n                console.warn(\"The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer\");\r\n            }\r\n        }\r\n    }\r\n    var _c = typeof mapOrBuilderCallback === \"function\" ? executeReducerBuilderCallback(mapOrBuilderCallback) : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer], actionsMap = _c[0], finalActionMatchers = _c[1], finalDefaultCaseReducer = _c[2];\r\n    var getInitialState;\r\n    if (isStateFunction(initialState)) {\r\n        getInitialState = function () { return freezeDraftable(initialState()); };\r\n    }\r\n    else {\r\n        var frozenInitialState_1 = freezeDraftable(initialState);\r\n        getInitialState = function () { return frozenInitialState_1; };\r\n    }\r\n    function reducer(state, action) {\r\n        if (state === void 0) { state = getInitialState(); }\r\n        var caseReducers = __spreadArray([\r\n            actionsMap[action.type]\r\n        ], finalActionMatchers.filter(function (_c) {\r\n            var matcher = _c.matcher;\r\n            return matcher(action);\r\n        }).map(function (_c) {\r\n            var reducer2 = _c.reducer;\r\n            return reducer2;\r\n        }));\r\n        if (caseReducers.filter(function (cr) { return !!cr; }).length === 0) {\r\n            caseReducers = [finalDefaultCaseReducer];\r\n        }\r\n        return caseReducers.reduce(function (previousState, caseReducer) {\r\n            if (caseReducer) {\r\n                if (isDraft2(previousState)) {\r\n                    var draft = previousState;\r\n                    var result = caseReducer(draft, action);\r\n                    if (result === void 0) {\r\n                        return previousState;\r\n                    }\r\n                    return result;\r\n                }\r\n                else if (!isDraftable2(previousState)) {\r\n                    var result = caseReducer(previousState, action);\r\n                    if (result === void 0) {\r\n                        if (previousState === null) {\r\n                            return previousState;\r\n                        }\r\n                        throw Error(\"A case reducer on a non-draftable value must not return undefined\");\r\n                    }\r\n                    return result;\r\n                }\r\n                else {\r\n                    return createNextState2(previousState, function (draft) {\r\n                        return caseReducer(draft, action);\r\n                    });\r\n                }\r\n            }\r\n            return previousState;\r\n        }, state);\r\n    }\r\n    reducer.getInitialState = getInitialState;\r\n    return reducer;\r\n}\r\n// src/createSlice.ts\r\nvar hasWarnedAboutObjectNotation2 = false;\r\nfunction getType2(slice, actionKey) {\r\n    return slice + \"/\" + actionKey;\r\n}\r\nfunction createSlice(options) {\r\n    var name = options.name;\r\n    if (!name) {\r\n        throw new Error(\"`name` is a required option for createSlice\");\r\n    }\r\n    if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\r\n        if (options.initialState === void 0) {\r\n            console.error(\"You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`\");\r\n        }\r\n    }\r\n    var initialState = typeof options.initialState == \"function\" ? options.initialState : freezeDraftable(options.initialState);\r\n    var reducers = options.reducers || {};\r\n    var reducerNames = Object.keys(reducers);\r\n    var sliceCaseReducersByName = {};\r\n    var sliceCaseReducersByType = {};\r\n    var actionCreators = {};\r\n    reducerNames.forEach(function (reducerName) {\r\n        var maybeReducerWithPrepare = reducers[reducerName];\r\n        var type = getType2(name, reducerName);\r\n        var caseReducer;\r\n        var prepareCallback;\r\n        if (\"reducer\" in maybeReducerWithPrepare) {\r\n            caseReducer = maybeReducerWithPrepare.reducer;\r\n            prepareCallback = maybeReducerWithPrepare.prepare;\r\n        }\r\n        else {\r\n            caseReducer = maybeReducerWithPrepare;\r\n        }\r\n        sliceCaseReducersByName[reducerName] = caseReducer;\r\n        sliceCaseReducersByType[type] = caseReducer;\r\n        actionCreators[reducerName] = prepareCallback ? createAction(type, prepareCallback) : createAction(type);\r\n    });\r\n    function buildReducer() {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            if (typeof options.extraReducers === \"object\") {\r\n                if (!hasWarnedAboutObjectNotation2) {\r\n                    hasWarnedAboutObjectNotation2 = true;\r\n                    console.warn(\"The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice\");\r\n                }\r\n            }\r\n        }\r\n        var _c = typeof options.extraReducers === \"function\" ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers], _d = _c[0], extraReducers = _d === void 0 ? {} : _d, _e = _c[1], actionMatchers = _e === void 0 ? [] : _e, _f = _c[2], defaultCaseReducer = _f === void 0 ? void 0 : _f;\r\n        var finalCaseReducers = __spreadValues(__spreadValues({}, extraReducers), sliceCaseReducersByType);\r\n        return createReducer(initialState, function (builder) {\r\n            for (var key in finalCaseReducers) {\r\n                builder.addCase(key, finalCaseReducers[key]);\r\n            }\r\n            for (var _i = 0, actionMatchers_1 = actionMatchers; _i < actionMatchers_1.length; _i++) {\r\n                var m = actionMatchers_1[_i];\r\n                builder.addMatcher(m.matcher, m.reducer);\r\n            }\r\n            if (defaultCaseReducer) {\r\n                builder.addDefaultCase(defaultCaseReducer);\r\n            }\r\n        });\r\n    }\r\n    var _reducer;\r\n    return {\r\n        name: name,\r\n        reducer: function (state, action) {\r\n            if (!_reducer)\r\n                _reducer = buildReducer();\r\n            return _reducer(state, action);\r\n        },\r\n        actions: actionCreators,\r\n        caseReducers: sliceCaseReducersByName,\r\n        getInitialState: function () {\r\n            if (!_reducer)\r\n                _reducer = buildReducer();\r\n            return _reducer.getInitialState();\r\n        }\r\n    };\r\n}\r\n// src/entities/entity_state.ts\r\nfunction getInitialEntityState() {\r\n    return {\r\n        ids: [],\r\n        entities: {}\r\n    };\r\n}\r\nfunction createInitialStateFactory() {\r\n    function getInitialState(additionalState) {\r\n        if (additionalState === void 0) { additionalState = {}; }\r\n        return Object.assign(getInitialEntityState(), additionalState);\r\n    }\r\n    return { getInitialState: getInitialState };\r\n}\r\n// src/entities/state_selectors.ts\r\nfunction createSelectorsFactory() {\r\n    function getSelectors(selectState) {\r\n        var selectIds = function (state) { return state.ids; };\r\n        var selectEntities = function (state) { return state.entities; };\r\n        var selectAll = createDraftSafeSelector(selectIds, selectEntities, function (ids, entities) { return ids.map(function (id) { return entities[id]; }); });\r\n        var selectId = function (_, id) { return id; };\r\n        var selectById = function (entities, id) { return entities[id]; };\r\n        var selectTotal = createDraftSafeSelector(selectIds, function (ids) { return ids.length; });\r\n        if (!selectState) {\r\n            return {\r\n                selectIds: selectIds,\r\n                selectEntities: selectEntities,\r\n                selectAll: selectAll,\r\n                selectTotal: selectTotal,\r\n                selectById: createDraftSafeSelector(selectEntities, selectId, selectById)\r\n            };\r\n        }\r\n        var selectGlobalizedEntities = createDraftSafeSelector(selectState, selectEntities);\r\n        return {\r\n            selectIds: createDraftSafeSelector(selectState, selectIds),\r\n            selectEntities: selectGlobalizedEntities,\r\n            selectAll: createDraftSafeSelector(selectState, selectAll),\r\n            selectTotal: createDraftSafeSelector(selectState, selectTotal),\r\n            selectById: createDraftSafeSelector(selectGlobalizedEntities, selectId, selectById)\r\n        };\r\n    }\r\n    return { getSelectors: getSelectors };\r\n}\r\n// src/entities/state_adapter.ts\r\nimport createNextState3, { isDraft as isDraft3 } from \"immer\";\r\nfunction createSingleArgumentStateOperator(mutator) {\r\n    var operator = createStateOperator(function (_, state) { return mutator(state); });\r\n    return function operation(state) {\r\n        return operator(state, void 0);\r\n    };\r\n}\r\nfunction createStateOperator(mutator) {\r\n    return function operation(state, arg) {\r\n        function isPayloadActionArgument(arg2) {\r\n            return isFSA(arg2);\r\n        }\r\n        var runMutator = function (draft) {\r\n            if (isPayloadActionArgument(arg)) {\r\n                mutator(arg.payload, draft);\r\n            }\r\n            else {\r\n                mutator(arg, draft);\r\n            }\r\n        };\r\n        if (isDraft3(state)) {\r\n            runMutator(state);\r\n            return state;\r\n        }\r\n        else {\r\n            return createNextState3(state, runMutator);\r\n        }\r\n    };\r\n}\r\n// src/entities/utils.ts\r\nfunction selectIdValue(entity, selectId) {\r\n    var key = selectId(entity);\r\n    if (process.env.NODE_ENV !== \"production\" && key === void 0) {\r\n        console.warn(\"The entity passed to the `selectId` implementation returned undefined.\", \"You should probably provide your own `selectId` implementation.\", \"The entity that was passed:\", entity, \"The `selectId` implementation:\", selectId.toString());\r\n    }\r\n    return key;\r\n}\r\nfunction ensureEntitiesArray(entities) {\r\n    if (!Array.isArray(entities)) {\r\n        entities = Object.values(entities);\r\n    }\r\n    return entities;\r\n}\r\nfunction splitAddedUpdatedEntities(newEntities, selectId, state) {\r\n    newEntities = ensureEntitiesArray(newEntities);\r\n    var added = [];\r\n    var updated = [];\r\n    for (var _i = 0, newEntities_1 = newEntities; _i < newEntities_1.length; _i++) {\r\n        var entity = newEntities_1[_i];\r\n        var id = selectIdValue(entity, selectId);\r\n        if (id in state.entities) {\r\n            updated.push({ id: id, changes: entity });\r\n        }\r\n        else {\r\n            added.push(entity);\r\n        }\r\n    }\r\n    return [added, updated];\r\n}\r\n// src/entities/unsorted_state_adapter.ts\r\nfunction createUnsortedStateAdapter(selectId) {\r\n    function addOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (key in state.entities) {\r\n            return;\r\n        }\r\n        state.ids.push(key);\r\n        state.entities[key] = entity;\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_2 = newEntities; _i < newEntities_2.length; _i++) {\r\n            var entity = newEntities_2[_i];\r\n            addOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (!(key in state.entities)) {\r\n            state.ids.push(key);\r\n        }\r\n        state.entities[key] = entity;\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_3 = newEntities; _i < newEntities_3.length; _i++) {\r\n            var entity = newEntities_3[_i];\r\n            setOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.ids = [];\r\n        state.entities = {};\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function removeOneMutably(key, state) {\r\n        return removeManyMutably([key], state);\r\n    }\r\n    function removeManyMutably(keys, state) {\r\n        var didMutate = false;\r\n        keys.forEach(function (key) {\r\n            if (key in state.entities) {\r\n                delete state.entities[key];\r\n                didMutate = true;\r\n            }\r\n        });\r\n        if (didMutate) {\r\n            state.ids = state.ids.filter(function (id) { return id in state.entities; });\r\n        }\r\n    }\r\n    function removeAllMutably(state) {\r\n        Object.assign(state, {\r\n            ids: [],\r\n            entities: {}\r\n        });\r\n    }\r\n    function takeNewKey(keys, update, state) {\r\n        var original2 = state.entities[update.id];\r\n        var updated = Object.assign({}, original2, update.changes);\r\n        var newKey = selectIdValue(updated, selectId);\r\n        var hasNewKey = newKey !== update.id;\r\n        if (hasNewKey) {\r\n            keys[update.id] = newKey;\r\n            delete state.entities[update.id];\r\n        }\r\n        state.entities[newKey] = updated;\r\n        return hasNewKey;\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var newKeys = {};\r\n        var updatesPerEntity = {};\r\n        updates.forEach(function (update) {\r\n            if (update.id in state.entities) {\r\n                updatesPerEntity[update.id] = {\r\n                    id: update.id,\r\n                    changes: __spreadValues(__spreadValues({}, updatesPerEntity[update.id] ? updatesPerEntity[update.id].changes : null), update.changes)\r\n                };\r\n            }\r\n        });\r\n        updates = Object.values(updatesPerEntity);\r\n        var didMutateEntities = updates.length > 0;\r\n        if (didMutateEntities) {\r\n            var didMutateIds = updates.filter(function (update) { return takeNewKey(newKeys, update, state); }).length > 0;\r\n            if (didMutateIds) {\r\n                state.ids = Object.keys(state.entities);\r\n            }\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _c = splitAddedUpdatedEntities(newEntities, selectId, state), added = _c[0], updated = _c[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    return {\r\n        removeAll: createSingleArgumentStateOperator(removeAllMutably),\r\n        addOne: createStateOperator(addOneMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably),\r\n        removeOne: createStateOperator(removeOneMutably),\r\n        removeMany: createStateOperator(removeManyMutably)\r\n    };\r\n}\r\n// src/entities/sorted_state_adapter.ts\r\nfunction createSortedStateAdapter(selectId, sort) {\r\n    var _c = createUnsortedStateAdapter(selectId), removeOne = _c.removeOne, removeMany = _c.removeMany, removeAll = _c.removeAll;\r\n    function addOneMutably(entity, state) {\r\n        return addManyMutably([entity], state);\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        var models = newEntities.filter(function (model) { return !(selectIdValue(model, selectId) in state.entities); });\r\n        if (models.length !== 0) {\r\n            merge(models, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        return setManyMutably([entity], state);\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        if (newEntities.length !== 0) {\r\n            merge(newEntities, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.entities = {};\r\n        state.ids = [];\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var appliedUpdates = false;\r\n        for (var _i = 0, updates_1 = updates; _i < updates_1.length; _i++) {\r\n            var update = updates_1[_i];\r\n            var entity = state.entities[update.id];\r\n            if (!entity) {\r\n                continue;\r\n            }\r\n            appliedUpdates = true;\r\n            Object.assign(entity, update.changes);\r\n            var newId = selectId(entity);\r\n            if (update.id !== newId) {\r\n                delete state.entities[update.id];\r\n                state.entities[newId] = entity;\r\n            }\r\n        }\r\n        if (appliedUpdates) {\r\n            resortEntities(state);\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _c = splitAddedUpdatedEntities(newEntities, selectId, state), added = _c[0], updated = _c[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    function areArraysEqual(a, b) {\r\n        if (a.length !== b.length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < a.length && i < b.length; i++) {\r\n            if (a[i] === b[i]) {\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    function merge(models, state) {\r\n        models.forEach(function (model) {\r\n            state.entities[selectId(model)] = model;\r\n        });\r\n        resortEntities(state);\r\n    }\r\n    function resortEntities(state) {\r\n        var allEntities = Object.values(state.entities);\r\n        allEntities.sort(sort);\r\n        var newSortedIds = allEntities.map(selectId);\r\n        var ids = state.ids;\r\n        if (!areArraysEqual(ids, newSortedIds)) {\r\n            state.ids = newSortedIds;\r\n        }\r\n    }\r\n    return {\r\n        removeOne: removeOne,\r\n        removeMany: removeMany,\r\n        removeAll: removeAll,\r\n        addOne: createStateOperator(addOneMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably)\r\n    };\r\n}\r\n// src/entities/create_adapter.ts\r\nfunction createEntityAdapter(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _c = __spreadValues({\r\n        sortComparer: false,\r\n        selectId: function (instance) { return instance.id; }\r\n    }, options), selectId = _c.selectId, sortComparer = _c.sortComparer;\r\n    var stateFactory = createInitialStateFactory();\r\n    var selectorsFactory = createSelectorsFactory();\r\n    var stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);\r\n    return __spreadValues(__spreadValues(__spreadValues({\r\n        selectId: selectId,\r\n        sortComparer: sortComparer\r\n    }, stateFactory), selectorsFactory), stateAdapter);\r\n}\r\n// src/nanoid.ts\r\nvar urlAlphabet = \"ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW\";\r\nvar nanoid = function (size) {\r\n    if (size === void 0) { size = 21; }\r\n    var id = \"\";\r\n    var i = size;\r\n    while (i--) {\r\n        id += urlAlphabet[Math.random() * 64 | 0];\r\n    }\r\n    return id;\r\n};\r\n// src/createAsyncThunk.ts\r\nvar commonProperties = [\r\n    \"name\",\r\n    \"message\",\r\n    \"stack\",\r\n    \"code\"\r\n];\r\nvar RejectWithValue = /** @class */ (function () {\r\n    function RejectWithValue(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return RejectWithValue;\r\n}());\r\nvar FulfillWithMeta = /** @class */ (function () {\r\n    function FulfillWithMeta(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return FulfillWithMeta;\r\n}());\r\nvar miniSerializeError = function (value) {\r\n    if (typeof value === \"object\" && value !== null) {\r\n        var simpleError = {};\r\n        for (var _i = 0, commonProperties_1 = commonProperties; _i < commonProperties_1.length; _i++) {\r\n            var property = commonProperties_1[_i];\r\n            if (typeof value[property] === \"string\") {\r\n                simpleError[property] = value[property];\r\n            }\r\n        }\r\n        return simpleError;\r\n    }\r\n    return { message: String(value) };\r\n};\r\nvar createAsyncThunk = (function () {\r\n    function createAsyncThunk2(typePrefix, payloadCreator, options) {\r\n        var fulfilled = createAction(typePrefix + \"/fulfilled\", function (payload, requestId, arg, meta) { return ({\r\n            payload: payload,\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                requestStatus: \"fulfilled\"\r\n            })\r\n        }); });\r\n        var pending = createAction(typePrefix + \"/pending\", function (requestId, arg, meta) { return ({\r\n            payload: void 0,\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                requestStatus: \"pending\"\r\n            })\r\n        }); });\r\n        var rejected = createAction(typePrefix + \"/rejected\", function (error, requestId, arg, payload, meta) { return ({\r\n            payload: payload,\r\n            error: (options && options.serializeError || miniSerializeError)(error || \"Rejected\"),\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                rejectedWithValue: !!payload,\r\n                requestStatus: \"rejected\",\r\n                aborted: (error == null ? void 0 : error.name) === \"AbortError\",\r\n                condition: (error == null ? void 0 : error.name) === \"ConditionError\"\r\n            })\r\n        }); });\r\n        var displayedWarning = false;\r\n        var AC = typeof AbortController !== \"undefined\" ? AbortController : /** @class */ (function () {\r\n            function class_1() {\r\n                this.signal = {\r\n                    aborted: false,\r\n                    addEventListener: function () {\r\n                    },\r\n                    dispatchEvent: function () {\r\n                        return false;\r\n                    },\r\n                    onabort: function () {\r\n                    },\r\n                    removeEventListener: function () {\r\n                    },\r\n                    reason: void 0,\r\n                    throwIfAborted: function () {\r\n                    }\r\n                };\r\n            }\r\n            class_1.prototype.abort = function () {\r\n                if (process.env.NODE_ENV !== \"production\") {\r\n                    if (!displayedWarning) {\r\n                        displayedWarning = true;\r\n                        console.info(\"This platform does not implement AbortController. \\nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.\");\r\n                    }\r\n                }\r\n            };\r\n            return class_1;\r\n        }());\r\n        function actionCreator(arg) {\r\n            return function (dispatch, getState, extra) {\r\n                var requestId = (options == null ? void 0 : options.idGenerator) ? options.idGenerator(arg) : nanoid();\r\n                var abortController = new AC();\r\n                var abortReason;\r\n                var started = false;\r\n                function abort(reason) {\r\n                    abortReason = reason;\r\n                    abortController.abort();\r\n                }\r\n                var promise2 = function () {\r\n                    return __async(this, null, function () {\r\n                        var _a, _b, finalAction, conditionResult, abortedPromise, err_1, skipDispatch;\r\n                        return __generator(this, function (_c) {\r\n                            switch (_c.label) {\r\n                                case 0:\r\n                                    _c.trys.push([0, 4, , 5]);\r\n                                    conditionResult = (_a = options == null ? void 0 : options.condition) == null ? void 0 : _a.call(options, arg, { getState: getState, extra: extra });\r\n                                    if (!isThenable(conditionResult)) return [3 /*break*/, 2];\r\n                                    return [4 /*yield*/, conditionResult];\r\n                                case 1:\r\n                                    conditionResult = _c.sent();\r\n                                    _c.label = 2;\r\n                                case 2:\r\n                                    if (conditionResult === false || abortController.signal.aborted) {\r\n                                        throw {\r\n                                            name: \"ConditionError\",\r\n                                            message: \"Aborted due to condition callback returning false.\"\r\n                                        };\r\n                                    }\r\n                                    started = true;\r\n                                    abortedPromise = new Promise(function (_, reject) { return abortController.signal.addEventListener(\"abort\", function () { return reject({\r\n                                        name: \"AbortError\",\r\n                                        message: abortReason || \"Aborted\"\r\n                                    }); }); });\r\n                                    dispatch(pending(requestId, arg, (_b = options == null ? void 0 : options.getPendingMeta) == null ? void 0 : _b.call(options, { requestId: requestId, arg: arg }, { getState: getState, extra: extra })));\r\n                                    return [4 /*yield*/, Promise.race([\r\n                                            abortedPromise,\r\n                                            Promise.resolve(payloadCreator(arg, {\r\n                                                dispatch: dispatch,\r\n                                                getState: getState,\r\n                                                extra: extra,\r\n                                                requestId: requestId,\r\n                                                signal: abortController.signal,\r\n                                                abort: abort,\r\n                                                rejectWithValue: function (value, meta) {\r\n                                                    return new RejectWithValue(value, meta);\r\n                                                },\r\n                                                fulfillWithValue: function (value, meta) {\r\n                                                    return new FulfillWithMeta(value, meta);\r\n                                                }\r\n                                            })).then(function (result) {\r\n                                                if (result instanceof RejectWithValue) {\r\n                                                    throw result;\r\n                                                }\r\n                                                if (result instanceof FulfillWithMeta) {\r\n                                                    return fulfilled(result.payload, requestId, arg, result.meta);\r\n                                                }\r\n                                                return fulfilled(result, requestId, arg);\r\n                                            })\r\n                                        ])];\r\n                                case 3:\r\n                                    finalAction = _c.sent();\r\n                                    return [3 /*break*/, 5];\r\n                                case 4:\r\n                                    err_1 = _c.sent();\r\n                                    finalAction = err_1 instanceof RejectWithValue ? rejected(null, requestId, arg, err_1.payload, err_1.meta) : rejected(err_1, requestId, arg);\r\n                                    return [3 /*break*/, 5];\r\n                                case 5:\r\n                                    skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;\r\n                                    if (!skipDispatch) {\r\n                                        dispatch(finalAction);\r\n                                    }\r\n                                    return [2 /*return*/, finalAction];\r\n                            }\r\n                        });\r\n                    });\r\n                }();\r\n                return Object.assign(promise2, {\r\n                    abort: abort,\r\n                    requestId: requestId,\r\n                    arg: arg,\r\n                    unwrap: function () {\r\n                        return promise2.then(unwrapResult);\r\n                    }\r\n                });\r\n            };\r\n        }\r\n        return Object.assign(actionCreator, {\r\n            pending: pending,\r\n            rejected: rejected,\r\n            fulfilled: fulfilled,\r\n            typePrefix: typePrefix\r\n        });\r\n    }\r\n    createAsyncThunk2.withTypes = function () { return createAsyncThunk2; };\r\n    return createAsyncThunk2;\r\n})();\r\nfunction unwrapResult(action) {\r\n    if (action.meta && action.meta.rejectedWithValue) {\r\n        throw action.payload;\r\n    }\r\n    if (action.error) {\r\n        throw action.error;\r\n    }\r\n    return action.payload;\r\n}\r\nfunction isThenable(value) {\r\n    return value !== null && typeof value === \"object\" && typeof value.then === \"function\";\r\n}\r\n// src/tsHelpers.ts\r\nvar hasMatchFunction = function (v) {\r\n    return v && typeof v.match === \"function\";\r\n};\r\n// src/matchers.ts\r\nvar matches = function (matcher, action) {\r\n    if (hasMatchFunction(matcher)) {\r\n        return matcher.match(action);\r\n    }\r\n    else {\r\n        return matcher(action);\r\n    }\r\n};\r\nfunction isAnyOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.some(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction isAllOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.every(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction hasExpectedRequestMetadata(action, validStatus) {\r\n    if (!action || !action.meta)\r\n        return false;\r\n    var hasValidRequestId = typeof action.meta.requestId === \"string\";\r\n    var hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;\r\n    return hasValidRequestId && hasValidRequestStatus;\r\n}\r\nfunction isAsyncThunkArray(a) {\r\n    return typeof a[0] === \"function\" && \"pending\" in a[0] && \"fulfilled\" in a[0] && \"rejected\" in a[0];\r\n}\r\nfunction isPending() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isPending()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.pending; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejected() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejected()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.rejected; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejectedWithValue() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    var hasFlag = function (action) {\r\n        return action && action.meta && action.meta.rejectedWithValue;\r\n    };\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) {\r\n            var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n            return combinedMatcher(action);\r\n        };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejectedWithValue()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isFulfilled() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"fulfilled\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isFulfilled()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.fulfilled; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isAsyncThunkAction() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\", \"fulfilled\", \"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isAsyncThunkAction()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = [];\r\n        for (var _i = 0, asyncThunks_1 = asyncThunks; _i < asyncThunks_1.length; _i++) {\r\n            var asyncThunk = asyncThunks_1[_i];\r\n            matchers.push(asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled);\r\n        }\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\n// src/listenerMiddleware/utils.ts\r\nvar assertFunction = function (func, expected) {\r\n    if (typeof func !== \"function\") {\r\n        throw new TypeError(expected + \" is not a function\");\r\n    }\r\n};\r\nvar noop = function () {\r\n};\r\nvar catchRejection = function (promise2, onError) {\r\n    if (onError === void 0) { onError = noop; }\r\n    promise2.catch(onError);\r\n    return promise2;\r\n};\r\nvar addAbortSignalListener = function (abortSignal, callback) {\r\n    abortSignal.addEventListener(\"abort\", callback, { once: true });\r\n    return function () { return abortSignal.removeEventListener(\"abort\", callback); };\r\n};\r\nvar abortControllerWithReason = function (abortController, reason) {\r\n    var signal = abortController.signal;\r\n    if (signal.aborted) {\r\n        return;\r\n    }\r\n    if (!(\"reason\" in signal)) {\r\n        Object.defineProperty(signal, \"reason\", {\r\n            enumerable: true,\r\n            value: reason,\r\n            configurable: true,\r\n            writable: true\r\n        });\r\n    }\r\n    ;\r\n    abortController.abort(reason);\r\n};\r\n// src/listenerMiddleware/exceptions.ts\r\nvar task = \"task\";\r\nvar listener = \"listener\";\r\nvar completed = \"completed\";\r\nvar cancelled = \"cancelled\";\r\nvar taskCancelled = \"task-\" + cancelled;\r\nvar taskCompleted = \"task-\" + completed;\r\nvar listenerCancelled = listener + \"-\" + cancelled;\r\nvar listenerCompleted = listener + \"-\" + completed;\r\nvar TaskAbortError = /** @class */ (function () {\r\n    function TaskAbortError(code) {\r\n        this.code = code;\r\n        this.name = \"TaskAbortError\";\r\n        this.message = task + \" \" + cancelled + \" (reason: \" + code + \")\";\r\n    }\r\n    return TaskAbortError;\r\n}());\r\n// src/listenerMiddleware/task.ts\r\nvar validateActive = function (signal) {\r\n    if (signal.aborted) {\r\n        throw new TaskAbortError(signal.reason);\r\n    }\r\n};\r\nfunction raceWithSignal(signal, promise2) {\r\n    var cleanup = noop;\r\n    return new Promise(function (resolve, reject) {\r\n        var notifyRejection = function () { return reject(new TaskAbortError(signal.reason)); };\r\n        if (signal.aborted) {\r\n            notifyRejection();\r\n            return;\r\n        }\r\n        cleanup = addAbortSignalListener(signal, notifyRejection);\r\n        promise2.finally(function () { return cleanup(); }).then(resolve, reject);\r\n    }).finally(function () {\r\n        cleanup = noop;\r\n    });\r\n}\r\nvar runTask = function (task2, cleanUp) { return __async(void 0, null, function () {\r\n    var value, error_1;\r\n    return __generator(this, function (_c) {\r\n        switch (_c.label) {\r\n            case 0:\r\n                _c.trys.push([0, 3, 4, 5]);\r\n                return [4 /*yield*/, Promise.resolve()];\r\n            case 1:\r\n                _c.sent();\r\n                return [4 /*yield*/, task2()];\r\n            case 2:\r\n                value = _c.sent();\r\n                return [2 /*return*/, {\r\n                        status: \"ok\",\r\n                        value: value\r\n                    }];\r\n            case 3:\r\n                error_1 = _c.sent();\r\n                return [2 /*return*/, {\r\n                        status: error_1 instanceof TaskAbortError ? \"cancelled\" : \"rejected\",\r\n                        error: error_1\r\n                    }];\r\n            case 4:\r\n                cleanUp == null ? void 0 : cleanUp();\r\n                return [7 /*endfinally*/];\r\n            case 5: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar createPause = function (signal) {\r\n    return function (promise2) {\r\n        return catchRejection(raceWithSignal(signal, promise2).then(function (output) {\r\n            validateActive(signal);\r\n            return output;\r\n        }));\r\n    };\r\n};\r\nvar createDelay = function (signal) {\r\n    var pause = createPause(signal);\r\n    return function (timeoutMs) {\r\n        return pause(new Promise(function (resolve) { return setTimeout(resolve, timeoutMs); }));\r\n    };\r\n};\r\n// src/listenerMiddleware/index.ts\r\nvar assign = Object.assign;\r\nvar INTERNAL_NIL_TOKEN = {};\r\nvar alm = \"listenerMiddleware\";\r\nvar createFork = function (parentAbortSignal) {\r\n    var linkControllers = function (controller) { return addAbortSignalListener(parentAbortSignal, function () { return abortControllerWithReason(controller, parentAbortSignal.reason); }); };\r\n    return function (taskExecutor) {\r\n        assertFunction(taskExecutor, \"taskExecutor\");\r\n        var childAbortController = new AbortController();\r\n        linkControllers(childAbortController);\r\n        var result = runTask(function () { return __async(void 0, null, function () {\r\n            var result2;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        validateActive(parentAbortSignal);\r\n                        validateActive(childAbortController.signal);\r\n                        return [4 /*yield*/, taskExecutor({\r\n                                pause: createPause(childAbortController.signal),\r\n                                delay: createDelay(childAbortController.signal),\r\n                                signal: childAbortController.signal\r\n                            })];\r\n                    case 1:\r\n                        result2 = _c.sent();\r\n                        validateActive(childAbortController.signal);\r\n                        return [2 /*return*/, result2];\r\n                }\r\n            });\r\n        }); }, function () { return abortControllerWithReason(childAbortController, taskCompleted); });\r\n        return {\r\n            result: createPause(parentAbortSignal)(result),\r\n            cancel: function () {\r\n                abortControllerWithReason(childAbortController, taskCancelled);\r\n            }\r\n        };\r\n    };\r\n};\r\nvar createTakePattern = function (startListening, signal) {\r\n    var take = function (predicate, timeout) { return __async(void 0, null, function () {\r\n        var unsubscribe, tuplePromise, promises, output;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    validateActive(signal);\r\n                    unsubscribe = function () {\r\n                    };\r\n                    tuplePromise = new Promise(function (resolve, reject) {\r\n                        var stopListening = startListening({\r\n                            predicate: predicate,\r\n                            effect: function (action, listenerApi) {\r\n                                listenerApi.unsubscribe();\r\n                                resolve([\r\n                                    action,\r\n                                    listenerApi.getState(),\r\n                                    listenerApi.getOriginalState()\r\n                                ]);\r\n                            }\r\n                        });\r\n                        unsubscribe = function () {\r\n                            stopListening();\r\n                            reject();\r\n                        };\r\n                    });\r\n                    promises = [\r\n                        tuplePromise\r\n                    ];\r\n                    if (timeout != null) {\r\n                        promises.push(new Promise(function (resolve) { return setTimeout(resolve, timeout, null); }));\r\n                    }\r\n                    _c.label = 1;\r\n                case 1:\r\n                    _c.trys.push([1, , 3, 4]);\r\n                    return [4 /*yield*/, raceWithSignal(signal, Promise.race(promises))];\r\n                case 2:\r\n                    output = _c.sent();\r\n                    validateActive(signal);\r\n                    return [2 /*return*/, output];\r\n                case 3:\r\n                    unsubscribe();\r\n                    return [7 /*endfinally*/];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    return function (predicate, timeout) { return catchRejection(take(predicate, timeout)); };\r\n};\r\nvar getListenerEntryPropsFrom = function (options) {\r\n    var type = options.type, actionCreator = options.actionCreator, matcher = options.matcher, predicate = options.predicate, effect = options.effect;\r\n    if (type) {\r\n        predicate = createAction(type).match;\r\n    }\r\n    else if (actionCreator) {\r\n        type = actionCreator.type;\r\n        predicate = actionCreator.match;\r\n    }\r\n    else if (matcher) {\r\n        predicate = matcher;\r\n    }\r\n    else if (predicate) {\r\n    }\r\n    else {\r\n        throw new Error(\"Creating or removing a listener requires one of the known fields for matching an action\");\r\n    }\r\n    assertFunction(effect, \"options.listener\");\r\n    return { predicate: predicate, type: type, effect: effect };\r\n};\r\nvar createListenerEntry = function (options) {\r\n    var _c = getListenerEntryPropsFrom(options), type = _c.type, predicate = _c.predicate, effect = _c.effect;\r\n    var id = nanoid();\r\n    var entry = {\r\n        id: id,\r\n        effect: effect,\r\n        type: type,\r\n        predicate: predicate,\r\n        pending: new Set(),\r\n        unsubscribe: function () {\r\n            throw new Error(\"Unsubscribe not initialized\");\r\n        }\r\n    };\r\n    return entry;\r\n};\r\nvar cancelActiveListeners = function (entry) {\r\n    entry.pending.forEach(function (controller) {\r\n        abortControllerWithReason(controller, listenerCancelled);\r\n    });\r\n};\r\nvar createClearListenerMiddleware = function (listenerMap) {\r\n    return function () {\r\n        listenerMap.forEach(cancelActiveListeners);\r\n        listenerMap.clear();\r\n    };\r\n};\r\nvar safelyNotifyError = function (errorHandler, errorToNotify, errorInfo) {\r\n    try {\r\n        errorHandler(errorToNotify, errorInfo);\r\n    }\r\n    catch (errorHandlerError) {\r\n        setTimeout(function () {\r\n            throw errorHandlerError;\r\n        }, 0);\r\n    }\r\n};\r\nvar addListener = createAction(alm + \"/add\");\r\nvar clearAllListeners = createAction(alm + \"/removeAll\");\r\nvar removeListener = createAction(alm + \"/remove\");\r\nvar defaultErrorHandler = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    console.error.apply(console, __spreadArray([alm + \"/error\"], args));\r\n};\r\nfunction createListenerMiddleware(middlewareOptions) {\r\n    var _this = this;\r\n    if (middlewareOptions === void 0) { middlewareOptions = {}; }\r\n    var listenerMap = new Map();\r\n    var extra = middlewareOptions.extra, _c = middlewareOptions.onError, onError = _c === void 0 ? defaultErrorHandler : _c;\r\n    assertFunction(onError, \"onError\");\r\n    var insertEntry = function (entry) {\r\n        entry.unsubscribe = function () { return listenerMap.delete(entry.id); };\r\n        listenerMap.set(entry.id, entry);\r\n        return function (cancelOptions) {\r\n            entry.unsubscribe();\r\n            if (cancelOptions == null ? void 0 : cancelOptions.cancelActive) {\r\n                cancelActiveListeners(entry);\r\n            }\r\n        };\r\n    };\r\n    var findListenerEntry = function (comparator) {\r\n        for (var _i = 0, _c = Array.from(listenerMap.values()); _i < _c.length; _i++) {\r\n            var entry = _c[_i];\r\n            if (comparator(entry)) {\r\n                return entry;\r\n            }\r\n        }\r\n        return void 0;\r\n    };\r\n    var startListening = function (options) {\r\n        var entry = findListenerEntry(function (existingEntry) { return existingEntry.effect === options.effect; });\r\n        if (!entry) {\r\n            entry = createListenerEntry(options);\r\n        }\r\n        return insertEntry(entry);\r\n    };\r\n    var stopListening = function (options) {\r\n        var _c = getListenerEntryPropsFrom(options), type = _c.type, effect = _c.effect, predicate = _c.predicate;\r\n        var entry = findListenerEntry(function (entry2) {\r\n            var matchPredicateOrType = typeof type === \"string\" ? entry2.type === type : entry2.predicate === predicate;\r\n            return matchPredicateOrType && entry2.effect === effect;\r\n        });\r\n        if (entry) {\r\n            entry.unsubscribe();\r\n            if (options.cancelActive) {\r\n                cancelActiveListeners(entry);\r\n            }\r\n        }\r\n        return !!entry;\r\n    };\r\n    var notifyListener = function (entry, action, api, getOriginalState) { return __async(_this, null, function () {\r\n        var internalTaskController, take, listenerError_1;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    internalTaskController = new AbortController();\r\n                    take = createTakePattern(startListening, internalTaskController.signal);\r\n                    _c.label = 1;\r\n                case 1:\r\n                    _c.trys.push([1, 3, 4, 5]);\r\n                    entry.pending.add(internalTaskController);\r\n                    return [4 /*yield*/, Promise.resolve(entry.effect(action, assign({}, api, {\r\n                            getOriginalState: getOriginalState,\r\n                            condition: function (predicate, timeout) { return take(predicate, timeout).then(Boolean); },\r\n                            take: take,\r\n                            delay: createDelay(internalTaskController.signal),\r\n                            pause: createPause(internalTaskController.signal),\r\n                            extra: extra,\r\n                            signal: internalTaskController.signal,\r\n                            fork: createFork(internalTaskController.signal),\r\n                            unsubscribe: entry.unsubscribe,\r\n                            subscribe: function () {\r\n                                listenerMap.set(entry.id, entry);\r\n                            },\r\n                            cancelActiveListeners: function () {\r\n                                entry.pending.forEach(function (controller, _, set) {\r\n                                    if (controller !== internalTaskController) {\r\n                                        abortControllerWithReason(controller, listenerCancelled);\r\n                                        set.delete(controller);\r\n                                    }\r\n                                });\r\n                            }\r\n                        })))];\r\n                case 2:\r\n                    _c.sent();\r\n                    return [3 /*break*/, 5];\r\n                case 3:\r\n                    listenerError_1 = _c.sent();\r\n                    if (!(listenerError_1 instanceof TaskAbortError)) {\r\n                        safelyNotifyError(onError, listenerError_1, {\r\n                            raisedBy: \"effect\"\r\n                        });\r\n                    }\r\n                    return [3 /*break*/, 5];\r\n                case 4:\r\n                    abortControllerWithReason(internalTaskController, listenerCompleted);\r\n                    entry.pending.delete(internalTaskController);\r\n                    return [7 /*endfinally*/];\r\n                case 5: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    var clearListenerMiddleware = createClearListenerMiddleware(listenerMap);\r\n    var middleware = function (api) { return function (next) { return function (action) {\r\n        if (!isAction(action)) {\r\n            return next(action);\r\n        }\r\n        if (addListener.match(action)) {\r\n            return startListening(action.payload);\r\n        }\r\n        if (clearAllListeners.match(action)) {\r\n            clearListenerMiddleware();\r\n            return;\r\n        }\r\n        if (removeListener.match(action)) {\r\n            return stopListening(action.payload);\r\n        }\r\n        var originalState = api.getState();\r\n        var getOriginalState = function () {\r\n            if (originalState === INTERNAL_NIL_TOKEN) {\r\n                throw new Error(alm + \": getOriginalState can only be called synchronously\");\r\n            }\r\n            return originalState;\r\n        };\r\n        var result;\r\n        try {\r\n            result = next(action);\r\n            if (listenerMap.size > 0) {\r\n                var currentState = api.getState();\r\n                var listenerEntries = Array.from(listenerMap.values());\r\n                for (var _i = 0, listenerEntries_1 = listenerEntries; _i < listenerEntries_1.length; _i++) {\r\n                    var entry = listenerEntries_1[_i];\r\n                    var runListener = false;\r\n                    try {\r\n                        runListener = entry.predicate(action, currentState, originalState);\r\n                    }\r\n                    catch (predicateError) {\r\n                        runListener = false;\r\n                        safelyNotifyError(onError, predicateError, {\r\n                            raisedBy: \"predicate\"\r\n                        });\r\n                    }\r\n                    if (!runListener) {\r\n                        continue;\r\n                    }\r\n                    notifyListener(entry, action, api, getOriginalState);\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            originalState = INTERNAL_NIL_TOKEN;\r\n        }\r\n        return result;\r\n    }; }; };\r\n    return {\r\n        middleware: middleware,\r\n        startListening: startListening,\r\n        stopListening: stopListening,\r\n        clearListeners: clearListenerMiddleware\r\n    };\r\n}\r\n// src/autoBatchEnhancer.ts\r\nvar SHOULD_AUTOBATCH = \"RTK_autoBatch\";\r\nvar prepareAutoBatched = function () { return function (payload) {\r\n    var _c;\r\n    return ({\r\n        payload: payload,\r\n        meta: (_c = {}, _c[SHOULD_AUTOBATCH] = true, _c)\r\n    });\r\n}; };\r\nvar promise;\r\nvar queueMicrotaskShim = typeof queueMicrotask === \"function\" ? queueMicrotask.bind(typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : globalThis) : function (cb) { return (promise || (promise = Promise.resolve())).then(cb).catch(function (err) { return setTimeout(function () {\r\n    throw err;\r\n}, 0); }); };\r\nvar createQueueWithTimer = function (timeout) {\r\n    return function (notify) {\r\n        setTimeout(notify, timeout);\r\n    };\r\n};\r\nvar rAF = typeof window !== \"undefined\" && window.requestAnimationFrame ? window.requestAnimationFrame : createQueueWithTimer(10);\r\nvar autoBatchEnhancer = function (options) {\r\n    if (options === void 0) { options = { type: \"raf\" }; }\r\n    return function (next) { return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var store = next.apply(void 0, args);\r\n        var notifying = true;\r\n        var shouldNotifyAtEndOfTick = false;\r\n        var notificationQueued = false;\r\n        var listeners = new Set();\r\n        var queueCallback = options.type === \"tick\" ? queueMicrotaskShim : options.type === \"raf\" ? rAF : options.type === \"callback\" ? options.queueNotification : createQueueWithTimer(options.timeout);\r\n        var notifyListeners = function () {\r\n            notificationQueued = false;\r\n            if (shouldNotifyAtEndOfTick) {\r\n                shouldNotifyAtEndOfTick = false;\r\n                listeners.forEach(function (l) { return l(); });\r\n            }\r\n        };\r\n        return Object.assign({}, store, {\r\n            subscribe: function (listener2) {\r\n                var wrappedListener = function () { return notifying && listener2(); };\r\n                var unsubscribe = store.subscribe(wrappedListener);\r\n                listeners.add(listener2);\r\n                return function () {\r\n                    unsubscribe();\r\n                    listeners.delete(listener2);\r\n                };\r\n            },\r\n            dispatch: function (action) {\r\n                var _a;\r\n                try {\r\n                    notifying = !((_a = action == null ? void 0 : action.meta) == null ? void 0 : _a[SHOULD_AUTOBATCH]);\r\n                    shouldNotifyAtEndOfTick = !notifying;\r\n                    if (shouldNotifyAtEndOfTick) {\r\n                        if (!notificationQueued) {\r\n                            notificationQueued = true;\r\n                            queueCallback(notifyListeners);\r\n                        }\r\n                    }\r\n                    return store.dispatch(action);\r\n                }\r\n                finally {\r\n                    notifying = true;\r\n                }\r\n            }\r\n        });\r\n    }; };\r\n};\r\n// src/index.ts\r\nenableES5();\r\nexport { EnhancerArray, MiddlewareArray, SHOULD_AUTOBATCH, TaskAbortError, addListener, autoBatchEnhancer, clearAllListeners, configureStore, createAction, createAsyncThunk, createDraftSafeSelector, createEntityAdapter, createImmutableStateInvariantMiddleware, createListenerMiddleware, default2 as createNextState, createReducer, createSelector2 as createSelector, createSerializableStateInvariantMiddleware, createSlice, current2 as current, findNonSerializableValue, freeze, getDefaultMiddleware, getType, isAction, isAllOf, isAnyOf, isAsyncThunkAction, isDraft4 as isDraft, isFSA as isFluxStandardAction, isFulfilled, isImmutableDefault, isPending, isPlain, isPlainObject, isRejected, isRejectedWithValue, miniSerializeError, nanoid, original, prepareAutoBatched, removeListener, unwrapResult };\r\n//# sourceMappingURL=redux-toolkit.esm.js.map","import { createAction } from '@reduxjs/toolkit';\n\nimport { MetricAggregationWithMeta, MetricAggregation, MetricAggregationWithSettings } from '../../../../types';\n\nexport const addMetric = createAction<MetricAggregation['id']>('@metrics/add');\nexport const removeMetric = createAction<MetricAggregation['id']>('@metrics/remove');\nexport const toggleMetricVisibility = createAction<MetricAggregation['id']>('@metrics/toggle_visibility');\nexport const changeMetricField = createAction<{ id: MetricAggregation['id']; field: string }>('@metrics/change_field');\nexport const changeMetricType = createAction<{ id: MetricAggregation['id']; type: MetricAggregation['type'] }>(\n  '@metrics/change_type'\n);\nexport const changeMetricAttribute = createAction<{ metric: MetricAggregation; attribute: string; newValue: any }>(\n  '@metrics/change_attr'\n);\nexport const changeMetricSetting = createAction<{\n  metric: MetricAggregationWithSettings;\n  settingName: string;\n  newValue: any;\n}>('@metrics/change_setting');\nexport const changeMetricMeta = createAction<{\n  metric: MetricAggregationWithMeta;\n  meta: string;\n  newValue: any;\n}>('@metrics/change_meta');\n","import { Action, createAction } from '@reduxjs/toolkit';\n\nimport { ElasticsearchQuery } from '../../types';\n\n/**\n * When the `initQuery` Action is dispatched, the query gets populated with default values where values are not present.\n * This means it won't override any existing value in place, but just ensure the query is in a \"runnable\" state.\n */\nexport const initQuery = createAction('init');\nexport const initExploreQuery = createAction('init_explore');\n\nexport const changeQuery = createAction<ElasticsearchQuery['query']>('change_query');\n\nexport const changeAliasPattern = createAction<ElasticsearchQuery['alias']>('change_alias_pattern');\n\nexport const queryReducer = (prevQuery: ElasticsearchQuery['query'], action: Action) => {\n  if (changeQuery.match(action)) {\n    return action.payload;\n  }\n\n  if (initQuery.match(action) || initExploreQuery.match(action)) {\n    return prevQuery || '';\n  }\n\n  return prevQuery;\n};\n\nexport const aliasPatternReducer = (prevAliasPattern: ElasticsearchQuery['alias'], action: Action) => {\n  if (changeAliasPattern.match(action)) {\n    return action.payload;\n  }\n\n  if (initQuery.match(action) || initExploreQuery.match(action)) {\n    return prevAliasPattern || '';\n  }\n\n  return prevAliasPattern;\n};\n","import { createAction } from '@reduxjs/toolkit';\n\nimport { BucketAggregation, BucketAggregationType, BucketAggregationWithField } from '../../../../types';\n\nexport const addBucketAggregation = createAction<BucketAggregation['id']>('@bucketAggs/add');\nexport const removeBucketAggregation = createAction<BucketAggregation['id']>('@bucketAggs/remove');\nexport const changeBucketAggregationType = createAction<{\n  id: BucketAggregation['id'];\n  newType: BucketAggregationType;\n}>('@bucketAggs/change_type');\nexport const changeBucketAggregationField = createAction<{\n  id: BucketAggregation['id'];\n  newField: BucketAggregationWithField['field'];\n}>('@bucketAggs/change_field');\nexport const changeBucketAggregationSetting = createAction<{\n  bucketAgg: BucketAggregation;\n  settingName: string;\n  newValue: any;\n}>('@bucketAggs/change_setting');\n","import { Action } from '@reduxjs/toolkit';\nimport { defaultLogsAgg, defaultMetricAgg } from '../../../../queryDef';\nimport { ElasticsearchQuery, MetricAggregation } from '../../../../types';\nimport { removeEmpty } from '../../../../utils';\nimport { initExploreQuery, initQuery } from '../../state';\nimport { isMetricAggregationWithMeta, isMetricAggregationWithSettings, isPipelineAggregation } from '../aggregations';\nimport { getChildren, metricAggregationConfig } from '../utils';\n\nimport {\n  addMetric,\n  changeMetricAttribute,\n  changeMetricField,\n  changeMetricMeta,\n  changeMetricSetting,\n  changeMetricType,\n  removeMetric,\n  toggleMetricVisibility,\n} from './actions';\n\nexport const reducer = (state: ElasticsearchQuery['metrics'], action: Action): ElasticsearchQuery['metrics'] => {\n  if (addMetric.match(action)) {\n    return [...state!, defaultMetricAgg(action.payload)];\n  }\n\n  if (removeMetric.match(action)) {\n    const metricToRemove = state!.find((m) => m.id === action.payload)!;\n    const metricsToRemove = [metricToRemove, ...getChildren(metricToRemove, state!)];\n    const resultingMetrics = state!.filter((metric) => !metricsToRemove.some((toRemove) => toRemove.id === metric.id));\n    if (resultingMetrics.length === 0) {\n      return [defaultMetricAgg('1')];\n    }\n    return resultingMetrics;\n  }\n\n  if (changeMetricType.match(action)) {\n    return state!\n      .filter((metric) =>\n        // When the new query type is not `metrics` we remove all other metrics from the query\n        // leaving only the current one.\n        metricAggregationConfig[action.payload.type].impliedQueryType === 'metrics'\n          ? true\n          : metric.id === action.payload.id\n      )\n      .map((metric) => {\n        if (metric.id !== action.payload.id) {\n          return metric;\n        }\n\n        /*\n        TODO: The previous version of the query editor was keeping some of the old metric's configurations\n        in the new selected one (such as field or some settings).\n        It the future would be nice to have the same behavior but it's hard without a proper definition,\n        as Elasticsearch will error sometimes if some settings are not compatible.\n      */\n        return {\n          id: metric.id,\n          type: action.payload.type,\n          ...metricAggregationConfig[action.payload.type].defaults,\n        } as MetricAggregation;\n      });\n  }\n\n  if (changeMetricField.match(action)) {\n    return state!.map((metric) => {\n      if (metric.id !== action.payload.id) {\n        return metric;\n      }\n\n      const newMetric = {\n        ...metric,\n        field: action.payload.field,\n      };\n\n      if (isPipelineAggregation(metric)) {\n        return { ...newMetric, pipelineAgg: action.payload.field };\n      }\n\n      return newMetric;\n    });\n  }\n\n  if (toggleMetricVisibility.match(action)) {\n    return state!.map((metric) => {\n      if (metric.id !== action.payload) {\n        return metric;\n      }\n\n      return {\n        ...metric,\n        hide: !metric.hide,\n      };\n    });\n  }\n\n  if (changeMetricSetting.match(action)) {\n    return state!.map((metric) => {\n      if (metric.id !== action.payload.metric.id) {\n        return metric;\n      }\n\n      // TODO: Here, instead of this if statement, we should assert that metric is MetricAggregationWithSettings\n      if (isMetricAggregationWithSettings(metric)) {\n        const newSettings = removeEmpty({\n          ...metric.settings,\n          [action.payload.settingName]: action.payload.newValue,\n        });\n\n        return {\n          ...metric,\n          settings: {\n            ...newSettings,\n          },\n        };\n      }\n\n      // This should never happen.\n      return metric;\n    });\n  }\n\n  if (changeMetricMeta.match(action)) {\n    return state!.map((metric) => {\n      if (metric.id !== action.payload.metric.id) {\n        return metric;\n      }\n\n      // TODO: Here, instead of this if statement, we should assert that metric is MetricAggregationWithMeta\n      if (isMetricAggregationWithMeta(metric)) {\n        return {\n          ...metric,\n          meta: {\n            ...metric.meta,\n            [action.payload.meta]: action.payload.newValue,\n          },\n        };\n      }\n\n      // This should never happen.\n      return metric;\n    });\n  }\n\n  if (changeMetricAttribute.match(action)) {\n    return state!.map((metric) => {\n      if (metric.id !== action.payload.metric.id) {\n        return metric;\n      }\n\n      return {\n        ...metric,\n        [action.payload.attribute]: action.payload.newValue,\n      };\n    });\n  }\n\n  if (initQuery.match(action)) {\n    if (state?.length || 0 > 0) {\n      return state;\n    }\n    return [defaultMetricAgg('1')];\n  }\n\n  if (initExploreQuery.match(action)) {\n    if (state?.length || 0 > 0) {\n      return state;\n    }\n    return [defaultLogsAgg('3')];\n  }\n\n  return state;\n};\n","import React, { Context, createContext, PropsWithChildren, useCallback, useContext, useEffect, useState } from 'react';\n\nimport { CoreApp, TimeRange } from '@grafana/data';\n\nimport { ElasticDatasource } from '../../datasource';\nimport { combineReducers, useStatelessReducer, DispatchContext } from '../../hooks/useStatelessReducer';\nimport { ElasticsearchQuery } from '../../types';\n\nimport { createReducer as createBucketAggsReducer } from './BucketAggregationsEditor/state/reducer';\nimport { reducer as metricsReducer } from './MetricAggregationsEditor/state/reducer';\nimport { aliasPatternReducer, queryReducer, initQuery, initExploreQuery } from './state';\n\nconst DatasourceContext = createContext<ElasticDatasource | undefined>(undefined);\nconst QueryContext = createContext<ElasticsearchQuery | undefined>(undefined);\nconst RangeContext = createContext<TimeRange | undefined>(undefined);\n\ninterface Props {\n  query: ElasticsearchQuery;\n  app: CoreApp | undefined;\n  onChange: (query: ElasticsearchQuery) => void;\n  onRunQuery: () => void;\n  datasource: ElasticDatasource;\n  range: TimeRange;\n}\n\nexport const ElasticsearchProvider = ({\n  children,\n  onChange,\n  onRunQuery,\n  query,\n  app,\n  datasource,\n  range,\n}: PropsWithChildren<Props>) => {\n  const onStateChange = useCallback(\n    (query: ElasticsearchQuery) => {\n      onChange(query);\n      onRunQuery();\n    },\n    [onChange, onRunQuery]\n  );\n\n  const reducer = combineReducers<Pick<ElasticsearchQuery, 'query' | 'alias' | 'metrics' | 'bucketAggs'>>({\n    query: queryReducer,\n    alias: aliasPatternReducer,\n    metrics: metricsReducer,\n    bucketAggs: createBucketAggsReducer(datasource.timeField),\n  });\n\n  const dispatch = useStatelessReducer(\n    // timeField is part of the query model, but its value is always set to be the one from datasource settings.\n    (newState) => onStateChange({ ...query, ...newState, timeField: datasource.timeField }),\n    query,\n    reducer\n  );\n\n  const isUninitialized = !query.metrics || !query.bucketAggs || query.query === undefined;\n\n  const [shouldRunInit, setShouldRunInit] = useState(isUninitialized);\n\n  // This initializes the query by dispatching an init action to each reducer.\n  // useStatelessReducer will then call `onChange` with the newly generated query\n  useEffect(() => {\n    if (shouldRunInit) {\n      if (app === CoreApp.Explore) {\n        dispatch(initExploreQuery());\n      } else {\n        dispatch(initQuery());\n      }\n      setShouldRunInit(false);\n    }\n  }, [shouldRunInit, dispatch, app]);\n\n  if (isUninitialized) {\n    return null;\n  }\n\n  return (\n    <DatasourceContext.Provider value={datasource}>\n      <QueryContext.Provider value={query}>\n        <RangeContext.Provider value={range}>\n          <DispatchContext.Provider value={dispatch}>{children}</DispatchContext.Provider>\n        </RangeContext.Provider>\n      </QueryContext.Provider>\n    </DatasourceContext.Provider>\n  );\n};\n\ninterface GetHook {\n  <T>(context: Context<T>): () => NonNullable<T>;\n}\n\nconst getHook: GetHook = (c) => () => {\n  const contextValue = useContext(c);\n\n  if (!contextValue) {\n    throw new Error('use ElasticsearchProvider first.');\n  }\n\n  return contextValue as NonNullable<typeof contextValue>;\n};\n\nexport const useQuery = getHook(QueryContext);\nexport const useDatasource = getHook(DatasourceContext);\nexport const useRange = getHook(RangeContext);\n","\nimport { Action } from '@reduxjs/toolkit';\nimport { defaultBucketAgg } from '../../../../queryDef';\nimport { ElasticsearchQuery, Terms, BucketAggregation } from '../../../../types';\nimport { removeEmpty } from '../../../../utils';\nimport { changeMetricType } from '../../MetricAggregationsEditor/state/actions';\nimport { metricAggregationConfig } from '../../MetricAggregationsEditor/utils';\nimport { initExploreQuery, initQuery } from '../../state';\nimport { bucketAggregationConfig } from '../utils';\n\nimport {\n  addBucketAggregation,\n  changeBucketAggregationField,\n  changeBucketAggregationSetting,\n  changeBucketAggregationType,\n  removeBucketAggregation,\n} from './actions';\n\nexport const createReducer =\n  (defaultTimeField: string) =>\n  (state: ElasticsearchQuery['bucketAggs'], action: Action): ElasticsearchQuery['bucketAggs'] => {\n    if (addBucketAggregation.match(action)) {\n      const newAgg: Terms = {\n        id: action.payload,\n        type: 'terms',\n        settings: bucketAggregationConfig['terms'].defaultSettings,\n      };\n\n      // If the last bucket aggregation is a `date_histogram` we add the new one before it.\n      const lastAgg = state![state!.length - 1];\n      if (lastAgg?.type === 'date_histogram') {\n        return [...state!.slice(0, state!.length - 1), newAgg, lastAgg];\n      }\n\n      return [...state!, newAgg];\n    }\n\n    if (removeBucketAggregation.match(action)) {\n      return state!.filter((bucketAgg) => bucketAgg.id !== action.payload);\n    }\n\n    if (changeBucketAggregationType.match(action)) {\n      return state!.map((bucketAgg) => {\n        if (bucketAgg.id !== action.payload.id) {\n          return bucketAgg;\n        }\n\n        /*\n        TODO: The previous version of the query editor was keeping some of the old bucket aggregation's configurations\n        in the new selected one (such as field or some settings).\n        It the future would be nice to have the same behavior but it's hard without a proper definition,\n        as Elasticsearch will error sometimes if some settings are not compatible.\n      */\n        return {\n          id: bucketAgg.id,\n          type: action.payload.newType,\n          settings: bucketAggregationConfig[action.payload.newType].defaultSettings,\n        } as BucketAggregation;\n      });\n    }\n\n    if (changeBucketAggregationField.match(action)) {\n      return state!.map((bucketAgg) => {\n        if (bucketAgg.id !== action.payload.id) {\n          return bucketAgg;\n        }\n\n        return {\n          ...bucketAgg,\n          field: action.payload.newField,\n        };\n      });\n    }\n\n    if (changeMetricType.match(action)) {\n      // If we are switching to a metric which requires the absence of bucket aggregations\n      // we remove all of them.\n      if (metricAggregationConfig[action.payload.type].impliedQueryType !== 'metrics') {\n        return [];\n      } else if (state!.length === 0) {\n        // Else, if there are no bucket aggregations we restore a default one.\n        // This happens when switching from a metric that requires the absence of bucket aggregations to\n        // one that requires it.\n        return [{ ...defaultBucketAgg('2'), field: defaultTimeField }];\n      }\n      return state;\n    }\n\n    if (changeBucketAggregationSetting.match(action)) {\n      return state!.map((bucketAgg) => {\n        if (bucketAgg.id !== action.payload.bucketAgg.id) {\n          return bucketAgg;\n        }\n\n        const newSettings = removeEmpty({\n          ...bucketAgg.settings,\n          [action.payload.settingName]: action.payload.newValue,\n        });\n\n        return {\n          ...bucketAgg,\n          settings: {\n            ...newSettings,\n          },\n        };\n      });\n    }\n\n    if (initQuery.match(action) || initExploreQuery.match(action)) {\n      if (state?.length || 0 > 0) {\n        return state;\n      }\n\n      return [{ ...defaultBucketAgg('2'), field: defaultTimeField }];\n    }\n\n    return state;\n  };\n","import { useMemo } from 'react';\n\nimport { useQuery } from '../components/QueryEditor/ElasticsearchQueryContext';\nimport { MetricAggregation, BucketAggregation } from '../types';\n\nconst toId = <T extends { id: unknown }>(e: T): T['id'] => e.id;\n\nconst toInt = (idString: string) => parseInt(idString, 10);\n\nexport const useNextId = (): MetricAggregation['id'] | BucketAggregation['id'] => {\n  const { metrics, bucketAggs } = useQuery();\n\n  return useMemo(\n    () =>\n      (Math.max(...[...(metrics?.map(toId) || ['0']), ...(bucketAggs?.map(toId) || ['0'])].map(toInt)) + 1).toString(),\n    [metrics, bucketAggs]\n  );\n};\n","import { cx, css } from '@emotion/css';\nimport React, { ComponentProps, ButtonHTMLAttributes } from 'react';\n\nimport { Icon } from '@grafana/ui';\n\nconst SROnly = css`\n  clip: rect(0 0 0 0);\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n`;\n\ninterface Props {\n  iconName: ComponentProps<typeof Icon>['name'];\n  onClick: () => void;\n  className?: string;\n  label: string;\n}\n\nexport const IconButton = ({\n  iconName,\n  onClick,\n  className,\n  label,\n  ...buttonProps\n}: Props & ButtonHTMLAttributes<HTMLButtonElement>) => (\n  <button className={cx('gf-form-label gf-form-label--btn query-part', className)} onClick={onClick} {...buttonProps}>\n    <span className={SROnly}>{label}</span>\n    <Icon name={iconName} aria-hidden=\"true\" />\n  </button>\n);\n","import { css } from '@emotion/css';\nimport { noop } from 'lodash';\nimport React, { PropsWithChildren } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { IconButton, InlineFieldRow, InlineLabel, InlineSegmentGroup, useStyles2 } from '@grafana/ui';\n\ninterface Props {\n  label: string;\n  onRemoveClick?: false | (() => void);\n  onHideClick?: false | (() => void);\n  hidden?: boolean;\n}\n\nexport const QueryEditorRow = ({\n  children,\n  label,\n  onRemoveClick,\n  onHideClick,\n  hidden = false,\n}: PropsWithChildren<Props>) => {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <InlineFieldRow>\n      <InlineSegmentGroup>\n        <InlineLabel width={17} as=\"div\">\n          <span>{label}</span>\n          <span className={styles.iconWrapper}>\n            {onHideClick && (\n              <IconButton\n                name={hidden ? 'eye-slash' : 'eye'}\n                onClick={onHideClick}\n                size=\"sm\"\n                aria-pressed={hidden}\n                aria-label=\"hide metric\"\n                className={styles.icon}\n                type=\"button\"\n              />\n            )}\n            <IconButton\n              name=\"trash-alt\"\n              size=\"sm\"\n              className={styles.icon}\n              onClick={onRemoveClick || noop}\n              disabled={!onRemoveClick}\n              aria-label=\"remove metric\"\n              type=\"button\"\n            />\n          </span>\n        </InlineLabel>\n      </InlineSegmentGroup>\n      {children}\n    </InlineFieldRow>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    iconWrapper: css`\n      display: flex;\n    `,\n    icon: css`\n      color: ${theme.colors.text.secondary};\n      margin-left: ${theme.spacing(0.25)};\n    `,\n  };\n};\n","import { lastValueFrom } from 'rxjs';\n\nimport { MetricFindValue, SelectableValue } from '@grafana/data';\n\nimport { isBucketAggregationType } from '../components/QueryEditor/BucketAggregationsEditor/aggregations';\nimport { useDatasource, useRange } from '../components/QueryEditor/ElasticsearchQueryContext';\nimport { isMetricAggregationType } from '../components/QueryEditor/MetricAggregationsEditor/aggregations';\nimport { MetricAggregationType, BucketAggregationType } from '../types';\n\ntype AggregationType = BucketAggregationType | MetricAggregationType;\n\nconst getFilter = (type: AggregationType) => {\n  if (isMetricAggregationType(type)) {\n    switch (type) {\n      case 'cardinality':\n        return [];\n      case 'top_metrics':\n        // top_metrics was introduced in 7.7 where `metrics` only supported number:\n        // https://www.elastic.co/guide/en/elasticsearch/reference/7.7/search-aggregations-metrics-top-metrics.html#_metrics\n        // TODO: starting from 7.11 it supports ips and keywords as well:\n        // https://www.elastic.co/guide/en/elasticsearch/reference/7.11/search-aggregations-metrics-top-metrics.html#_metrics\n        return ['number'];\n      default:\n        return ['number'];\n    }\n  }\n\n  if (isBucketAggregationType(type)) {\n    switch (type) {\n      case 'date_histogram':\n        return ['date'];\n      case 'geohash_grid':\n        return ['geo_point'];\n      case 'histogram':\n        return ['number'];\n      default:\n        return [];\n    }\n  }\n\n  return [];\n};\n\nconst toSelectableValue = ({ text }: MetricFindValue): SelectableValue<string> => ({\n  label: text,\n  value: text,\n});\n\n/**\n * Returns a function to query the configured datasource for autocomplete values for the specified aggregation type or data types.\n * Each aggregation can be run on different types, for example avg only operates on numeric fields, geohash_grid only on geo_point fields.\n * If an aggregation type is provided, the promise will resolve with all fields suitable to be used as a field for the given aggregation.\n * If an array of types is providem the promise will resolve with all the fields matching the provided types.\n * @param aggregationType the type of aggregation to get fields for\n */\nexport const useFields = (type: AggregationType | string[]) => {\n  const datasource = useDatasource();\n  const range = useRange();\n  const filter = Array.isArray(type) ? type : getFilter(type);\n  let rawFields: MetricFindValue[];\n\n  return async (q?: string) => {\n    // _mapping doesn't support filtering, we avoid sending a request everytime q changes\n    if (!rawFields) {\n      rawFields = await lastValueFrom(datasource.getFields(true, filter, range));\n    }\n\n    return rawFields.filter(({ text }) => q === undefined || text.includes(q)).map(toSelectableValue);\n  };\n};\n","import { css } from '@emotion/css';\n\nexport const segmentStyles = css`\n  min-width: 150px;\n`;\n","import { css, cx } from '@emotion/css';\nimport React, { PropsWithChildren, useState } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Icon, InlineSegmentGroup, useTheme2 } from '@grafana/ui';\n\nimport { segmentStyles } from './styles';\n\nconst getStyles = (theme: GrafanaTheme2, hidden: boolean) => {\n  return {\n    wrapper: css`\n      max-width: 500px;\n      display: flex;\n      flex-direction: column;\n    `,\n    settingsWrapper: css`\n      padding-top: ${theme.spacing(0.5)};\n    `,\n    icon: css`\n      margin-right: ${theme.spacing(0.5)};\n    `,\n    button: css`\n      justify-content: start;\n      ${hidden &&\n      css`\n        color: ${theme.colors.text.disabled};\n      `}\n    `,\n  };\n};\n\ninterface Props {\n  label: string;\n  hidden?: boolean;\n}\n\nexport const SettingsEditorContainer = ({ label, children, hidden = false }: PropsWithChildren<Props>) => {\n  const [open, setOpen] = useState(false);\n\n  const theme = useTheme2();\n  const styles = getStyles(theme, hidden);\n\n  return (\n    <InlineSegmentGroup>\n      <div className={cx(styles.wrapper)}>\n        <button\n          className={cx('gf-form-label query-part', styles.button, segmentStyles)}\n          onClick={() => setOpen(!open)}\n          aria-expanded={open}\n          type=\"button\"\n        >\n          <Icon name={open ? 'angle-down' : 'angle-right'} aria-hidden=\"true\" className={styles.icon} />\n          {label}\n        </button>\n\n        {open && <div className={styles.settingsWrapper}>{children}</div>}\n      </div>\n    </InlineSegmentGroup>\n  );\n};\n","import { useState } from 'react';\n\nimport { SelectableValue } from '@grafana/data';\n\nconst hasValue =\n  <T extends SelectableValue>(searchValue: T['value']) =>\n  ({ value }: T) =>\n    value === searchValue;\n\nconst getInitialState = (initialOptions: SelectableValue[], initialValue?: string): SelectableValue[] => {\n  if (initialValue === undefined || initialOptions.some(hasValue(initialValue))) {\n    return initialOptions;\n  }\n\n  return [\n    ...initialOptions,\n    {\n      value: initialValue,\n      label: initialValue,\n    },\n  ];\n};\n\ninterface Params {\n  options: SelectableValue[];\n  value?: string;\n  onChange: (s: SelectableValue<string>) => void;\n}\n\n/**\n * Creates the Props needed by Select to handle custom values and handles custom value creation\n * and the initial value when it is not present in the option array.\n */\nexport const useCreatableSelectPersistedBehaviour = ({ options: initialOptions, value, onChange }: Params) => {\n  const [options, setOptions] = useState(getInitialState(initialOptions, value));\n\n  const addOption = (newValue: string) => setOptions([...options, { value: newValue, label: newValue }]);\n\n  return {\n    onCreateOption: (value: string) => {\n      addOption(value);\n      onChange({ value });\n    },\n    onChange,\n    allowCustomValue: true,\n    options,\n    value,\n  };\n};\n","import { uniqueId } from 'lodash';\nimport React, { useRef } from 'react';\nimport { GroupBase, OptionsOrGroups } from 'react-select';\n\nimport { InternalTimeZones, SelectableValue } from '@grafana/data';\nimport { InlineField, Input, Select, TimeZonePicker } from '@grafana/ui';\n\nimport { useDispatch } from '../../../../hooks/useStatelessReducer';\nimport { DateHistogram } from '../../../../types';\nimport { useCreatableSelectPersistedBehaviour } from '../../../hooks/useCreatableSelectPersistedBehaviour';\nimport { changeBucketAggregationSetting } from '../state/actions';\nimport { bucketAggregationConfig } from '../utils';\n\nimport { inlineFieldProps } from '.';\n\nconst defaultIntervalOptions: Array<SelectableValue<string>> = [\n  { label: 'auto', value: 'auto' },\n  { label: '10s', value: '10s' },\n  { label: '1m', value: '1m' },\n  { label: '5m', value: '5m' },\n  { label: '10m', value: '10m' },\n  { label: '20m', value: '20m' },\n  { label: '1h', value: '1h' },\n  { label: '1d', value: '1d' },\n];\n\nconst hasValue =\n  (searchValue: string) =>\n  ({ value }: SelectableValue<string>) =>\n    value === searchValue;\n\nconst isValidNewOption = (\n  inputValue: string,\n  _: SelectableValue<string> | null,\n  options: OptionsOrGroups<unknown, GroupBase<unknown>>\n) => {\n  // TODO: would be extremely nice here to allow only template variables and values that are\n  // valid date histogram's Interval options\n  const valueExists = (options as Array<SelectableValue<string>>).some(hasValue(inputValue));\n  // we also don't want users to create \"empty\" values\n  return !valueExists && inputValue.trim().length > 0;\n};\n\nconst optionStartsWithValue = (option: SelectableValue<string>, value: string) =>\n  option.value?.startsWith(value) || false;\n\ninterface Props {\n  bucketAgg: DateHistogram;\n}\n\nexport const DateHistogramSettingsEditor = ({ bucketAgg }: Props) => {\n  const dispatch = useDispatch();\n  const { current: baseId } = useRef(uniqueId('es-date_histogram-'));\n\n  const handleIntervalChange = ({ value }: SelectableValue<string>) =>\n    dispatch(changeBucketAggregationSetting({ bucketAgg, settingName: 'interval', newValue: value }));\n\n  return (\n    <>\n      <InlineField label=\"Interval\" {...inlineFieldProps}>\n        <Select\n          inputId={uniqueId('es-date_histogram-interval')}\n          isValidNewOption={isValidNewOption}\n          filterOption={optionStartsWithValue}\n          {...useCreatableSelectPersistedBehaviour({\n            options: defaultIntervalOptions,\n            value: bucketAgg.settings?.interval || bucketAggregationConfig.date_histogram.defaultSettings?.interval,\n            onChange: handleIntervalChange,\n          })}\n        />\n      </InlineField>\n\n      <InlineField label=\"Min Doc Count\" {...inlineFieldProps}>\n        <Input\n          id={`${baseId}-min_doc_count`}\n          onBlur={(e) =>\n            dispatch(\n              changeBucketAggregationSetting({ bucketAgg, settingName: 'min_doc_count', newValue: e.target.value })\n            )\n          }\n          defaultValue={\n            bucketAgg.settings?.min_doc_count || bucketAggregationConfig.date_histogram.defaultSettings?.min_doc_count\n          }\n        />\n      </InlineField>\n\n      <InlineField label=\"Trim Edges\" {...inlineFieldProps} tooltip=\"Trim the edges on the timeseries datapoints\">\n        <Input\n          id={`${baseId}-trime_edges`}\n          onBlur={(e) =>\n            dispatch(changeBucketAggregationSetting({ bucketAgg, settingName: 'trimEdges', newValue: e.target.value }))\n          }\n          defaultValue={\n            bucketAgg.settings?.trimEdges || bucketAggregationConfig.date_histogram.defaultSettings?.trimEdges\n          }\n        />\n      </InlineField>\n\n      <InlineField\n        label=\"Offset\"\n        {...inlineFieldProps}\n        tooltip=\"Change the start value of each bucket by the specified positive (+) or negative offset (-) duration, such as 1h for an hour, or 1d for a day\"\n      >\n        <Input\n          id={`${baseId}-offset`}\n          onBlur={(e) =>\n            dispatch(changeBucketAggregationSetting({ bucketAgg, settingName: 'offset', newValue: e.target.value }))\n          }\n          defaultValue={bucketAgg.settings?.offset || bucketAggregationConfig.date_histogram.defaultSettings?.offset}\n        />\n      </InlineField>\n\n      <InlineField label=\"Timezone\" {...inlineFieldProps}>\n        <TimeZonePicker\n          value={bucketAgg.settings?.timeZone || bucketAggregationConfig.date_histogram.defaultSettings?.timeZone}\n          includeInternal={[InternalTimeZones.utc]}\n          onChange={(timeZone) => {\n            dispatch(changeBucketAggregationSetting({ bucketAgg, settingName: 'timeZone', newValue: timeZone }));\n          }}\n        />\n      </InlineField>\n    </>\n  );\n};\n","import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { IconButton } from './IconButton';\n\ninterface Props {\n  index: number;\n  elements: any[];\n  onAdd: () => void;\n  onRemove: () => void;\n}\n\n/**\n * A component used to show add & remove buttons for mutable lists of values. Wether to show or not the add or the remove buttons\n * depends on the `index` and `elements` props. This enforces a consistent experience whenever this pattern is used.\n */\nexport const AddRemove = ({ index, onAdd, onRemove, elements }: Props) => {\n  return (\n    <div\n      className={css`\n        display: flex;\n      `}\n    >\n      {index === 0 && <IconButton iconName=\"plus\" onClick={onAdd} label=\"add\" />}\n\n      {elements.length >= 2 && <IconButton iconName=\"minus\" onClick={onRemove} label=\"remove\" />}\n    </div>\n  );\n};\n","import { createAction } from '@reduxjs/toolkit';\n\nimport { Filter } from '../../../../../../types';\n\nexport const addFilter = createAction('@bucketAggregations/filter/add');\nexport const removeFilter = createAction<number>('@bucketAggregations/filter/remove');\nexport const changeFilter = createAction<{ index: number; filter: Filter }>('@bucketAggregations/filter/change');\n","import { Action } from 'redux';\n\nimport { Filter } from '../../../../../../types';\nimport { defaultFilter } from '../utils';\n\nimport { addFilter, changeFilter, removeFilter } from './actions';\n\nexport const reducer = (state: Filter[] = [], action: Action) => {\n  if (addFilter.match(action)) {\n    return [...state, defaultFilter()];\n  }\n\n  if (removeFilter.match(action)) {\n    return state.slice(0, action.payload).concat(state.slice(action.payload + 1));\n  }\n\n  if (changeFilter.match(action)) {\n    return state.map((filter, index) => {\n      if (index !== action.payload.index) {\n        return filter;\n      }\n\n      return action.payload.filter;\n    });\n  }\n\n  return state;\n};\n","import { css } from '@emotion/css';\nimport { uniqueId } from 'lodash';\nimport React, { useEffect, useRef } from 'react';\n\nimport { InlineField, Input, QueryField } from '@grafana/ui';\n\nimport { useDispatch, useStatelessReducer } from '../../../../../hooks/useStatelessReducer';\nimport { Filters } from '../../../../../types';\nimport { AddRemove } from '../../../../AddRemove';\nimport { changeBucketAggregationSetting } from '../../state/actions';\n\nimport { addFilter, changeFilter, removeFilter } from './state/actions';\nimport { reducer as filtersReducer } from './state/reducer';\n\ninterface Props {\n  bucketAgg: Filters;\n}\n\nexport const FiltersSettingsEditor = ({ bucketAgg }: Props) => {\n  const { current: baseId } = useRef(uniqueId('es-filters-'));\n\n  const upperStateDispatch = useDispatch();\n\n  const dispatch = useStatelessReducer(\n    (newValue) => upperStateDispatch(changeBucketAggregationSetting({ bucketAgg, settingName: 'filters', newValue })),\n    bucketAgg.settings?.filters,\n    filtersReducer\n  );\n\n  // The model might not have filters (or an empty array of filters) in it because of the way it was built in previous versions of the datasource.\n  // If this is the case we add a default one.\n  useEffect(() => {\n    if (!bucketAgg.settings?.filters?.length) {\n      dispatch(addFilter());\n    }\n  }, [dispatch, bucketAgg.settings?.filters?.length]);\n\n  return (\n    <>\n      <div\n        className={css`\n          display: flex;\n          flex-direction: column;\n        `}\n      >\n        {bucketAgg.settings?.filters!.map((filter, index) => (\n          <div\n            key={index}\n            className={css`\n              display: flex;\n            `}\n          >\n            <InlineField label=\"Query\" labelWidth={8}>\n              <div\n                className={css`\n                  width: 150px;\n                `}\n              >\n                <QueryField\n                  placeholder=\"Lucene Query\"\n                  portalOrigin=\"elasticsearch\"\n                  onBlur={() => {}}\n                  onChange={(query) => dispatch(changeFilter({ index, filter: { ...filter, query } }))}\n                  query={filter.query}\n                />\n              </div>\n            </InlineField>\n            <InlineField label=\"Label\" labelWidth={8}>\n              <Input\n                width={16}\n                id={`${baseId}-label-${index}`}\n                placeholder=\"Label\"\n                onBlur={(e) => dispatch(changeFilter({ index, filter: { ...filter, label: e.target.value } }))}\n                defaultValue={filter.label}\n              />\n            </InlineField>\n            <AddRemove\n              index={index}\n              elements={bucketAgg.settings?.filters || []}\n              onAdd={() => dispatch(addFilter())}\n              onRemove={() => dispatch(removeFilter(index))}\n            />\n          </div>\n        ))}\n      </div>\n    </>\n  );\n};\n","import { uniqueId } from 'lodash';\nimport React, { useRef } from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { InlineField, Select, Input } from '@grafana/ui';\n\nimport { useDispatch } from '../../../../hooks/useStatelessReducer';\nimport { MetricAggregation, Percentiles, ExtendedStatMetaType, ExtendedStats, Terms } from '../../../../types';\nimport { describeMetric } from '../../../../utils';\nimport { useCreatableSelectPersistedBehaviour } from '../../../hooks/useCreatableSelectPersistedBehaviour';\nimport { useQuery } from '../../ElasticsearchQueryContext';\nimport { isPipelineAggregation } from '../../MetricAggregationsEditor/aggregations';\nimport { changeBucketAggregationSetting } from '../state/actions';\nimport { bucketAggregationConfig, orderByOptions, orderOptions, sizeOptions } from '../utils';\n\nimport { inlineFieldProps } from '.';\n\ninterface Props {\n  bucketAgg: Terms;\n}\n\nexport const TermsSettingsEditor = ({ bucketAgg }: Props) => {\n  const { metrics } = useQuery();\n  const orderBy = createOrderByOptions(metrics);\n  const { current: baseId } = useRef(uniqueId('es-terms-'));\n\n  const dispatch = useDispatch();\n\n  return (\n    <>\n      <InlineField label=\"Order\" {...inlineFieldProps}>\n        <Select\n          inputId={`${baseId}-order`}\n          onChange={(e) =>\n            dispatch(changeBucketAggregationSetting({ bucketAgg, settingName: 'order', newValue: e.value }))\n          }\n          options={orderOptions}\n          value={bucketAgg.settings?.order || bucketAggregationConfig.terms.defaultSettings?.order}\n        />\n      </InlineField>\n\n      <InlineField label=\"Size\" {...inlineFieldProps}>\n        <Select\n          inputId={`${baseId}-size`}\n          // TODO: isValidNewOption should only allow numbers & template variables\n          {...useCreatableSelectPersistedBehaviour({\n            options: sizeOptions,\n            value: bucketAgg.settings?.size || bucketAggregationConfig.terms.defaultSettings?.size,\n            onChange({ value }) {\n              dispatch(changeBucketAggregationSetting({ bucketAgg, settingName: 'size', newValue: value }));\n            },\n          })}\n        />\n      </InlineField>\n\n      <InlineField label=\"Min Doc Count\" {...inlineFieldProps}>\n        <Input\n          id={`${baseId}-min_doc_count`}\n          onBlur={(e) =>\n            dispatch(\n              changeBucketAggregationSetting({ bucketAgg, settingName: 'min_doc_count', newValue: e.target.value })\n            )\n          }\n          defaultValue={\n            bucketAgg.settings?.min_doc_count || bucketAggregationConfig.terms.defaultSettings?.min_doc_count\n          }\n        />\n      </InlineField>\n\n      <InlineField label=\"Order By\" {...inlineFieldProps}>\n        <Select\n          inputId={`${baseId}-order_by`}\n          onChange={(e) =>\n            dispatch(changeBucketAggregationSetting({ bucketAgg, settingName: 'orderBy', newValue: e.value }))\n          }\n          options={orderBy}\n          value={bucketAgg.settings?.orderBy || bucketAggregationConfig.terms.defaultSettings?.orderBy}\n        />\n      </InlineField>\n\n      {/* <InlineField label=\"Missing\" {...inlineFieldProps}>\n        <Input\n          id={`${baseId}-missing`}\n          onBlur={(e) =>\n            dispatch(changeBucketAggregationSetting({ bucketAgg, settingName: 'missing', newValue: e.target.value }))\n          }\n          defaultValue={bucketAgg.settings?.missing || bucketAggregationConfig.terms.defaultSettings?.missing}\n        />\n      </InlineField> */}\n    </>\n  );\n};\n\n/**\n * This returns the valid options for each of the enabled extended stat\n */\nfunction createOrderByOptionsForExtendedStats(metric: ExtendedStats): SelectableValue<string> {\n  if (!metric.meta) {\n    return [];\n  }\n  const metaKeys = Object.keys(metric.meta) as ExtendedStatMetaType[];\n  return metaKeys\n    .filter((key) => metric.meta?.[key])\n    .map((key) => {\n      let method = key as string;\n      // The bucket path for std_deviation_bounds.lower and std_deviation_bounds.upper\n      // is accessed via std_lower and std_upper, respectively.\n      if (key === 'std_deviation_bounds_lower') {\n        method = 'std_lower';\n      }\n      if (key === 'std_deviation_bounds_upper') {\n        method = 'std_upper';\n      }\n      return { label: `${describeMetric(metric)} (${method})`, value: `${metric.id}[${method}]` };\n    });\n}\n\n/**\n * This returns the valid options for each of the percents listed in the percentile settings\n */\nfunction createOrderByOptionsForPercentiles(metric: Percentiles): Array<SelectableValue<string>> {\n  if (!metric.settings?.percents) {\n    return [];\n  }\n  return metric.settings.percents.map((percent) => {\n    // The bucket path for percentile numbers is appended with a `.0` if the number is whole\n    // otherwise you have to use the actual value.\n    const percentString = /^\\d+\\.\\d+/.test(`${percent}`) ? percent : `${percent}.0`;\n    return { label: `${describeMetric(metric)} (${percent})`, value: `${metric.id}[${percentString}]` };\n  });\n}\n\nfunction isValidOrderTarget(metric: MetricAggregation) {\n  return (\n    // top metrics can't be used for ordering\n    metric.type !== 'top_metrics' &&\n    // pipeline aggregations can't be used for ordering: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#search-aggregations-bucket-terms-aggregation-order\n    !isPipelineAggregation(metric)\n  );\n}\n\n/**\n * This creates all the valid order by options based on the metrics\n */\nexport const createOrderByOptions = (metrics: MetricAggregation[] = []): Array<SelectableValue<string>> => {\n  const metricOptions = metrics.filter(isValidOrderTarget).flatMap((metric) => {\n    if (metric.type === 'extended_stats') {\n      return createOrderByOptionsForExtendedStats(metric);\n    } else if (metric.type === 'percentiles') {\n      return createOrderByOptionsForPercentiles(metric);\n    } else {\n      return { label: describeMetric(metric), value: metric.id };\n    }\n  });\n  return [...orderByOptions, ...metricOptions];\n};\n","import { BucketAggregation } from '../../../../types';\nimport { describeMetric, convertOrderByToMetricId } from '../../../../utils';\nimport { useQuery } from '../../ElasticsearchQueryContext';\nimport { bucketAggregationConfig, orderByOptions, orderOptions } from '../utils';\n\nconst hasValue = (value: string) => (object: { value?: string }) => object.value === value;\n\n// FIXME: We should apply the same defaults we have in bucketAggregationsConfig here instead of \"custom\" values\n// as they might get out of sync.\n// The reason we need them is that even though after the refactoring each setting is created with its default value,\n// queries created with the old version might not have them.\nexport const useDescription = (bucketAgg: BucketAggregation): string => {\n  const { metrics } = useQuery();\n\n  switch (bucketAgg.type) {\n    case 'terms': {\n      const order = bucketAgg.settings?.order || 'desc';\n      const size = bucketAgg.settings?.size || '10';\n      const minDocCount = parseInt(bucketAgg.settings?.min_doc_count || '0', 10);\n      const orderBy = bucketAgg.settings?.orderBy || '_term';\n      let description = '';\n\n      if (size !== '0') {\n        const orderLabel = orderOptions.find(hasValue(order))?.label!;\n        description = `${orderLabel} ${size}, `;\n      }\n\n      if (minDocCount > 0) {\n        description += `Min Doc Count: ${minDocCount}, `;\n      }\n\n      description += 'Order by: ';\n      const orderByOption = orderByOptions.find(hasValue(orderBy));\n      if (orderByOption) {\n        description += orderByOption.label;\n      } else {\n        const metric = metrics?.find((m) => m.id === convertOrderByToMetricId(orderBy));\n        if (metric) {\n          description += describeMetric(metric);\n        } else {\n          description += 'metric not found';\n        }\n      }\n\n      if (size === '0') {\n        description += ` (${order})`;\n      }\n      return description;\n    }\n\n    case 'histogram': {\n      const interval = bucketAgg.settings?.interval || 1000;\n      const minDocCount = bucketAgg.settings?.min_doc_count || 1;\n\n      return `Interval: ${interval}${typeof minDocCount === 'number' && minDocCount > 0 ? `, Min Doc Count: ${minDocCount}` : ''}`;\n    }\n\n    case 'filters': {\n      const filters = bucketAgg.settings?.filters || bucketAggregationConfig['filters'].defaultSettings?.filters;\n      return `Filter Queries (${filters!.length})`;\n    }\n\n    case 'geohash_grid': {\n      const precision = Math.max(Math.min(parseInt(bucketAgg.settings?.precision || '5', 10), 12), 1);\n      return `Precision: ${precision}`;\n    }\n\n    case 'date_histogram': {\n      const interval = bucketAgg.settings?.interval || 'auto';\n      const minDocCount = bucketAgg.settings?.min_doc_count || 0;\n      const trimEdges = bucketAgg.settings?.trimEdges || 0;\n\n      let description = `Interval: ${interval}`;\n\n      if (typeof minDocCount === 'number' &&  minDocCount > 0) {\n        description += `, Min Doc Count: ${minDocCount}`;\n      }\n\n      if (typeof trimEdges === 'number' && trimEdges > 0) {\n        description += `, Trim edges: ${trimEdges}`;\n      }\n\n      return description;\n    }\n\n    default:\n      return 'Settings';\n  }\n};\n","import { uniqueId } from 'lodash';\nimport React, { ComponentProps, useRef } from 'react';\n\nimport { InlineField, Input } from '@grafana/ui';\n\nimport { useDispatch } from '../../../../hooks/useStatelessReducer';\nimport { BucketAggregation } from '../../../../types';\nimport { SettingsEditorContainer } from '../../SettingsEditorContainer';\nimport { changeBucketAggregationSetting } from '../state/actions';\nimport { bucketAggregationConfig } from '../utils';\n\nimport { DateHistogramSettingsEditor } from './DateHistogramSettingsEditor';\nimport { FiltersSettingsEditor } from './FiltersSettingsEditor';\nimport { TermsSettingsEditor } from './TermsSettingsEditor';\nimport { useDescription } from './useDescription';\n\nexport const inlineFieldProps: Partial<ComponentProps<typeof InlineField>> = {\n  labelWidth: 16,\n};\n\ninterface Props {\n  bucketAgg: BucketAggregation;\n}\n\nexport const SettingsEditor = ({ bucketAgg }: Props) => {\n  const { current: baseId } = useRef(uniqueId('es-setting-'));\n\n  const dispatch = useDispatch();\n\n  const settingsDescription = useDescription(bucketAgg);\n\n  return (\n    <SettingsEditorContainer label={settingsDescription}>\n      {bucketAgg.type === 'terms' && <TermsSettingsEditor bucketAgg={bucketAgg} />}\n      {bucketAgg.type === 'date_histogram' && <DateHistogramSettingsEditor bucketAgg={bucketAgg} />}\n      {bucketAgg.type === 'filters' && <FiltersSettingsEditor bucketAgg={bucketAgg} />}\n\n      {bucketAgg.type === 'geohash_grid' && (\n        <InlineField label=\"Precision\" {...inlineFieldProps}>\n          <Input\n            id={`${baseId}-geohash_grid-precision`}\n            onBlur={(e) =>\n              dispatch(\n                changeBucketAggregationSetting({ bucketAgg, settingName: 'precision', newValue: e.target.value })\n              )\n            }\n            defaultValue={\n              bucketAgg.settings?.precision || bucketAggregationConfig[bucketAgg.type].defaultSettings?.precision\n            }\n          />\n        </InlineField>\n      )}\n\n      {bucketAgg.type === 'histogram' && (\n        <>\n          <InlineField label=\"Interval\" {...inlineFieldProps}>\n            <Input\n              id={`${baseId}-histogram-interval`}\n              onBlur={(e) =>\n                dispatch(\n                  changeBucketAggregationSetting({ bucketAgg, settingName: 'interval', newValue: e.target.value })\n                )\n              }\n              defaultValue={\n                bucketAgg.settings?.interval || bucketAggregationConfig[bucketAgg.type].defaultSettings?.interval\n              }\n            />\n          </InlineField>\n\n          <InlineField label=\"Min Doc Count\" {...inlineFieldProps}>\n            <Input\n              id={`${baseId}-histogram-min_doc_count`}\n              onBlur={(e) =>\n                dispatch(\n                  changeBucketAggregationSetting({ bucketAgg, settingName: 'min_doc_count', newValue: e.target.value })\n                )\n              }\n              defaultValue={\n                bucketAgg.settings?.min_doc_count ||\n                bucketAggregationConfig[bucketAgg.type].defaultSettings?.min_doc_count\n              }\n            />\n          </InlineField>\n        </>\n      )}\n    </SettingsEditorContainer>\n  );\n};\n","import React from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { InlineSegmentGroup, Segment, SegmentAsync } from '@grafana/ui';\n\nimport { useFields } from '../../../hooks/useFields';\nimport { useDispatch } from '../../../hooks/useStatelessReducer';\nimport { segmentStyles } from '../styles';\n\nimport { BucketAggregation, BucketAggregationType } from './../../../types';\nimport { SettingsEditor } from './SettingsEditor';\nimport { isBucketAggregationWithField } from './aggregations';\nimport { changeBucketAggregationField, changeBucketAggregationType } from './state/actions';\nimport { bucketAggregationConfig } from './utils';\n\nconst QUICKWIT_SUPPORTED_BUCKET_AGGREGATIONS = [\n  'date_histogram',\n  'terms',\n  'histogram'\n];\n\nconst bucketAggOptions: Array<SelectableValue<BucketAggregationType>> = Object.entries(bucketAggregationConfig).map(\n  ([key, { label }]) => ({\n    label,\n    value: key as BucketAggregationType,\n  })\n).filter(({ value }) => QUICKWIT_SUPPORTED_BUCKET_AGGREGATIONS.includes(value));\n\nconst toOption = (bucketAgg: BucketAggregation) => ({\n  label: bucketAggregationConfig[bucketAgg.type].label,\n  value: bucketAgg.type,\n});\n\ninterface QueryMetricEditorProps {\n  value: BucketAggregation;\n}\n\nexport const BucketAggregationEditor = ({ value }: QueryMetricEditorProps) => {\n  const dispatch = useDispatch();\n  const getFields = useFields(value.type);\n\n  return (\n    <>\n      <InlineSegmentGroup>\n        <Segment\n          className={segmentStyles}\n          options={bucketAggOptions}\n          onChange={(e) => dispatch(changeBucketAggregationType({ id: value.id, newType: e.value! }))}\n          value={toOption(value)}\n        />\n\n        {isBucketAggregationWithField(value) && (\n          <SegmentAsync\n            className={segmentStyles}\n            loadOptions={getFields}\n            onChange={(e) => dispatch(changeBucketAggregationField({ id: value.id, newField: e.value }))}\n            placeholder=\"Select Field\"\n            value={value.field}\n          />\n        )}\n      </InlineSegmentGroup>\n\n      <SettingsEditor bucketAgg={value} />\n    </>\n  );\n};\n","import React from 'react';\n\nimport { useDispatch } from '../../../hooks/useStatelessReducer';\nimport { IconButton } from '../../IconButton';\nimport { useQuery } from '../ElasticsearchQueryContext';\nimport { QueryEditorRow } from '../QueryEditorRow';\n\nimport { BucketAggregation } from './../../../types';\nimport { BucketAggregationEditor } from './BucketAggregationEditor';\nimport { addBucketAggregation, removeBucketAggregation } from './state/actions';\n\ninterface Props {\n  nextId: BucketAggregation['id'];\n}\n\nexport const BucketAggregationsEditor = ({ nextId }: Props) => {\n  const dispatch = useDispatch();\n  const { bucketAggs } = useQuery();\n  const totalBucketAggs = bucketAggs?.length || 0;\n\n  return (\n    <>\n      {bucketAggs!.map((bucketAgg, index) => (\n        <QueryEditorRow\n          key={`${bucketAgg.type}-${bucketAgg.id}`}\n          label={index === 0 ? 'Group By' : 'Then By'}\n          onRemoveClick={totalBucketAggs > 1 && (() => dispatch(removeBucketAggregation(bucketAgg.id)))}\n        >\n          <BucketAggregationEditor value={bucketAgg} />\n\n          {index === 0 && (\n            <IconButton iconName=\"plus\" onClick={() => dispatch(addBucketAggregation(nextId))} label=\"add\" />\n          )}\n        </QueryEditorRow>\n      ))}\n    </>\n  );\n};\n","import { css, cx } from '@emotion/css';\nimport React from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { Segment } from '@grafana/ui';\n\nimport { MetricAggregation } from '../types';\nimport { describeMetric } from '../utils';\n\nconst noWrap = css`\n  white-space: nowrap;\n`;\n\nconst toOption = (metric: MetricAggregation) => ({\n  label: describeMetric(metric),\n  value: metric,\n});\n\n\nconst toOptions = (metrics: MetricAggregation[]): Array<SelectableValue<MetricAggregation>> => metrics.map(toOption).filter((option) => {\n  return true;\n});\n\ninterface Props {\n  options: MetricAggregation[];\n  onChange: (e: SelectableValue<MetricAggregation>) => void;\n  className?: string;\n  value?: string;\n}\n\nexport const MetricPicker = ({ options, onChange, className, value }: Props) => {\n  const selectedOption = options.find((option) => option.id === value);\n\n  return (\n    <Segment\n      className={cx(className, noWrap)}\n      options={toOptions(options)}\n      onChange={onChange}\n      placeholder=\"Select Metric\"\n      value={!!selectedOption ? toOption(selectedOption) : undefined}\n    />\n  );\n};\n","import { uniqueId } from 'lodash';\nimport React, { ComponentProps, useState } from 'react';\n\nimport { InlineField, Input } from '@grafana/ui';\n\nimport { useDispatch } from '../../../../hooks/useStatelessReducer';\nimport { MetricAggregationWithSettings } from '../../../../types';\nimport { SettingKeyOf } from '../../../types';\nimport { changeMetricSetting } from '../state/actions';\n\ninterface Props<T extends MetricAggregationWithSettings, K extends SettingKeyOf<T>> {\n  label: string;\n  settingName: K;\n  metric: T;\n  placeholder?: ComponentProps<typeof Input>['placeholder'];\n  tooltip?: ComponentProps<typeof InlineField>['tooltip'];\n}\n\nexport function SettingField<T extends MetricAggregationWithSettings, K extends SettingKeyOf<T>>({\n  label,\n  settingName,\n  metric,\n  placeholder,\n  tooltip,\n}: Props<T, K>) {\n  const dispatch = useDispatch();\n  const [id] = useState(uniqueId(`es-field-id-`));\n  const settings = metric.settings;\n\n  let defaultValue = settings?.[settingName as keyof typeof settings] || '';\n\n  // if (settingName === 'script') {\n  //   defaultValue = getScriptValue(metric as MetricAggregationWithInlineScript);\n  // }\n\n  return (\n    <InlineField label={label} labelWidth={16} tooltip={tooltip}>\n      <Input\n        id={id}\n        placeholder={placeholder}\n        onBlur={(e) => dispatch(changeMetricSetting({ metric, settingName, newValue: e.target.value }))}\n        defaultValue={defaultValue}\n      />\n    </InlineField>\n  );\n}\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const addPipelineVariable = createAction('@pipelineVariables/add');\nexport const removePipelineVariable = createAction<number>('@pipelineVariables/remove');\n\nexport const renamePipelineVariable = createAction<{ index: number; newName: string }>('@pipelineVariables/rename');\n\nexport const changePipelineVariableMetric = createAction<{ index: number; newMetric: string }>(\n  '@pipelineVariables/change_metric'\n);\n","import { Action } from '@reduxjs/toolkit';\n\nimport { PipelineVariable } from '../../../../../../types';\nimport { defaultPipelineVariable, generatePipelineVariableName } from '../utils';\n\nimport {\n  addPipelineVariable,\n  changePipelineVariableMetric,\n  removePipelineVariable,\n  renamePipelineVariable,\n} from './actions';\n\nexport const reducer = (state: PipelineVariable[] = [], action: Action) => {\n  if (addPipelineVariable.match(action)) {\n    return [...state, defaultPipelineVariable(generatePipelineVariableName(state))];\n  }\n\n  if (removePipelineVariable.match(action)) {\n    return state.slice(0, action.payload).concat(state.slice(action.payload + 1));\n  }\n\n  if (renamePipelineVariable.match(action)) {\n    return state.map((pipelineVariable, index) => {\n      if (index !== action.payload.index) {\n        return pipelineVariable;\n      }\n\n      return {\n        ...pipelineVariable,\n        name: action.payload.newName,\n      };\n    });\n  }\n\n  if (changePipelineVariableMetric.match(action)) {\n    return state.map((pipelineVariable, index) => {\n      if (index !== action.payload.index) {\n        return pipelineVariable;\n      }\n\n      return {\n        ...pipelineVariable,\n        pipelineAgg: action.payload.newMetric,\n      };\n    });\n  }\n\n  return state;\n};\n","import { css } from '@emotion/css';\nimport { uniqueId } from 'lodash';\nimport React, { Fragment, useEffect } from 'react';\n\nimport { Input, InlineLabel } from '@grafana/ui';\n\nimport { useStatelessReducer, useDispatch } from '../../../../../hooks/useStatelessReducer';\nimport { BucketScript, MetricAggregation } from '../../../../../types';\nimport { AddRemove } from '../../../../AddRemove';\nimport { MetricPicker } from '../../../../MetricPicker';\nimport { changeMetricAttribute } from '../../state/actions';\nimport { SettingField } from '../SettingField';\n\nimport {\n  addPipelineVariable,\n  removePipelineVariable,\n  renamePipelineVariable,\n  changePipelineVariableMetric,\n} from './state/actions';\nimport { reducer } from './state/reducer';\n\ninterface Props {\n  value: BucketScript;\n  previousMetrics: MetricAggregation[];\n}\n\nexport const BucketScriptSettingsEditor = ({ value, previousMetrics }: Props) => {\n  const upperStateDispatch = useDispatch();\n\n  const dispatch = useStatelessReducer(\n    (newValue) =>\n      upperStateDispatch(changeMetricAttribute({ metric: value, attribute: 'pipelineVariables', newValue })),\n    value.pipelineVariables,\n    reducer\n  );\n\n  // The model might not have pipeline variables (or an empty array of pipeline vars) in it because of the way it was built in previous versions of the datasource.\n  // If this is the case we add a default one.\n  useEffect(() => {\n    if (!value.pipelineVariables?.length) {\n      dispatch(addPipelineVariable());\n    }\n  }, [dispatch, value.pipelineVariables?.length]);\n\n  return (\n    <>\n      <div\n        className={css`\n          display: flex;\n        `}\n      >\n        <InlineLabel width={16}>Variables</InlineLabel>\n        <div\n          className={css`\n            display: grid;\n            grid-template-columns: 1fr auto;\n            row-gap: 4px;\n            margin-bottom: 4px;\n          `}\n        >\n          {value.pipelineVariables!.map((pipelineVar, index) => (\n            // index as a key doesn't work here since removing an element\n            // in the middle of the list, will cause the next element to obtain the same key as the removed one.\n            // this will cause react to \"drop\" the last element of the list instead of the just removed one,\n            // and the default value for the input won't match the model as the DOM won't get updated.\n            // using pipelineVar.name is not an option since it might be duplicated by the user.\n            // generating a unique key on every render, while is probably not the best solution in terms of performance\n            // ensures the UI is in a correct state. We might want to optimize this if we see perf issue in the future.\n            <Fragment key={uniqueId('es-bs-')}>\n              <div\n                className={css`\n                  display: grid;\n                  column-gap: 4px;\n                  grid-template-columns: auto auto;\n                `}\n              >\n                <Input\n                  aria-label=\"Variable name\"\n                  defaultValue={pipelineVar.name}\n                  placeholder=\"Variable Name\"\n                  onBlur={(e) => dispatch(renamePipelineVariable({ newName: e.target.value, index }))}\n                />\n                <MetricPicker\n                  onChange={(e) => dispatch(changePipelineVariableMetric({ newMetric: e.value!.id, index }))}\n                  options={previousMetrics}\n                  value={pipelineVar.pipelineAgg}\n                />\n              </div>\n\n              <AddRemove\n                index={index}\n                elements={value.pipelineVariables || []}\n                onAdd={() => dispatch(addPipelineVariable())}\n                onRemove={() => dispatch(removePipelineVariable(index))}\n              />\n            </Fragment>\n          ))}\n        </div>\n      </div>\n\n      <SettingField\n        label=\"Script\"\n        metric={value}\n        settingName=\"script\"\n        tooltip=\"Elasticsearch v5.0 and above: Scripting language is Painless. Use params.<var> to reference a variable. Elasticsearch pre-v5.0: Scripting language is per default Groovy if not changed. For Groovy use <var> to reference a variable.\"\n        placeholder=\"params.var1 / params.var2\"\n      />\n    </>\n  );\n};\n","import { uniqueId } from 'lodash';\nimport React, { useRef } from 'react';\n\nimport { Input, InlineField, Select, InlineSwitch } from '@grafana/ui';\n\nimport { useDispatch } from '../../../../hooks/useStatelessReducer';\nimport { movingAvgModelOptions } from '../../../../queryDef';\nimport { MovingAverage } from '../../../../types';\nimport { isEWMAMovingAverage, isHoltMovingAverage, isHoltWintersMovingAverage } from '../aggregations';\nimport { changeMetricSetting } from '../state/actions';\n\nimport { SettingField } from './SettingField';\n\ninterface Props {\n  metric: MovingAverage;\n}\n\n// The way we handle changes for those settings is not ideal compared to the other components in the editor\n// FIXME: using `changeMetricSetting` will cause an error when switching from models that have different options\n// as they might be incompatible. We should clear all other options on model change.\nexport const MovingAverageSettingsEditor = ({ metric }: Props) => {\n  const dispatch = useDispatch();\n  const { current: baseId } = useRef(uniqueId('es-moving-avg-'));\n\n  return (\n    <>\n      <InlineField label=\"Model\" labelWidth={16}>\n        <Select\n          inputId={`${baseId}-model`}\n          onChange={(value) => dispatch(changeMetricSetting({ metric, settingName: 'model', newValue: value.value }))}\n          options={movingAvgModelOptions}\n          value={metric.settings?.model}\n        />\n      </InlineField>\n\n      <SettingField label=\"Window\" settingName=\"window\" metric={metric} placeholder=\"5\" />\n\n      <SettingField label=\"Predict\" settingName=\"predict\" metric={metric} />\n\n      {(isEWMAMovingAverage(metric) || isHoltMovingAverage(metric) || isHoltWintersMovingAverage(metric)) && (\n        <InlineField label=\"Alpha\" labelWidth={16}>\n          <Input\n            id={`${baseId}-alpha`}\n            onBlur={(e) =>\n              dispatch(\n                changeMetricSetting({\n                  metric,\n                  settingName: 'settings',\n                  newValue: {\n                    ...metric.settings?.settings,\n                    alpha: e.target.value,\n                  },\n                })\n              )\n            }\n            defaultValue={metric.settings?.settings?.alpha}\n          />\n        </InlineField>\n      )}\n\n      {(isHoltMovingAverage(metric) || isHoltWintersMovingAverage(metric)) && (\n        <InlineField label=\"Beta\" labelWidth={16}>\n          <Input\n            id={`${baseId}-beta`}\n            onBlur={(e) =>\n              dispatch(\n                changeMetricSetting({\n                  metric,\n                  settingName: 'settings',\n                  newValue: {\n                    ...metric.settings?.settings,\n                    beta: e.target.value,\n                  },\n                })\n              )\n            }\n            defaultValue={metric.settings?.settings?.beta}\n          />\n        </InlineField>\n      )}\n\n      {isHoltWintersMovingAverage(metric) && (\n        <>\n          <InlineField label=\"Gamma\" labelWidth={16}>\n            <Input\n              id={`${baseId}-gamma`}\n              onBlur={(e) =>\n                dispatch(\n                  changeMetricSetting({\n                    metric,\n                    settingName: 'settings',\n                    newValue: {\n                      ...metric.settings?.settings,\n                      gamma: e.target.value,\n                    },\n                  })\n                )\n              }\n              defaultValue={metric.settings?.settings?.gamma}\n            />\n          </InlineField>\n          <InlineField label=\"Period\" labelWidth={16}>\n            <Input\n              id={`${baseId}-period`}\n              onBlur={(e) =>\n                dispatch(\n                  changeMetricSetting({\n                    metric,\n                    settingName: 'settings',\n                    newValue: {\n                      ...metric.settings?.settings,\n                      period: e.target.value!,\n                    },\n                  })\n                )\n              }\n              defaultValue={metric.settings?.settings?.period}\n            />\n          </InlineField>\n\n          <InlineField label=\"Pad\" labelWidth={16}>\n            <InlineSwitch\n              id={`${baseId}-pad`}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                dispatch(\n                  changeMetricSetting({\n                    metric,\n                    settingName: 'settings',\n                    newValue: { ...metric.settings?.settings, pad: e.target.checked },\n                  })\n                )\n              }\n              checked={!!metric.settings?.settings?.pad}\n            />\n          </InlineField>\n        </>\n      )}\n\n      {(isEWMAMovingAverage(metric) || isHoltMovingAverage(metric) || isHoltWintersMovingAverage(metric)) && (\n        <InlineField label=\"Minimize\" labelWidth={16}>\n          <InlineSwitch\n            id={`${baseId}-minimize`}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n              dispatch(changeMetricSetting({ metric, settingName: 'minimize', newValue: e.target.checked }))\n            }\n            checked={!!metric.settings?.minimize}\n          />\n        </InlineField>\n      )}\n    </>\n  );\n};\n","import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { AsyncMultiSelect, InlineField, SegmentAsync, Select } from '@grafana/ui';\n\nimport { useFields } from '../../../../hooks/useFields';\nimport { useDispatch } from '../../../../hooks/useStatelessReducer';\nimport { TopMetrics } from '../../../../types';\nimport { orderOptions } from '../../BucketAggregationsEditor/utils';\nimport { changeMetricSetting } from '../state/actions';\n\ninterface Props {\n  metric: TopMetrics;\n}\n\nconst toMultiSelectValue = (value: string): SelectableValue<string> => ({ value, label: value });\n\nexport const TopMetricsSettingsEditor = ({ metric }: Props) => {\n  const dispatch = useDispatch();\n  const getOrderByOptions = useFields(['number', 'date']);\n  const getMetricsOptions = useFields(metric.type);\n\n  return (\n    <>\n      <InlineField label=\"Metrics\" labelWidth={16}>\n        <AsyncMultiSelect\n          onChange={(e) =>\n            dispatch(\n              changeMetricSetting({\n                metric,\n                settingName: 'metrics',\n                newValue: e.map((v) => v.value!),\n              })\n            )\n          }\n          loadOptions={getMetricsOptions}\n          value={metric.settings?.metrics?.map(toMultiSelectValue)}\n          closeMenuOnSelect={false}\n          defaultOptions\n        />\n      </InlineField>\n      <InlineField label=\"Order\" labelWidth={16}>\n        <Select\n          onChange={(e) => dispatch(changeMetricSetting({ metric, settingName: 'order', newValue: e.value }))}\n          options={orderOptions}\n          value={metric.settings?.order}\n        />\n      </InlineField>\n      <InlineField\n        label=\"Order By\"\n        labelWidth={16}\n        className={css`\n          & > div {\n            width: 100%;\n          }\n        `}\n      >\n        <SegmentAsync\n          className={css`\n            margin-right: 0;\n          `}\n          loadOptions={getOrderByOptions}\n          onChange={(e) => dispatch(changeMetricSetting({ metric, settingName: 'orderBy', newValue: e.value }))}\n          placeholder=\"Select Field\"\n          value={metric.settings?.orderBy}\n        />\n      </InlineField>\n    </>\n  );\n};\n","import { uniqueId } from 'lodash';\nimport React, { ComponentProps, useRef, useState } from 'react';\nimport { InlineField, Input, InlineSwitch, Select } from '@grafana/ui';\n\nimport { useDispatch } from '../../../../hooks/useStatelessReducer';\nimport { extendedStats } from '../../../../queryDef';\nimport { MetricAggregation, ExtendedStat } from '../../../../types';\nimport { useQuery } from '../../ElasticsearchQueryContext';\nimport { SettingsEditorContainer } from '../../SettingsEditorContainer';\nimport { isMetricAggregationWithMissingSupport } from '../aggregations';\nimport { changeMetricMeta, changeMetricSetting } from '../state/actions';\nimport { metricAggregationConfig } from '../utils';\n\nimport { BucketScriptSettingsEditor } from './BucketScriptSettingsEditor';\nimport { MovingAverageSettingsEditor } from './MovingAverageSettingsEditor';\nimport { SettingField } from './SettingField';\nimport { TopMetricsSettingsEditor } from './TopMetricsSettingsEditor';\nimport { useDescription } from './useDescription';\n\n// TODO: Move this somewhere and share it with BucketsAggregation Editor\nconst inlineFieldProps: Partial<ComponentProps<typeof InlineField>> = {\n  labelWidth: 16,\n};\n\ninterface Props {\n  metric: MetricAggregation;\n  previousMetrics: MetricAggregation[];\n}\n\nexport const SettingsEditor = ({ metric, previousMetrics }: Props) => {\n  const { current: baseId } = useRef(uniqueId('es-setting-'));\n\n  const dispatch = useDispatch();\n  const description = useDescription(metric);\n  const query = useQuery();\n\n  const rateAggUnitOptions = [\n    { value: 'second', label: 'Second' },\n    { value: 'minute', label: 'Minute' },\n    { value: 'hour', label: 'Hour' },\n    { value: 'day', label: 'Day' },\n    { value: 'week', label: 'Week' },\n    { value: 'month', label: 'Month' },\n    { value: 'quarter', label: 'Quarter' },\n    { value: 'Year', label: 'Year' },\n  ];\n\n  const rateAggModeOptions = [\n    { value: 'sum', label: 'Sum' },\n    { value: 'value_count', label: 'Value count' },\n  ];\n\n  return (\n    <SettingsEditorContainer label={description} hidden={metric.hide}>\n      {metric.type === 'derivative' && <SettingField label=\"Unit\" metric={metric} settingName=\"unit\" />}\n\n      {metric.type === 'serial_diff' && <SettingField label=\"Lag\" metric={metric} settingName=\"lag\" placeholder=\"1\" />}\n\n      {metric.type === 'cumulative_sum' && <SettingField label=\"Format\" metric={metric} settingName=\"format\" />}\n\n      {metric.type === 'moving_avg' && <MovingAverageSettingsEditor metric={metric} />}\n\n      {metric.type === 'moving_fn' && (\n        <>\n          <SettingField label=\"Window\" metric={metric} settingName=\"window\" />\n          <SettingField label=\"Script\" metric={metric} settingName=\"script\" />\n          <SettingField label=\"Shift\" metric={metric} settingName=\"shift\" />\n        </>\n      )}\n\n      {metric.type === 'top_metrics' && <TopMetricsSettingsEditor metric={metric} />}\n\n      {metric.type === 'bucket_script' && (\n        <BucketScriptSettingsEditor value={metric} previousMetrics={previousMetrics} />\n      )}\n\n      {(metric.type === 'raw_data' || metric.type === 'raw_document') && (\n        <InlineField label=\"Size\" {...inlineFieldProps}>\n          <Input\n            id={`ES-query-${query.refId}_metric-${metric.id}-size`}\n            onBlur={(e) => dispatch(changeMetricSetting({ metric, settingName: 'size', newValue: e.target.value }))}\n            defaultValue={metric.settings?.size ?? metricAggregationConfig['raw_data'].defaults.settings?.size}\n          />\n        </InlineField>\n      )}\n\n      {metric.type === 'logs' && <SettingField label=\"Limit\" metric={metric} settingName=\"limit\" placeholder=\"100\" />}\n\n      {metric.type === 'cardinality' && (\n        <SettingField label=\"Precision Threshold\" metric={metric} settingName=\"precision_threshold\" />\n      )}\n\n      {metric.type === 'extended_stats' && (\n        <>\n          {extendedStats.map((stat) => (\n            <ExtendedStatSetting\n              key={stat.value}\n              stat={stat}\n              onChange={(newValue) => dispatch(changeMetricMeta({ metric, meta: stat.value, newValue }))}\n              value={\n                metric.meta?.[stat.value] !== undefined\n                  ? !!metric.meta?.[stat.value]\n                  : !!metricAggregationConfig['extended_stats'].defaults.meta?.[stat.value]\n              }\n            />\n          ))}\n\n          <SettingField label=\"Sigma\" metric={metric} settingName=\"sigma\" placeholder=\"3\" />\n        </>\n      )}\n\n      {metric.type === 'percentiles' && (\n        <InlineField label=\"Percentiles\" {...inlineFieldProps}>\n          <Input\n            id={`${baseId}-percentiles-percents`}\n            onBlur={(e) =>\n              dispatch(\n                changeMetricSetting({\n                  metric,\n                  settingName: 'percents',\n                  newValue: e.target.value.split(',').filter(Boolean),\n                })\n              )\n            }\n            defaultValue={\n              metric.settings?.percents || metricAggregationConfig['percentiles'].defaults.settings?.percents\n            }\n            placeholder=\"1,5,25,50,75,95,99\"\n          />\n        </InlineField>\n      )}\n\n      {metric.type === 'rate' && (\n        <>\n          <InlineField label=\"Unit\" {...inlineFieldProps} data-testid=\"unit-select\">\n            <Select\n              id={`ES-query-${query.refId}_metric-${metric.id}-unit`}\n              onChange={(e) => dispatch(changeMetricSetting({ metric, settingName: 'unit', newValue: e.value }))}\n              options={rateAggUnitOptions}\n              value={metric.settings?.unit}\n            />\n          </InlineField>\n\n          <InlineField label=\"Mode\" {...inlineFieldProps} data-testid=\"mode-select\">\n            <Select\n              id={`ES-query-${query.refId}_metric-${metric.id}-mode`}\n              onChange={(e) => dispatch(changeMetricSetting({ metric, settingName: 'mode', newValue: e.value }))}\n              options={rateAggModeOptions}\n              value={metric.settings?.unit}\n            />\n          </InlineField>\n        </>\n      )}\n\n      {isMetricAggregationWithMissingSupport(metric) && (\n        <SettingField\n          label=\"Missing\"\n          metric={metric}\n          settingName=\"missing\"\n          tooltip=\"The missing parameter defines how documents that are missing a value should be treated. By default\n            they will be ignored but it is also possible to treat them as if they had a value\"\n        />\n      )}\n    </SettingsEditorContainer>\n  );\n};\n\ninterface ExtendedStatSettingProps {\n  stat: ExtendedStat;\n  onChange: (checked: boolean) => void;\n  value: boolean;\n}\nconst ExtendedStatSetting = ({ stat, onChange, value }: ExtendedStatSettingProps) => {\n  // this is needed for the htmlFor prop in the label so that clicking the label will toggle the switch state.\n  const [id] = useState(uniqueId(`es-field-id-`));\n\n  return (\n    <InlineField label={stat.label} {...inlineFieldProps} key={stat.value}>\n      <InlineSwitch\n        id={id}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => onChange(e.target.checked)}\n        value={value}\n      />\n    </InlineField>\n  );\n};\n","import { extendedStats } from 'queryDef';\nimport { MetricAggregation } from '../../../../types';\n\nconst hasValue = (value: string) => (object: { value: string }) => object.value === value;\n\n// FIXME: All the defaults and validations down here should be defined somewhere else\n// as they are also the defaults that are gonna be applied to the query.\n// In the previous version, the same method was taking care of describing the settings and setting defaults.\nexport const useDescription = (metric: MetricAggregation): string => {\n  switch (metric.type) {\n    case 'cardinality': {\n      const precisionThreshold = metric.settings?.precision_threshold || '';\n      return `Precision threshold: ${precisionThreshold}`;\n    }\n\n    case 'percentiles':\n      if (metric.settings?.percents && metric.settings?.percents?.length >= 1) {\n        return `Values: ${metric.settings?.percents}`;\n      }\n\n      return 'Percents: Default';\n\n    case 'extended_stats': {\n      const selectedStats = Object.entries(metric.meta || {})\n        .map(([key, value]) => value && extendedStats.find(hasValue(key))?.label)\n        .filter(Boolean);\n\n      return `Stats: ${selectedStats.length > 0 ? selectedStats.join(', ') : 'None selected'}`;\n    }\n\n    case 'raw_document':\n    case 'raw_data': {\n      const size = metric.settings?.size || 100;\n      return `Size: ${size}`;\n    }\n\n    default:\n      return 'Options';\n  }\n};\n","import { cx } from '@emotion/css';\nimport React, { useCallback } from 'react';\n// import { satisfies, SemVer } from 'semver';\n\nimport { SelectableValue } from '@grafana/data';\nimport { InlineSegmentGroup, SegmentAsync, useTheme2 } from '@grafana/ui';\n\nimport { useFields } from '../../../hooks/useFields';\nimport { useDispatch } from '../../../hooks/useStatelessReducer';\nimport { MetricAggregation, MetricAggregationType } from '../../../types';\nimport { MetricPicker } from '../../MetricPicker';\nimport { useQuery } from '../ElasticsearchQueryContext';\nimport { segmentStyles } from '../styles';\n\nimport { SettingsEditor } from './SettingsEditor';\nimport {\n  isMetricAggregationWithField,\n  isMetricAggregationWithSettings,\n  isPipelineAggregation,\n  isPipelineAggregationWithMultipleBucketPaths\n} from './aggregations';\nimport { changeMetricField, changeMetricType } from './state/actions';\nimport { getStyles } from './styles';\nimport { metricAggregationConfig } from './utils';\n\nconst toOption = (metric: MetricAggregation) => ({\n  label: metricAggregationConfig[metric.type].label,\n  value: metric.type,\n});\n\ninterface Props {\n  value: MetricAggregation;\n}\n\nconst QUICKWIT_SUPPORTED_METRICS = ['count', 'avg', 'sum', 'min', 'max', 'percentiles', 'raw_data', 'logs'];\n\nconst getTypeOptions = (\n  _: MetricAggregation[],\n): Array<SelectableValue<MetricAggregationType>> => {\n  return (\n    Object.entries(metricAggregationConfig)\n      .filter(([_, config]) => config.impliedQueryType === 'metrics')\n      .map(([key, { label }]) => ({\n        label,\n        value: key as MetricAggregationType,\n      }))\n      .filter((option) => {\n        return QUICKWIT_SUPPORTED_METRICS.includes(option.value);\n      })\n  );\n};\n\nexport const MetricEditor = ({ value }: Props) => {\n  const styles = getStyles(useTheme2(), !!value.hide);\n  const query = useQuery();\n  const dispatch = useDispatch();\n  const getFields = useFields(value.type);\n\n  const getTypeOptionsAsync = async (previousMetrics: MetricAggregation[]) => {\n    return getTypeOptions(previousMetrics);\n  };\n\n  const loadOptions = useCallback(async () => {\n    const remoteFields = await getFields();\n\n    return remoteFields;\n  }, [getFields]);\n\n  const previousMetrics = query.metrics!.slice(\n    0,\n    query.metrics!.findIndex((m) => m.id === value.id)\n  );\n\n  return (\n    <>\n      <InlineSegmentGroup>\n        <SegmentAsync\n          className={cx(styles.color, segmentStyles)}\n          loadOptions={() => getTypeOptionsAsync(previousMetrics)}\n          onChange={(e) => dispatch(changeMetricType({ id: value.id, type: e.value! }))}\n          value={toOption(value)}\n        />\n\n        {isMetricAggregationWithField(value) && !isPipelineAggregation(value) && (\n          <SegmentAsync\n            className={cx(styles.color, segmentStyles)}\n            loadOptions={loadOptions}\n            onChange={(e) => dispatch(changeMetricField({ id: value.id, field: e.value! }))}\n            placeholder=\"Select Field\"\n            value={value.field}\n          />\n        )}\n\n        {isPipelineAggregation(value) && !isPipelineAggregationWithMultipleBucketPaths(value) && (\n          <MetricPicker\n            className={cx(styles.color, segmentStyles)}\n            onChange={(e) => dispatch(changeMetricField({ id: value.id, field: e.value?.id! }))}\n            options={previousMetrics}\n            value={value.field}\n          />\n        )}\n      </InlineSegmentGroup>\n\n      {isMetricAggregationWithSettings(value) && <SettingsEditor metric={value} previousMetrics={previousMetrics} />}\n    </>\n  );\n};\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nexport const getStyles = (theme: GrafanaTheme2, hidden: boolean) => {\n  return {\n    color:\n      hidden &&\n      css`\n        &,\n        &:hover,\n        label,\n        a {\n          color: ${hidden ? theme.colors.text.disabled : theme.colors.text.primary};\n        }\n      `,\n  };\n};\n","import React from 'react';\n\nimport { InlineFieldRow, InlineLabel, InlineSegmentGroup } from '@grafana/ui';\n\nimport { MetricAggregation } from '../../types';\n\nimport { SettingsEditor } from './MetricAggregationsEditor/SettingsEditor';\n\ntype Props = {\n  name: string;\n  metric: MetricAggregation;\n};\n\nexport const QueryEditorSpecialMetricRow = ({ name, metric }: Props) => {\n  // this widget is only used in scenarios when there is only a single\n  // metric, so the array of \"previousMetrics\" (meaning all the metrics\n  // before the current metric), is an ampty-array\n  const previousMetrics: MetricAggregation[] = [];\n\n  return (\n    <InlineFieldRow>\n      <InlineSegmentGroup>\n        <InlineLabel width={17} as=\"div\">\n          <span>{name}</span>\n        </InlineLabel>\n      </InlineSegmentGroup>\n      <SettingsEditor metric={metric} previousMetrics={previousMetrics} />\n    </InlineFieldRow>\n  );\n};\n","import React from 'react';\n\nimport { useDispatch } from '../../../hooks/useStatelessReducer';\nimport { IconButton } from '../../IconButton';\nimport { useQuery } from '../ElasticsearchQueryContext';\nimport { QueryEditorRow } from '../QueryEditorRow';\n\nimport { MetricAggregation } from './../../../types';\nimport { MetricEditor } from './MetricEditor';\nimport { addMetric, removeMetric, toggleMetricVisibility } from './state/actions';\nimport { metricAggregationConfig } from './utils';\nimport { QueryEditorSpecialMetricRow } from '../QueryEditorSpecialMetricRow';\n\ninterface Props {\n  nextId: MetricAggregation['id'];\n}\n\nexport const MetricAggregationsEditor = ({ nextId }: Props) => {\n  const dispatch = useDispatch();\n  const { metrics } = useQuery();\n  const totalMetrics = metrics?.length || 0;\n\n  return (\n    <>\n      {metrics?.map((metric, index) => {\n        switch (metric.type) {\n          case 'logs':\n            return <QueryEditorSpecialMetricRow key={`${metric.type}-${metric.id}`} name=\"Logs\" metric={metric} />;\n          case 'raw_data':\n            return <QueryEditorSpecialMetricRow key={`${metric.type}-${metric.id}`} name=\"Raw Data\" metric={metric} />;\n          default:\n            return (\n              <QueryEditorRow\n                key={`${metric.type}-${metric.id}`}\n                label={`Metric (${metric.id})`}\n                hidden={metric.hide}\n                onHideClick={() => dispatch(toggleMetricVisibility(metric.id))}\n                onRemoveClick={totalMetrics > 1 && (() => dispatch(removeMetric(metric.id)))}\n              >\n                <MetricEditor value={metric} />\n\n                {metricAggregationConfig[metric.type].impliedQueryType === 'metrics' && index === 0 && (\n                  <IconButton iconName=\"plus\" onClick={() => dispatch(addMetric(nextId))} label=\"add\" />\n                )}\n              </QueryEditorRow>\n            );\n        }\n      })}\n    </>\n  );\n};\n","import React from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { RadioButtonGroup } from '@grafana/ui';\n\nimport { useDispatch } from '../../hooks/useStatelessReducer';\nimport { MetricAggregation, QueryType } from '../../types';\n\nimport { useQuery } from './ElasticsearchQueryContext';\nimport { changeMetricType } from './MetricAggregationsEditor/state/actions';\nimport { metricAggregationConfig } from './MetricAggregationsEditor/utils';\n\nconst OPTIONS: Array<SelectableValue<QueryType>> = [\n  { value: 'metrics', label: 'Metrics' },\n  { value: 'logs', label: 'Logs' },\n  { value: 'raw_data', label: 'Raw Data' },\n];\n\nfunction queryTypeToMetricType(type: QueryType): MetricAggregation['type'] {\n  switch (type) {\n    case 'logs':\n    case 'raw_data':\n      return type;\n    case 'metrics':\n      return 'count';\n    default:\n      // should never happen\n      throw new Error(`invalid query type: ${type}`);\n  }\n}\n\nexport const QueryTypeSelector = () => {\n  const query = useQuery();\n  const dispatch = useDispatch();\n\n  const firstMetric = query.metrics?.[0];\n\n  if (firstMetric == null) {\n    // not sure if this can really happen, but we should handle it anyway\n    return null;\n  }\n\n  const queryType = metricAggregationConfig[firstMetric.type].impliedQueryType;\n\n  const onChange = (newQueryType: QueryType) => {\n    dispatch(changeMetricType({ id: firstMetric.id, type: queryTypeToMetricType(newQueryType) }));\n  };\n\n  return <RadioButtonGroup<QueryType> fullWidth={false} options={OPTIONS} value={queryType} onChange={onChange} />;\n};\n","import { css } from '@emotion/css';\n\nimport React from 'react';\n\nimport { getDefaultTimeRange, GrafanaTheme2, QueryEditorProps } from '@grafana/data';\nimport { InlineLabel, QueryField, useStyles2 } from '@grafana/ui';\n\nimport { ElasticDatasource } from '../../datasource';\nimport { useNextId } from '../../hooks/useNextId';\nimport { useDispatch } from '../../hooks/useStatelessReducer';\nimport { ElasticsearchQuery } from '../../types';\n\nimport { BucketAggregationsEditor } from './BucketAggregationsEditor';\nimport { ElasticsearchProvider } from './ElasticsearchQueryContext';\nimport { MetricAggregationsEditor } from './MetricAggregationsEditor';\nimport { metricAggregationConfig } from './MetricAggregationsEditor/utils';\nimport { changeQuery } from './state';\nimport { QuickwitOptions } from 'quickwit';\nimport { QueryTypeSelector } from './QueryTypeSelector';\n\nexport type ElasticQueryEditorProps = QueryEditorProps<ElasticDatasource, ElasticsearchQuery, QuickwitOptions>;\n\nexport const QueryEditor = ({ query, onChange, onRunQuery, datasource, range, app }: ElasticQueryEditorProps) => {\n  return (\n    <ElasticsearchProvider\n      datasource={datasource}\n      onChange={onChange}\n      onRunQuery={onRunQuery}\n      query={query}\n      app={app}\n      range={range || getDefaultTimeRange()}\n    >\n      <QueryEditorForm value={query} />\n    </ElasticsearchProvider>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  root: css`\n    display: flex;\n  `,\n  queryItem: css`\n    flex-grow: 1;\n    margin: 0 ${theme.spacing(0.5)} ${theme.spacing(0.5)} 0;\n  `,\n});\n\ninterface Props {\n  value: ElasticsearchQuery;\n}\n\nexport const ElasticSearchQueryField = ({ value, onChange }: { value?: string; onChange: (v: string) => void }) => {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <div className={styles.queryItem}>\n      <QueryField\n        query={value}\n        // By default QueryField calls onChange if onBlur is not defined, this will trigger a rerender\n        // And slate will claim the focus, making it impossible to leave the field.\n        onBlur={() => {}}\n        onChange={onChange}\n        placeholder=\"Enter a lucene query\"\n        portalOrigin=\"elasticsearch\"\n      />\n    </div>\n  );\n};\n\nconst QueryEditorForm = ({ value }: Props) => {\n  const dispatch = useDispatch();\n  const nextId = useNextId();\n  const styles = useStyles2(getStyles);\n\n  const showBucketAggregationsEditor = value.metrics?.every(\n    (metric) => metricAggregationConfig[metric.type].impliedQueryType === 'metrics'\n  );\n\n  return (\n    <>\n      <div className={styles.root}>\n        <InlineLabel width={17}>Query type</InlineLabel>\n        <div className={styles.queryItem}>\n          <QueryTypeSelector />\n        </div>\n      </div>\n      <div className={styles.root}>\n        <InlineLabel width={17}>Lucene Query</InlineLabel>\n        <ElasticSearchQueryField onChange={(query) => dispatch(changeQuery(query))} value={value?.query} />\n      </div>\n\n      <MetricAggregationsEditor nextId={nextId} />\n      {showBucketAggregationsEditor && <BucketAggregationsEditor nextId={nextId} />}\n    </>\n  );\n};\n","import { DataSourcePlugin } from '@grafana/data';\nimport { QuickwitDataSource } from './datasource';\nimport { ConfigEditor } from './configuration/ConfigEditor';\nimport { QueryEditor } from './components/QueryEditor';\nimport { ElasticsearchQuery } from 'types';\nimport { QuickwitOptions } from 'quickwit';\n\nexport const plugin = new DataSourcePlugin<QuickwitDataSource, ElasticsearchQuery, QuickwitOptions>(QuickwitDataSource)\n  .setConfigEditor(ConfigEditor)\n  .setQueryEditor(QueryEditor);\n","import { DataSourceSettings } from '@grafana/data';\nimport { QuickwitOptions } from 'quickwit';\n\nexport const coerceOptions = (\n  options: DataSourceSettings<QuickwitOptions, {}>\n): DataSourceSettings<QuickwitOptions, {}> => {\n  return {\n    ...options,\n    jsonData: {\n      ...options.jsonData,\n      logMessageField: options.jsonData.logMessageField || '',\n      logLevelField: options.jsonData.logLevelField || '',\n    },\n  };\n};\n"],"names":["e","t","n","o","r","s","i","l","a","u","d","p","f","default","m","y","Object","assign","arguments","length","prototype","hasOwnProperty","call","apply","this","E","indexOf","getOwnPropertySymbols","propertyIsEnumerable","S","Symbol","iterator","next","done","push","value","error","return","A","Array","slice","concat","exports","Comparison","Logical","Value","Filter","Group","Column","Table","Parenthesis","Whitespace","Keyword","Delimiter","Operator","Identifier","IdentifierQuote","Type","Function","Number","String","Variable","Unknown","SelectKeyword","WithKeyword","AfterSelectKeyword","AfterSelectArguments","AfterSelectFuncFirstArgument","SelectAlias","AfterFromKeyword","AfterTable","SchemaFuncFirstArgument","SchemaFuncExtraArgument","FromKeyword","AfterFrom","WhereKeyword","WhereComparisonOperator","WhereValue","AfterWhereFunctionArgument","AfterGroupByFunctionArgument","AfterWhereValue","AfterGroupByKeywords","AfterGroupBy","AfterOrderByKeywords","AfterOrderByFunction","AfterOrderByDirection","AfterIsOperator","AfterIsNotOperator","AfterSchema","Schemas","Tables","Columns","FunctionsWithArguments","GroupByKeywords","OrderByKeywords","FunctionsWithoutArguments","LimitKeyword","SortOrderDirectionKeyword","ComparisonOperators","LogicalOperators","SelectMacro","TableMacro","FilterMacro","GroupMacro","BoolValues","NullValue","NotKeyword","TemplateVariables","StarWildCard","High","MediumHigh","Medium","MediumLow","Low","Method","Constructor","Field","Class","Struct","Interface","Module","Property","Event","Unit","Constant","Enum","EnumMember","Text","Color","File","Reference","Customcolor","Folder","TypeParameter","User","Issue","Snippet","KeepWhitespace","InsertAsSnippet","Builder","Code","type","range","previous","isKeyword","isWhiteSpace","isParenthesis","isIdentifier","isString","isNumber","isDoubleQuotedString","isVariable","isFunction","isOperator","isTemplateVariable","is","w","getPreviousNonWhiteSpaceToken","getPreviousOfType","getPreviousUntil","some","getNextUntil","getPreviousKeyword","getNextNonWhiteSpaceToken","getNextOfType","toLowerCase","toString","P","L","b","K","k","F","D","freeze","__proto__","SELECT","FROM","WHERE","GROUP","ORDER","BY","DESC","ASC","LIMIT","WITH","AS","SCHEMA","AND","OR","LOGICAL_OPERATORS","EQUALS","NOT_EQUALS","COMPARISON_OPERATORS","STD_OPERATORS","conf","comments","lineComment","blockComment","brackets","autoClosingPairs","open","close","surroundingPairs","language","defaultToken","tokenPostfix","ignoreCase","token","keywords","operators","logicalOperators","comparisonOperators","builtinFunctions","builtinVariables","pseudoColumns","tokenizer","root","include","cases","templateVariables","macros","schemaTable","whitespace","comment","numbers","strings","string","complexIdentifiers","bracketedIdentifier","quotedIdentifier","scopes","Uint8Array","J","Q","substr","ne","logger","attachDebugger","createLogger","Map","singleLineFullQuery","query","tokens","offset","singleLineFullQueryWithAggregation","multiLineFullQuery","multiLineFullQueryWithAggregation","singleLineEmptyQuery","singleLineTwoQueries","singleLineTwoQueriesWithAggregation","singleLineMultipleColumns","multiLineMultipleColumns","ve","Re","fe","children","useStyles2","useCallback","ce","createElement","className","css","display","flexDirection","direction","flexWrap","wrap","alignItems","gap","spacing","flexGrow","Ne","forwardRef","items","renderItem","onChange","map","key","splice","Button","ref","onClick","variant","size","icon","title","description","isCollapsible","isInitiallyOpen","kind","c","g","useTheme2","colors","T","typography","q","h","useState","v","R","C","I","x","header","justifyContent","margin","subtitle","fontWeight","fontWeightRegular","descriptionText","marginTop","marginBottom","bodySmall","color","text","secondary","content","IconButton","name","Le","NoAuth","BasicAuth","OAuthForward","CrossSiteCredentials","label","ConfigSubSection","module","__WEBPACK_EXTERNAL_MODULE__644__","__WEBPACK_EXTERNAL_MODULE__305__","__WEBPACK_EXTERNAL_MODULE__545__","__WEBPACK_EXTERNAL_MODULE__388__","__WEBPACK_EXTERNAL_MODULE__980__","__WEBPACK_EXTERNAL_MODULE__650__","__WEBPACK_EXTERNAL_MODULE__129__","__WEBPACK_EXTERNAL_MODULE__177__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","definition","defineProperty","enumerable","get","globalThis","window","obj","prop","toStringTag","operate","init","source","lift","hasLift","liftedSource","err","TypeError","extendStatics","setPrototypeOf","__extends","__","constructor","create","__generator","thisArg","body","_","sent","trys","ops","verb","op","pop","step","__values","__read","ar","__spreadArray","to","from","pack","__await","createImpl","ctorFunc","UnsubscriptionError","_super","errors","message","join","instance","Error","stack","arrRemove","arr","item","index","Subscription","initialTeardown","closed","_parentage","_finalizers","empty","unsubscribe","e_1","_a","e_2","_b","isArray","_parentage_1","_parentage_1_1","remove","e_1_1","initialFinalizer","_finalizers_1","_finalizers_1_1","finalizer","execFinalizer","e_2_1","add","teardown","_hasParent","_addParent","parent","includes","_removeParent","EMPTY","isSubscription","config","onUnhandledError","onStoppedNotification","Promise","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","setTimeout","handler","timeout","args","_i","delegate","clearTimeout","handle","reportUnhandledError","noop","COMPLETE_NOTIFICATION","createNotification","context","Subscriber","destination","_this","isStopped","EMPTY_OBSERVER","complete","SafeSubscriber","handleStoppedNotification","nextNotification","_next","_error","_complete","_bind","bind","fn","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context_1","errorThrown","notification","subscriber","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","closed_1","project","subscribe","isArrayLike","observable","identity","Observable","_subscribe","operator","isObserver","cb","isRoot","errorContext","_trySubscribe","sink","forEach","promiseCtor","getPromiseCtor","resolve","reject","pipe","operations","fns","input","reduce","prev","toPromise","innerFrom","isInteropObservable","obs","array","then","promise","fromPromise","asyncIterator","isAsyncIterable","fromAsyncIterable","isIterable","iterable","iterable_1","iterable_1_1","getReader","isReadableStreamLike","readableStream","_arguments","generator","resume","fulfill","settle","shift","__asyncGenerator","reader","read","releaseLock","readableStreamLikeToAsyncGenerator","createInvalidObservableTypeError","asyncIterable","asyncIterable_1","asyncIterable_1_1","fulfilled","rejected","result","__awaiter","__asyncValues","catch","mergeMap","resultSelector","concurrent","Infinity","ii","onBeforeNext","expand","innerSubScheduler","additionalFinalizer","buffer","active","isComplete","checkComplete","outerNext","doInnerSub","innerComplete","innerValue","_loop_1","bufferedValue","mergeInternals","catchError","selector","handledResult","innerSub","syncUnsub","LogRowContextQueryDirection","Backward","Forward","ElasticQueryBuilder","getRangeFilter","filter","timeField","gte","lte","getTermsQuery","queryDef","bool","query_string","aggs","terms","field","order","orderBy","keyname","options","GraphDrawStyle","GraphDrawStyle2","StackingMode","StackingMode2","BarAlignment","BarAlignment2","defaultPipelineVariable","pipelineAgg","generatePipelineVariableName","pipelineVars","Math","max","parseInt","match","isEWMAMovingAverage","metric","settings","model","isHoltMovingAverage","isHoltWintersMovingAverage","isMetricAggregationWithField","metricAggregationConfig","requiresField","isPipelineAggregation","isPipelineAgg","isPipelineAggregationWithMultipleBucketPaths","supportsMultipleBucketPaths","isMetricAggregationWithSettings","hasSettings","METRIC_AGGREGATION_TYPES","count","impliedQueryType","supportsMissing","hasMeta","supportsInlineScript","defaults","avg","sum","min","extended_stats","meta","std_deviation_bounds_lower","std_deviation_bounds_upper","percentiles","percents","cardinality","moving_avg","versionRange","moving_fn","derivative","serial_diff","lag","cumulative_sum","bucket_script","pipelineVariables","raw_document","raw_data","logs","limit","top_metrics","rate","getChildren","metrics","pv","id","flatMap","child","bucketAggregationConfig","defaultSettings","min_doc_count","filters","geohash_grid","precision","date_histogram","interval","trimEdges","timeZone","InternalTimeZones","utc","histogram","nested","orderByOptions","orderOptions","sizeOptions","isBucketAggregationWithField","bucketAgg","BUCKET_AGGREGATION_TYPES","ElasticsearchLanguageProvider","LanguageProvider","importFromAbstractQuery","abstractQuery","getElasticsearchQuery","labelMatchers","refId","labels","AbstractLabelOperator","Equal","NotEqual","EqualRegEx","NotEqualRegEx","datasource","initialValues","super","describeMetric","extractJsonPayload","msg","JSON","parse","removeEmpty","entries","acc","cleanObj","keys","fieldTypeMap","date","date_nanos","keyword","binary","byte","long","unsigned_long","double","integer","short","float","scaled_float","QuickwitDataSource","DataSourceWithBackend","request","response","data","dataFrame","dataLinks","fields","linksToApply","dataLink","links","generateDataLink","enhanceDataFrameWithDataLinks","status","lastValueFrom","getResource","indexMetadata","validateIndexConfig","of","err_source","timestampField","getAllFields","index_config","doc_mapping","field_mappings","find","json_path","timeOutputFormat","field_mapping","output_format","importFromAbstractQueries","abstractQueries","languageProvider","getDataProvider","getSupportedSupplementaryQueryTypes","SupplementaryQueryType","LogsVolume","getLogsVolumeDataProvider","getSupplementaryQuery","isQuerySuitable","bucketAggs","logLevelField","logsVolumeRequest","cloneDeep","targets","target","timespan","valueOf","intervalInfo","scopedVars","timespanMs","__interval_ms","intervalMs","SECOND","MILLISECOND","HOUR","DAY","MINUTE","getIntervalInfo","__interval","hideFromInspector","observer","logsVolumeData","state","LoadingState","Loading","queryResponse","subscription","isObservable","dataQueryResponse","framesByRefId","groupBy","sourceRefId","startsWith","logsVolumeCustomMetaData","logsVolumeType","LogsVolumeType","FullRange","absoluteRange","datasourceName","sourceQuery","dataQuery","custom","updateLogsVolumeConfig","extractLevel","queryLogsVolume","dataframe","displayNameFromDS","level","LogLevel","unknown","getLogLevelFromKey","modifyQuery","action","expression","getTerms","getDefaultTimeRange","stringify","ignore_unavailable","esQuery","queryBuilder","replace","postResource","headers","res","responses","aggregations","buckets","_map","bucket","key_as_string","getFields","aggregatable","_range","field_capabilities_response","field_name","field_capabilities","values","field_capability","getTagKeys","getTagValues","getQueryDisplayText","metricAggs","alias","showContextToggle","row","getLogRowContextUi","runContextQuery","filterQuery","hide","metricFindQuery","parsedQuery","interpolateLuceneQuery","queryString","templateSrv","formatQuery","interpolateVariablesInQueries","queries","applyTemplateVariables","expandedQuery","getRef","instanceSettings","getTemplateSrv","logMessageField","makeLogContextDataRequest","getLogRowContext","searchAfter","rowIndex","timeEpochNs","logQuery","sortDirection","timeRange","rowTimeEpochMs","dateTime","subtract","createContextTimeRange","timeEpochMs","raw","rangeUtil","calculateInterval","requestId","timezone","app","CoreApp","Explore","startTime","Date","now","contextRequest","statusText","settingsData","jsonData","timestampFieldName","timestamp_field","timestampFormat","format","child_field_mapping","path_segments","oneLevelDetected","FieldType","number","LogLevelColor","mode","FieldColorModeId","Fixed","fixedColor","drawStyle","Bars","barAlignment","Center","lineColor","pointColor","fillColor","lineWidth","fillOpacity","stacking","Normal","group","getLogVolumeFieldConfig","critical","warning","info","debug","trace","variable","luceneEscape","fieldName","quotedValues","val","isNaN","linkConfig","dataSourceSrv","getDataSourceSrv","datasourceUid","dsSettings","getInstanceSettings","urlDisplayLabel","url","internal","Divider","hideLine","styles","getStyles","hr","dividerHideLine","divider","theme","border","DataLink","props","onDelete","suggestions","showInternalLink","setShowInternalLink","previousUid","useRef","useEffect","current","useInternalLink","handleChange","event","currentTarget","div","firstRow","InlineField","htmlFor","labelWidth","tooltip","Input","width","preventDefault","InlineFieldRow","urlField","InlineLabel","DataLinkInput","placeholder","newValue","urlDisplayLabelField","InlineSwitch","DataSourcePicker","tracing","ds","uid","nameField","regexField","addButton","container","DataLinks","newField","newDataLinks","DataLinkBuiltInVars","valueRaw","documentation","origin","VariableOrigin","base64TraceId","QuickwitDataLinks","QuickwitDetails","FieldSet","useStatelessReducer","reducer","DispatchContext","createContext","useDispatch","dispatch","useContext","extendedStats","movingAvgModelOptions","defaultMetricAgg","defaultLogsAgg","defaultBucketAgg","getPrototypeOf","Z","nn","has","set","X","Set","rn","writable","configurable","clear","delete","isFrozen","tn","U","j","O","M","H","N","z","getOwnPropertyDescriptor","en","on","Proxy","revocable","revoke","proxy","G","W","B","Reflect","for","ownKeys","getOwnPropertyNames","getOwnPropertyDescriptors","deleteProperty","un","produce","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","path","$","an","il","__defProp","__defProps","defineProperties","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","__spreadValues","_c","__spreadProps","createAction","prepareAction","actionCreator","prepared","payload","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","__REDUX_DEVTOOLS_EXTENSION__","MiddlewareArray","species","prepend","EnhancerArray","commonProperties","RejectWithValue","FulfillWithMeta","miniSerializeError","simpleError","commonProperties_1","property","unwrapResult","rejectedWithValue","createAsyncThunk2","typePrefix","payloadCreator","arg","requestStatus","pending","serializeError","aborted","condition","AC","AbortController","class_1","signal","addEventListener","dispatchEvent","onabort","removeEventListener","reason","throwIfAborted","abort","getState","extra","abortReason","idGenerator","random","nanoid","abortController","promise2","__this","__arguments","finalAction","conditionResult","abortedPromise","err_1","getPendingMeta","race","rejectWithValue","fulfillWithValue","dispatchConditionRejection","throw","unwrap","withTypes","alm","queueMicrotask","requestAnimationFrame","addMetric","removeMetric","toggleMetricVisibility","changeMetricField","changeMetricType","changeMetricAttribute","changeMetricSetting","changeMetricMeta","initQuery","initExploreQuery","changeQuery","changeAliasPattern","queryReducer","prevQuery","aliasPatternReducer","prevAliasPattern","addBucketAggregation","removeBucketAggregation","changeBucketAggregationType","changeBucketAggregationField","changeBucketAggregationSetting","metricToRemove","metricsToRemove","resultingMetrics","toRemove","newMetric","newSettings","settingName","isMetricAggregationWithMeta","attribute","DatasourceContext","QueryContext","RangeContext","ElasticsearchProvider","onRunQuery","onStateChange","reducers","metricsReducer","defaultTimeField","lastAgg","newAgg","newType","newState","isUninitialized","shouldRunInit","setShouldRunInit","Provider","getHook","contextValue","useQuery","useDatasource","useRange","toId","toInt","idString","SROnly","iconName","buttonProps","button","cx","span","Icon","aria-hidden","QueryEditorRow","onRemoveClick","onHideClick","hidden","InlineSegmentGroup","as","iconWrapper","aria-pressed","aria-label","disabled","toSelectableValue","useFields","isMetricAggregationType","isBucketAggregationType","getFilter","rawFields","segmentStyles","SettingsEditorContainer","setOpen","wrapper","settingsWrapper","aria-expanded","useCreatableSelectPersistedBehaviour","initialOptions","setOptions","initialValue","searchValue","getInitialState","onCreateOption","allowCustomValue","defaultIntervalOptions","isValidNewOption","inputValue","trim","optionStartsWithValue","option","DateHistogramSettingsEditor","baseId","uniqueId","inlineFieldProps","Select","inputId","filterOption","onBlur","defaultValue","TimeZonePicker","includeInternal","AddRemove","onAdd","onRemove","elements","addFilter","removeFilter","changeFilter","FiltersSettingsEditor","upperStateDispatch","filtersReducer","QueryField","portalOrigin","TermsSettingsEditor","createOrderByOptions","isValidOrderTarget","metricOptions","method","createOrderByOptionsForExtendedStats","percent","percentString","test","createOrderByOptionsForPercentiles","hasValue","object","SettingsEditor","settingsDescription","minDocCount","orderByOption","metricIdMatches","convertOrderByToMetricId","useDescription","QUICKWIT_SUPPORTED_BUCKET_AGGREGATIONS","bucketAggOptions","BucketAggregationEditor","Segment","SegmentAsync","loadOptions","BucketAggregationsEditor","nextId","totalBucketAggs","noWrap","toOption","MetricPicker","selectedOption","SettingField","addPipelineVariable","removePipelineVariable","renamePipelineVariable","changePipelineVariableMetric","pipelineVariable","newName","BucketScriptSettingsEditor","previousMetrics","pipelineVar","Fragment","MovingAverageSettingsEditor","alpha","beta","gamma","period","pad","checked","minimize","toMultiSelectValue","TopMetricsSettingsEditor","getOrderByOptions","getMetricsOptions","AsyncMultiSelect","closeMenuOnSelect","defaultOptions","precision_threshold","selectedStats","Boolean","stat","ExtendedStatSetting","split","data-testid","unit","isMetricAggregationWithMissingSupport","QUICKWIT_SUPPORTED_METRICS","MetricEditor","primary","getTypeOptionsAsync","findIndex","QueryEditorSpecialMetricRow","MetricAggregationsEditor","totalMetrics","OPTIONS","queryTypeToMetricType","QueryTypeSelector","firstMetric","queryType","RadioButtonGroup","fullWidth","newQueryType","queryItem","ElasticSearchQueryField","QueryEditorForm","useMemo","useNextId","showBucketAggregationsEditor","every","plugin","DataSourcePlugin","setConfigEditor","originalOptions","onOptionsChange","coerceOptions","onSettingsChange","change","DataSourceHttpSettings","defaultUrl","dataSourceConfig","setQueryEditor"],"sourceRoot":""}